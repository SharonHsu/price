<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<style>body{background-color:white;}</style>
<script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbCgiKCIgKyBjb2RlICsgIikiKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBTeW50YXhFcnJvcikpIHsKICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHJlc3VsdCA9IGV2YWwoY29kZSk7CiAgICAgIH0gY2F0Y2goZSkgewogICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHsKICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIGluaXRTaXppbmcoZWwpIHsKICAgIHZhciBzaXppbmcgPSBzaXppbmdQb2xpY3koZWwpOwogICAgaWYgKCFzaXppbmcpCiAgICAgIHJldHVybjsKCiAgICB2YXIgY2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImh0bWx3aWRnZXRfY29udGFpbmVyIik7CiAgICBpZiAoIWNlbCkKICAgICAgcmV0dXJuOwoKICAgIGlmICh0eXBlb2Yoc2l6aW5nLnBhZGRpbmcpICE9PSAidW5kZWZpbmVkIikgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICIwIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nID0gcGFkZGluZ1RvQ3NzKHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpKTsKICAgIH0KCiAgICBpZiAoc2l6aW5nLmZpbGwpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBpZiAoY2VsKSB7CiAgICAgICAgY2VsLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgICAgICB2YXIgcGFkID0gdW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZyk7CiAgICAgICAgY2VsLnN0eWxlLnRvcCA9IHBhZC50b3AgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5yaWdodCA9IHBhZC5yaWdodCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmJvdHRvbSA9IHBhZC5ib3R0b20gKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5sZWZ0ID0gcGFkLmxlZnQgKyAicHgiOwogICAgICAgIGVsLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIGVsLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKCiAgICB9IGVsc2UgewogICAgICBlbC5zdHlsZS53aWR0aCA9IHB4KHNpemluZy53aWR0aCk7CiAgICAgIGVsLnN0eWxlLmhlaWdodCA9IHB4KHNpemluZy5oZWlnaHQpOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CiAgICB9CiAgfQoKICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9ucyBmb3IgbWV0aG9kcwogIHZhciBkZWZhdWx0cyA9IHsKICAgIGZpbmQ6IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgIHJldHVybiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCAiLiIgKyB0aGlzLm5hbWUpOwogICAgfSwKICAgIHJlbmRlckVycm9yOiBmdW5jdGlvbihlbCwgZXJyKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKCiAgICAgIHRoaXMuY2xlYXJFcnJvcihlbCk7CgogICAgICAvLyBBZGQgYWxsIHRoZXNlIGVycm9yIGNsYXNzZXMsIGFzIFNoaW55IGRvZXMKICAgICAgdmFyIGVyckNsYXNzID0gInNoaW55LW91dHB1dC1lcnJvciI7CiAgICAgIGlmIChlcnIudHlwZSAhPT0gbnVsbCkgewogICAgICAgIC8vIHVzZSB0aGUgY2xhc3NlcyBvZiB0aGUgZXJyb3IgY29uZGl0aW9uIGFzIENTUyBjbGFzcyBuYW1lcwogICAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiICIgKyAkLm1hcChhc0FycmF5KGVyci50eXBlKSwgZnVuY3Rpb24odHlwZSkgewogICAgICAgICAgcmV0dXJuIGVyckNsYXNzICsgIi0iICsgdHlwZTsKICAgICAgICB9KS5qb2luKCIgIik7CiAgICAgIH0KICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgaHRtbHdpZGdldHMtZXJyb3IiOwoKICAgICAgLy8gSXMgZWwgaW5saW5lIG9yIGJsb2NrPyBJZiBpbmxpbmUgb3IgaW5saW5lLWJsb2NrLCBqdXN0IGRpc3BsYXk6bm9uZSBpdAogICAgICAvLyBhbmQgYWRkIGFuIGlubGluZSBlcnJvci4KICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuY3NzKCJkaXNwbGF5Iik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIGRpc3BsYXkpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgJGVsLmhpZGUoKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JTcGFuID0gJCgiPHNwYW4+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpOwogICAgICAgICAgZXJyb3JTcGFuLnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yU3Bhbik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpIHsKICAgICAgICAvLyBJZiBibG9jaywgYWRkIGFuIGVycm9yIGp1c3QgYWZ0ZXIgdGhlIGVsLCBzZXQgdmlzaWJpbGl0eTpub25lIG9uIHRoZQogICAgICAgIC8vIGVsLCBhbmQgcG9zaXRpb24gdGhlIGVycm9yIHRvIGJlIG9uIHRvcCBvZiB0aGUgZWwuCiAgICAgICAgLy8gTWFyayBpdCB3aXRoIGEgdW5pcXVlIElEIGFuZCBDU1MgY2xhc3Mgc28gd2UgY2FuIHJlbW92ZSBpdCBsYXRlci4KICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvckRpdiA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKQogICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAvLyBzZXR0aW5nIHdpZHRoIGNhbiBwdXNoIG91dCB0aGUgcGFnZSBzaXplLCBmb3JjaW5nIG90aGVyd2lzZQogICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSBzY3JvbGxiYXJzIHRvIGFwcGVhciBhbmQgbWFraW5nIGl0IGltcG9zc2libGUgZm9yCiAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHRvIHNocmluazsgc28gdXNlIG1heC13aWR0aCBpbnN0ZWFkCiAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICBlcnJvckRpdi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvckRpdik7CgogICAgICAgICAgLy8gUmVhbGx5IGR1bWIgd2F5IHRvIGtlZXAgdGhlIHNpemUvcG9zaXRpb24gb2YgdGhlIGVycm9yIGluIHN5bmMgd2l0aAogICAgICAgICAgLy8gdGhlIHBhcmVudCBlbGVtZW50IGFzIHRoZSB3aW5kb3cgaXMgcmVzaXplZCBvciB3aGF0ZXZlci4KICAgICAgICAgIHZhciBpbnRJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoIWVycm9yRGl2WzBdLnBhcmVudEVsZW1lbnQpIHsKICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludElkKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3JEaXYKICAgICAgICAgICAgICAuY3NzKCJ0b3AiLCBlbC5vZmZzZXRUb3ApCiAgICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbihlbCkgewogICAgICB2YXIgJGVsID0gJChlbCk7CiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIik7CiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIG51bGwpOwoKICAgICAgaWYgKGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRpc3BsYXkgPT09ICJpbmxpbmUtYmxvY2siKSB7CiAgICAgICAgaWYgKGRpc3BsYXkpCiAgICAgICAgICAkZWwuY3NzKCJkaXNwbGF5IiwgZGlzcGxheSk7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKXsKICAgICAgICAkZWwuY3NzKCJ2aXNpYmlsaXR5IiwgImluaGVyaXQiKTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9CiAgICB9LAogICAgc2l6aW5nOiB7fQogIH07CgogIC8vIENhbGxlZCBieSB3aWRnZXQgYmluZGluZ3MgdG8gcmVnaXN0ZXIgYSBuZXcgdHlwZSBvZiB3aWRnZXQuIFRoZSBkZWZpbml0aW9uCiAgLy8gb2JqZWN0IGNhbiBjb250YWluIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAvLyAtIG5hbWUgKHJlcXVpcmVkKSAtIEEgc3RyaW5nIGluZGljYXRpbmcgdGhlIGJpbmRpbmcgbmFtZSwgd2hpY2ggd2lsbCBiZQogIC8vICAgdXNlZCBieSBkZWZhdWx0IGFzIHRoZSBDU1MgY2xhc3NuYW1lIHRvIGxvb2sgZm9yLgogIC8vIC0gaW5pdGlhbGl6ZSAob3B0aW9uYWwpIC0gQSBmdW5jdGlvbihlbCkgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgd2lkZ2V0IGVsZW1lbnQ7IGlmIGEgdmFsdWUgaXMgcmV0dXJuZWQsIGl0IHdpbGwgYmUgcGFzc2VkIGFzIHRoZSB0aGlyZAogIC8vICAgdmFsdWUgdG8gcmVuZGVyVmFsdWUuCiAgLy8gLSByZW5kZXJWYWx1ZSAocmVxdWlyZWQpIC0gQSBmdW5jdGlvbihlbCwgZGF0YSwgaW5pdFZhbHVlKSB0aGF0IHdpbGwgYmUKICAvLyAgIGNhbGxlZCB3aXRoIGRhdGEuIFN0YXRpYyBjb250ZXh0cyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICBlbGVtZW50OyBTaGlueSBhcHBzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgcGVyCiAgLy8gICBlbGVtZW50LCBhcyB0aGUgZGF0YSBjaGFuZ2VzLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXQgPSBmdW5jdGlvbihkZWZpbml0aW9uKSB7CiAgICBpZiAoIWRlZmluaXRpb24ubmFtZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSBuYW1lIik7CiAgICB9CiAgICBpZiAoIWRlZmluaXRpb24udHlwZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSB0eXBlIik7CiAgICB9CiAgICAvLyBDdXJyZW50bHkgd2Ugb25seSBzdXBwb3J0IG91dHB1dCB3aWRnZXRzCiAgICBpZiAoZGVmaW5pdGlvbi50eXBlICE9PSAib3V0cHV0IikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCB3aWRnZXQgdHlwZSAnIiArIGRlZmluaXRpb24udHlwZSArICInIik7CiAgICB9CiAgICAvLyBUT0RPOiBWZXJpZnkgdGhhdCAubmFtZSBpcyBhIHZhbGlkIENTUyBjbGFzc25hbWUKCiAgICAvLyBTdXBwb3J0IG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucy4gT2xkLXN0eWxlIGNsYXNzLWJvdW5kCiAgICAvLyBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQgIm9iamVjdCIgcGVyIHdpZGdldCBwZXIgdHlwZS9jbGFzcyBvZgogICAgLy8gd2lkZ2V0OyB0aGUgcmVuZGVyVmFsdWUgYW5kIHJlc2l6ZSBtZXRob2RzIG9uIHN1Y2ggd2lkZ2V0IG9iamVjdHMKICAgIC8vIHRha2UgZWwgYW5kIGluc3RhbmNlIGFyZ3VtZW50cywgYmVjYXVzZSB0aGUgd2lkZ2V0IG9iamVjdCBjYW4ndAogICAgLy8gc3RvcmUgdGhlbS4gTmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldAogICAgLy8gb2JqZWN0IHBlciB3aWRnZXQgaW5zdGFuY2U7IHRoZSBkZWZpbml0aW9uIHRoYXQncyBwYXNzZWQgaW4gZG9lc24ndAogICAgLy8gcHJvdmlkZSByZW5kZXJWYWx1ZSBvciByZXNpemUgbWV0aG9kcyBhdCBhbGwsIGp1c3QgdGhlIHNpbmdsZSBtZXRob2QKICAgIC8vICAgZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCkKICAgIC8vIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaGFzIHJlbmRlclZhbHVlKHgpIGFuZCByZXNpemUodywgaCkuCiAgICAvLyBUaGlzIGVuYWJsZXMgYSBmYXIgbW9yZSBuYXR1cmFsIHByb2dyYW1taW5nIHN0eWxlIGZvciB0aGUgd2lkZ2V0CiAgICAvLyBhdXRob3IsIHdobyBjYW4gc3RvcmUgcGVyLWluc3RhbmNlIHN0YXRlIHVzaW5nIGVpdGhlciBPTy1zdHlsZQogICAgLy8gaW5zdGFuY2UgZmllbGRzIG9yIGZ1bmN0aW9uYWwtc3R5bGUgY2xvc3VyZSB2YXJpYWJsZXMgKEkgZ3Vlc3MgdGhpcwogICAgLy8gaXMgaW4gY29udHJhc3QgdG8gd2hhdCBjYW4gb25seSBiZSBjYWxsZWQgQy1zdHlsZSBwc2V1ZG8tT08gd2hpY2ggaXMKICAgIC8vIHdoYXQgd2UgcmVxdWlyZWQgYmVmb3JlKS4KICAgIGlmIChkZWZpbml0aW9uLmZhY3RvcnkpIHsKICAgICAgZGVmaW5pdGlvbiA9IGNyZWF0ZUxlZ2FjeURlZmluaXRpb25BZGFwdGVyKGRlZmluaXRpb24pOwogICAgfQoKICAgIGlmICghZGVmaW5pdGlvbi5yZW5kZXJWYWx1ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSByZW5kZXJWYWx1ZSBmdW5jdGlvbiIpOwogICAgfQoKICAgIC8vIEZvciBzdGF0aWMgcmVuZGVyaW5nIChub24tU2hpbnkpLCB1c2UgYSBzaW1wbGUgd2lkZ2V0IHJlZ2lzdHJhdGlvbgogICAgLy8gc2NoZW1lLiBXZSBhbHNvIHVzZSB0aGlzIHNjaGVtZSBmb3IgU2hpbnkgYXBwcy9kb2N1bWVudHMgdGhhdCBhbHNvCiAgICAvLyBjb250YWluIHN0YXRpYyB3aWRnZXRzLgogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIC8vIE1lcmdlIGRlZmF1bHRzIGludG8gdGhlIGRlZmluaXRpb247IGRvbid0IG11dGF0ZSB0aGUgb3JpZ2luYWwgZGVmaW5pdGlvbi4KICAgIHZhciBzdGF0aWNCaW5kaW5nID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CiAgICBvdmVycmlkZU1ldGhvZChzdGF0aWNCaW5kaW5nLCAiZmluZCIsIGZ1bmN0aW9uKHN1cGVyZnVuYykgewogICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IHN1cGVyZnVuYyhzY29wZSk7CiAgICAgICAgLy8gRmlsdGVyIG91dCBTaGlueSBvdXRwdXRzLCB3ZSBvbmx5IHdhbnQgdGhlIHN0YXRpYyBraW5kCiAgICAgICAgcmV0dXJuIGZpbHRlckJ5Q2xhc3MocmVzdWx0cywgImh0bWwtd2lkZ2V0LW91dHB1dCIsIGZhbHNlKTsKICAgICAgfTsKICAgIH0pOwogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMucHVzaChzdGF0aWNCaW5kaW5nKTsKCiAgICBpZiAoc2hpbnlNb2RlKSB7CiAgICAgIC8vIFNoaW55IGlzIHJ1bm5pbmcuIFJlZ2lzdGVyIHRoZSBkZWZpbml0aW9uIHdpdGggYW4gb3V0cHV0IGJpbmRpbmcuCiAgICAgIC8vIFRoZSBkZWZpbml0aW9uIGl0c2VsZiB3aWxsIG5vdCBiZSB0aGUgb3V0cHV0IGJpbmRpbmcsIGluc3RlYWQKICAgICAgLy8gd2Ugd2lsbCBtYWtlIGFuIG91dHB1dCBiaW5kaW5nIG9iamVjdCB0aGF0IGRlbGVnYXRlcyB0byB0aGUKICAgICAgLy8gZGVmaW5pdGlvbi4gVGhpcyBpcyBiZWNhdXNlIHdlIGZvb2xpc2hseSB1c2VkIHRoZSBzYW1lIG1ldGhvZAogICAgICAvLyBuYW1lIChyZW5kZXJWYWx1ZSkgZm9yIGh0bWx3aWRnZXRzIGRlZmluaXRpb24gYW5kIFNoaW55IGJpbmRpbmdzCiAgICAgIC8vIGJ1dCB0aGV5IGFjdHVhbGx5IGhhdmUgcXVpdGUgZGlmZmVyZW50IHNlbWFudGljcyAodGhlIFNoaW55CiAgICAgIC8vIGJpbmRpbmdzIHJlY2VpdmUgZGF0YSB0aGF0IGluY2x1ZGVzIGxvdHMgb2YgbWV0YWRhdGEgdGhhdCBpdAogICAgICAvLyBzdHJpcHMgb2ZmIGJlZm9yZSBjYWxsaW5nIGh0bWx3aWRnZXRzIHJlbmRlclZhbHVlKS4gV2UgY2FuJ3QKICAgICAgLy8ganVzdCBpZ25vcmUgdGhlIGRpZmZlcmVuY2UgYmVjYXVzZSBpbiBzb21lIHdpZGdldHMgaXQncyBoZWxwZnVsCiAgICAgIC8vIHRvIGNhbGwgdGhpcy5yZW5kZXJWYWx1ZSgpIGZyb20gaW5zaWRlIG9mIHJlc2l6ZSgpLCBhbmQgaWYKICAgICAgLy8gd2UncmUgbm90IGRlbGVnYXRpbmcsIHRoZW4gdGhhdCBjYWxsIHdpbGwgZ28gdG8gdGhlIFNoaW55CiAgICAgIC8vIHZlcnNpb24gaW5zdGVhZCBvZiB0aGUgaHRtbHdpZGdldHMgdmVyc2lvbi4KCiAgICAgIC8vIE1lcmdlIGRlZmF1bHRzIHdpdGggZGVmaW5pdGlvbiwgd2l0aG91dCBtdXRhdGluZyBlaXRoZXIuCiAgICAgIHZhciBiaW5kaW5nRGVmID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CgogICAgICAvLyBUaGlzIG9iamVjdCB3aWxsIGJlIG91ciBhY3R1YWwgU2hpbnkgYmluZGluZy4KICAgICAgdmFyIHNoaW55QmluZGluZyA9IG5ldyBTaGlueS5PdXRwdXRCaW5kaW5nKCk7CgogICAgICAvLyBXaXRoIGEgZmV3IGV4Y2VwdGlvbnMsIHdlJ2xsIHdhbnQgdG8gc2ltcGx5IHVzZSB0aGUgYmluZGluZ0RlZidzCiAgICAgIC8vIHZlcnNpb24gb2YgbWV0aG9kcyBpZiB0aGV5IGFyZSBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsIGJhY2sgdG8KICAgICAgLy8gU2hpbnkncyBkZWZhdWx0cy4gTk9URTogSWYgU2hpbnkncyBvdXRwdXQgYmluZGluZ3MgZ2FpbiBhZGRpdGlvbmFsCiAgICAgIC8vIG1ldGhvZHMgaW4gdGhlIGZ1dHVyZSwgYW5kIHdlIHdhbnQgdGhlbSB0byBiZSBvdmVycmlkZWFibGUgYnkKICAgICAgLy8gSFRNTFdpZGdldCBiaW5kaW5nIGRlZmluaXRpb25zLCB0aGVuIHdlJ2xsIG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhpcwogICAgICAvLyBsaXN0LgogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJnZXRJZCIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlQ2hhbmdlIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJyZW5kZXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJjbGVhckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInNob3dQcm9ncmVzcyIpOwoKICAgICAgLy8gVGhlIGZpbmQsIHJlbmRlclZhbHVlLCBhbmQgcmVzaXplIGFyZSBoYW5kbGVkIGRpZmZlcmVudGx5LCBiZWNhdXNlIHdlCiAgICAgIC8vIHdhbnQgdG8gYWN0dWFsbHkgZGVjb3JhdGUgdGhlIGJlaGF2aW9yIG9mIHRoZSBiaW5kaW5nRGVmIG1ldGhvZHMuCgogICAgICBzaGlueUJpbmRpbmcuZmluZCA9IGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBiaW5kaW5nRGVmLmZpbmQoc2NvcGUpOwoKICAgICAgICAvLyBPbmx5IHJldHVybiBlbGVtZW50cyB0aGF0IGFyZSBTaGlueSBvdXRwdXRzLCBub3Qgc3RhdGljIG9uZXMKICAgICAgICB2YXIgZHluYW1pY1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigiLmh0bWwtd2lkZ2V0LW91dHB1dCIpOwoKICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2hhdGV2ZXIgY2F1c2VkIFNoaW55IHRvIHRoaW5rIHRoZXJlIG1pZ2h0IGJlCiAgICAgICAgLy8gbmV3IGR5bmFtaWMgb3V0cHV0cywgYWxzbyBjYXVzZWQgdGhlcmUgdG8gYmUgbmV3IHN0YXRpYyBvdXRwdXRzLgogICAgICAgIC8vIFNpbmNlIHRoZXJlIG1pZ2h0IGJlIGxvdHMgb2YgZGlmZmVyZW50IGh0bWx3aWRnZXRzIGJpbmRpbmdzLCB3ZQogICAgICAgIC8vIHNjaGVkdWxlIGV4ZWN1dGlvbiBmb3IgbGF0ZXItLW5vIG5lZWQgdG8gc3RhdGljUmVuZGVyIG11bHRpcGxlCiAgICAgICAgLy8gdGltZXMuCiAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoICE9PSBkeW5hbWljUmVzdWx0cy5sZW5ndGgpCiAgICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlcigpOwoKICAgICAgICByZXR1cm4gZHluYW1pY1Jlc3VsdHM7CiAgICAgIH07CgogICAgICAvLyBXcmFwIHJlbmRlclZhbHVlIHRvIGhhbmRsZSBpbml0aWFsaXphdGlvbiwgd2hpY2ggdW5mb3J0dW5hdGVseSBpc24ndAogICAgICAvLyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgU2hpbnkgYXQgdGhlIHRpbWUgb2YgdGhpcyB3cml0aW5nLgoKICAgICAgc2hpbnlCaW5kaW5nLnJlbmRlclZhbHVlID0gZnVuY3Rpb24oZWwsIGRhdGEpIHsKICAgICAgICBTaGlueS5yZW5kZXJEZXBlbmRlbmNpZXMoZGF0YS5kZXBzKTsKICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGRhdGEuZXZhbHMgJiYgaSA8IGRhdGEuZXZhbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNbaV0pOwogICAgICAgIH0KICAgICAgICBpZiAoIWJpbmRpbmdEZWYucmVuZGVyT25OdWxsVmFsdWUpIHsKICAgICAgICAgIGlmIChkYXRhLnggPT09IG51bGwpIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJoaWRkZW4iOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImluaGVyaXQiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIWVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgaW5pdFNpemluZyhlbCk7CgogICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIsIHRydWUpOwogICAgICAgICAgaWYgKGJpbmRpbmdEZWYuaW5pdGlhbGl6ZSkgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gYmluZGluZ0RlZi5pbml0aWFsaXplKGVsLCBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgcmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYmluZGluZ0RlZi5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpLCBbZWwsIGRhdGEueF0pOwogICAgICB9OwoKICAgICAgLy8gT25seSBvdmVycmlkZSByZXNpemUgaWYgYmluZGluZ0RlZiBpbXBsZW1lbnRzIGl0CiAgICAgIGlmIChiaW5kaW5nRGVmLnJlc2l6ZSkgewogICAgICAgIHNoaW55QmluZGluZy5yZXNpemUgPSBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgICAgICAgLy8gU2hpbnkgY2FuIGNhbGwgcmVzaXplIGJlZm9yZSBpbml0aWFsaXplL3JlbmRlclZhbHVlIGhhdmUgYmVlbgogICAgICAgICAgLy8gY2FsbGVkLCB3aGljaCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIHdpZGdldHMuCiAgICAgICAgICBpZiAoZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICAgIGJpbmRpbmdEZWYucmVzaXplKGVsLCB3aWR0aCwgaGVpZ2h0LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIFNoaW55Lm91dHB1dEJpbmRpbmdzLnJlZ2lzdGVyKHNoaW55QmluZGluZywgYmluZGluZ0RlZi5uYW1lKTsKICAgIH0KICB9OwoKICB2YXIgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICBmdW5jdGlvbiBzY2hlZHVsZVN0YXRpY1JlbmRlcigpIHsKICAgIGlmICghc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkKSB7CiAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsKICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7CiAgICAgIH0sIDEpOwogICAgfQogIH0KCiAgLy8gUmVuZGVyIHN0YXRpYyB3aWRnZXRzIGFmdGVyIHRoZSBkb2N1bWVudCBmaW5pc2hlcyBsb2FkaW5nCiAgLy8gU3RhdGljYWxseSByZW5kZXIgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIG9mIHRoaXMgd2lkZ2V0J3MgY2xhc3MKICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgYmluZGluZ3MgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsKICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKGJpbmRpbmcpIHsKICAgICAgdmFyIG1hdGNoZXMgPSBiaW5kaW5nLmZpbmQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTsKICAgICAgZm9yRWFjaChtYXRjaGVzLCBmdW5jdGlvbihlbCkgewogICAgICAgIHZhciBzaXplT2JqID0gaW5pdFNpemluZyhlbCwgYmluZGluZyk7CgogICAgICAgIGlmIChoYXNDbGFzcyhlbCwgImh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCIpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZSArICIgaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIjsKCiAgICAgICAgdmFyIGluaXRSZXN1bHQ7CiAgICAgICAgaWYgKGJpbmRpbmcuaW5pdGlhbGl6ZSkgewogICAgICAgICAgaW5pdFJlc3VsdCA9IGJpbmRpbmcuaW5pdGlhbGl6ZShlbCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgKTsKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCBpbml0UmVzdWx0KTsKICAgICAgICB9CgogICAgICAgIGlmIChiaW5kaW5nLnJlc2l6ZSkgewogICAgICAgICAgdmFyIGxhc3RTaXplID0gewogICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIGg6IHNpemVPYmogPyBzaXplT2JqLmdldEhlaWdodCgpIDogZWwub2Zmc2V0SGVpZ2h0CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciBzaXplID0gewogICAgICAgICAgICAgIHc6IHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSAwICYmIHNpemUuaCA9PT0gMCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChzaXplLncgPT09IGxhc3RTaXplLncgJiYgc2l6ZS5oID09PSBsYXN0U2l6ZS5oKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgbGFzdFNpemUgPSBzaXplOwogICAgICAgICAgICBiaW5kaW5nLnJlc2l6ZShlbCwgc2l6ZS53LCBzaXplLmgsIGluaXRSZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICBvbih3aW5kb3csICJyZXNpemUiLCByZXNpemVIYW5kbGVyKTsKCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY2FzZXMgd2hlcmUgd2UncmUgcnVubmluZyBpbiBhIFNoaW55CiAgICAgICAgICAvLyBhcHAsIGJ1dCB0aGUgd2lkZ2V0IGl0c2VsZiBpcyBub3QgYSBTaGlueSBvdXRwdXQsIGJ1dAogICAgICAgICAgLy8gcmF0aGVyIGEgc2ltcGxlIHN0YXRpYyB3aWRnZXQuIE9uZSBleGFtcGxlIG9mIHRoaXMgaXMKICAgICAgICAgIC8vIGFuIHJtYXJrZG93biBkb2N1bWVudCB0aGF0IGhhcyBydW50aW1lOnNoaW55IGFuZCB3aWRnZXQKICAgICAgICAgIC8vIHRoYXQgaXNuJ3QgaW4gYSByZW5kZXIgZnVuY3Rpb24uIFNoaW55IG9ubHkga25vd3MgdG8KICAgICAgICAgIC8vIGNhbGwgcmVzaXplIGhhbmRsZXJzIGZvciBTaGlueSBvdXRwdXRzLCBub3QgZm9yIHN0YXRpYwogICAgICAgICAgLy8gd2lkZ2V0cywgc28gd2UgZG8gaXQgb3Vyc2VsdmVzLgogICAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpIHsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgInNob3duLmh0bWx3aWRnZXRzIHNob3duLmJzLnRhYi5odG1sd2lkZ2V0cyBzaG93bi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigKICAgICAgICAgICAgICAiaGlkZGVuLmh0bWx3aWRnZXRzIGhpZGRlbi5icy50YWIuaHRtbHdpZGdldHMgaGlkZGVuLmJzLmNvbGxhcHNlLmh0bWx3aWRnZXRzIiwKICAgICAgICAgICAgICByZXNpemVIYW5kbGVyCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBzcGVjaWZpYyBjYXNlIG9mIGlvc2xpZGVzLCB3aGljaAogICAgICAgICAgLy8gZmxpcHMgc2xpZGVzIGJldHdlZW4gZGlzcGxheTpub25lIGFuZCBkaXNwbGF5OmJsb2NrLgogICAgICAgICAgLy8gSWRlYWxseSB3ZSB3b3VsZCBub3QgaGF2ZSB0byBoYXZlIGlvc2xpZGUtc3BlY2lmaWMgY29kZQogICAgICAgICAgLy8gaGVyZSwgYnV0IHJhdGhlciBoYXZlIGlvc2xpZGVzIHJhaXNlIGEgZ2VuZXJpYyBldmVudCwKICAgICAgICAgIC8vIGJ1dCB0aGUgcm1hcmtkb3duIHBhY2thZ2UganVzdCB3ZW50IHRvIENSQU4gc28gdGhlCiAgICAgICAgICAvLyB3aW5kb3cgdG8gZ2V0dGluZyB0aGF0IGZpeGVkIG1heSBiZSBsb25nLgogICAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgICAgICAgIC8vIEl0J3MgT0sgdG8gbGltaXQgdGhpcyB0byB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcgogICAgICAgICAgICAvLyBicm93c2VycyBiZWNhdXNlIGlvc2xpZGVzIGl0c2VsZiBvbmx5IHN1cHBvcnRzCiAgICAgICAgICAgIC8vIHN1Y2ggYnJvd3NlcnMuCiAgICAgICAgICAgIG9uKGRvY3VtZW50LCAic2xpZGVlbnRlciIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlbGVhdmUiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzY3JpcHREYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vanNvbiddIik7CiAgICAgICAgaWYgKHNjcmlwdERhdGEpIHsKICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzY3JpcHREYXRhLnRleHRDb250ZW50IHx8IHNjcmlwdERhdGEudGV4dCk7CiAgICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBkYXRhLmV2YWxzICYmIGsgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNba10pOwogICAgICAgICAgfQogICAgICAgICAgYmluZGluZy5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBpbml0UmVzdWx0KTsKICAgICAgICAgIGV2YWxBbmRSdW4oZGF0YS5qc0hvb2tzLnJlbmRlciwgaW5pdFJlc3VsdCwgW2VsLCBkYXRhLnhdKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CgogICAgaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCk7CiAgfQoKCiAgZnVuY3Rpb24gaGFzX2pRdWVyeTMoKSB7CiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgdmFyICR2ZXJzaW9uID0gd2luZG93LmpRdWVyeS5mbi5qcXVlcnk7CiAgICB2YXIgJG1ham9yX3ZlcnNpb24gPSBwYXJzZUludCgkdmVyc2lvbi5zcGxpdCgiLiIpWzBdKTsKICAgIHJldHVybiAkbWFqb3JfdmVyc2lvbiA+PSAzOwogIH0KCiAgLyoKICAvIFNoaW55IDEuNCBidW1wZWQgalF1ZXJ5IGZyb20gMS54IHRvIDMueCB3aGljaCBtZWFucyBqUXVlcnkncwogIC8gb24tcmVhZHkgaGFuZGxlciAoaS5lLiwgJChmbikpIGlzIG5vdyBhc3luY3Jvbm91cyAoaS5lLiwgaXQgbm93CiAgLyByZWFsbHkgbWVhbnMgJChzZXRUaW1lb3V0KGZuKSkuCiAgLyBodHRwczovL2pxdWVyeS5jb20vdXBncmFkZS1ndWlkZS8zLjAvI2JyZWFraW5nLWNoYW5nZS1kb2N1bWVudC1yZWFkeS1oYW5kbGVycy1hcmUtbm93LWFzeW5jaHJvbm91cwogIC8KICAvIFNpbmNlIFNoaW55IHVzZXMgJCgpIHRvIHNjaGVkdWxlIGluaXRTaGlueSwgc2hpbnk+PTEuNCBjYWxscyBpbml0U2hpbnkKICAvIG9uZSB0aWNrIGxhdGVyIHRoYW4gaXQgZGlkIGJlZm9yZSwgd2hpY2ggbWVhbnMgc3RhdGljUmVuZGVyKCkgaXMKICAvIGNhbGxlZCByZW5kZXJWYWx1ZSgpIGVhcmxpZXIgdGhhbiAoYWR2YW5jZWQpIHdpZGdldCBhdXRob3JzIG1pZ2h0IGJlIGV4cGVjdGluZy4KICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL3NoaW55L2lzc3Vlcy8yNjMwCiAgLwogIC8gRm9yIGEgY29uY3JldGUgZXhhbXBsZSwgbGVhZmxldCBoYXMgc29tZSBtZXRob2RzIChlLmcuLCB1cGRhdGVCb3VuZHMpCiAgLyB3aGljaCByZWZlcmVuY2UgU2hpbnkgbWV0aG9kcyByZWdpc3RlcmVkIGluIGluaXRTaGlueSAoZS5nLiwgc2V0SW5wdXRWYWx1ZSkuCiAgLyBTaW5jZSBsZWFmbGV0IGlzIHByaXZ5IHRvIHRoaXMgbGlmZS1jeWNsZSwgaXQga25vd3MgdG8gdXNlIHNldFRpbWVvdXQoKSB0bwogIC8gZGVsYXkgZXhlY3V0aW9uIG9mIHRob3NlIG1ldGhvZHMgKHVudGlsIFNoaW55IG1ldGhvZHMgYXJlIHJlYWR5KQogIC8gaHR0cHM6Ly9naXRodWIuY29tL3JzdHVkaW8vbGVhZmxldC9ibG9iLzE4ZWM5ODEvamF2YXNjcmlwdC9zcmMvaW5kZXguanMjTDI2Ni1MMjY4CiAgLwogIC8gSWRlYWxseSB3aWRnZXQgYXV0aG9ycyB3b3VsZG4ndCBuZWVkIHRvIHVzZSB0aGlzIHNldFRpbWVvdXQoKSBoYWNrIHRoYXQKICAvIGxlYWZsZXQgdXNlcyB0byBjYWxsIFNoaW55IG1ldGhvZHMgb24gYSBzdGF0aWNSZW5kZXIoKS4gSW4gdGhlIGxvbmcgcnVuLAogIC8gdGhlIGxvZ2ljIGluaXRTaGlueSBzaG91bGQgYmUgYnJva2VuIHVwIHNvIHRoYXQgbWV0aG9kIHJlZ2lzdHJhdGlvbiBoYXBwZW5zCiAgLyByaWdodCBhd2F5LCBidXQgYmluZGluZyBoYXBwZW5zIGxhdGVyLgogICovCiAgZnVuY3Rpb24gbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpIHsKICAgIGlmIChzaGlueU1vZGUgJiYgaGFzX2pRdWVyeTMoKSkgewogICAgICB3aW5kb3cualF1ZXJ5KHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIpOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgfQogIH0KCiAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsKICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgfSwgZmFsc2UpOwogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHsKICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgYXJndW1lbnRzLmNhbGxlZSk7CiAgICAgICAgbWF5YmVTdGF0aWNSZW5kZXJMYXRlcigpOwogICAgICB9CiAgICB9KTsKICB9CgoKICB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0QXR0YWNobWVudFVybCA9IGZ1bmN0aW9uKGRlcG5hbWUsIGtleSkgewogICAgLy8gSWYgbm8ga2V5LCBkZWZhdWx0IHRvIHRoZSBmaXJzdCBpdGVtCiAgICBpZiAodHlwZW9mKGtleSkgPT09ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSAxOwoKICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVwbmFtZSArICItIiArIGtleSArICItYXR0YWNobWVudCIpOwogICAgaWYgKCFsaW5rKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiQXR0YWNobWVudCAiICsgZGVwbmFtZSArICIvIiArIGtleSArICIgbm90IGZvdW5kIGluIGRvY3VtZW50Iik7CiAgICB9CiAgICByZXR1cm4gbGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyA9IGZ1bmN0aW9uKGRmKSB7CiAgICB2YXIgbmFtZXMgPSBbXTsKICAgIHZhciBsZW5ndGg7CiAgICBmb3IgKHZhciBuYW1lIGluIGRmKSB7CiAgICAgICAgaWYgKGRmLmhhc093blByb3BlcnR5KG5hbWUpKQogICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIGlmICh0eXBlb2YoZGZbbmFtZV0pICE9PSAib2JqZWN0IiB8fCB0eXBlb2YoZGZbbmFtZV0ubGVuZ3RoKSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobGVuZ3RoKSAhPT0gInVuZGVmaW5lZCIgJiYgbGVuZ3RoICE9PSBkZltuYW1lXS5sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpOwogICAgICAgIH0KICAgICAgICBsZW5ndGggPSBkZltuYW1lXS5sZW5ndGg7CiAgICB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGl0ZW07CiAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBsZW5ndGg7IHJvdysrKSB7CiAgICAgICAgaXRlbSA9IHt9OwogICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5hbWVzLmxlbmd0aDsgY29sKyspIHsKICAgICAgICAgICAgaXRlbVtuYW1lc1tjb2xdXSA9IGRmW25hbWVzW2NvbF1dW3Jvd107CiAgICAgICAgfQogICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy50cmFuc3Bvc2VBcnJheTJEID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycmF5OwogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheVswXS5tYXAoZnVuY3Rpb24oY29sLCBpKSB7CiAgICAgICAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiByb3dbaV0KICAgICAgICAgIH0pCiAgICAgIH0pOwogICAgICByZXR1cm4gbmV3QXJyYXk7CiAgfTsKICAvLyBTcGxpdCB2YWx1ZSBhdCBzcGxpdENoYXIsIGJ1dCBhbGxvdyBzcGxpdENoYXIgdG8gYmUgZXNjYXBlZAogIC8vIHVzaW5nIGVzY2FwZUNoYXIuIEFueSBvdGhlciBjaGFyYWN0ZXJzIGVzY2FwZWQgYnkgZXNjYXBlQ2hhcgogIC8vIHdpbGwgYmUgaW5jbHVkZWQgYXMgdXN1YWwgKGluY2x1ZGluZyBlc2NhcGVDaGFyIGl0c2VsZikuCiAgZnVuY3Rpb24gc3BsaXRXaXRoRXNjYXBlKHZhbHVlLCBzcGxpdENoYXIsIGVzY2FwZUNoYXIpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHZhbHVlLmxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKCFlc2NhcGVNb2RlKSB7CiAgICAgICAgaWYgKHZhbHVlW3Bvc10gPT09IHNwbGl0Q2hhcikgewogICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgICAgICAgY3VycmVudFJlc3VsdCA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWVbcG9zXSA9PT0gZXNjYXBlQ2hhcikgewogICAgICAgICAgZXNjYXBlTW9kZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogICAgaWYgKGN1cnJlbnRSZXN1bHQgIT09ICIiKSB7CiAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0KICAvLyBGdW5jdGlvbiBhdXRob3JlZCBieSBZaWh1aS9KSiBBbGxhaXJlCiAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyID0gZnVuY3Rpb24obywgbWVtYmVyKSB7CiAgICB2YXIgcGFydHMgPSBzcGxpdFdpdGhFc2NhcGUobWVtYmVyLCAnLicsICdcXCcpOwogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKICAgICAgLy8gcGFydCBtYXkgYmUgYSBjaGFyYWN0ZXIgb3IgJ251bWVyaWMnIG1lbWJlciBuYW1lCiAgICAgIGlmIChvICE9PSBudWxsICYmIHR5cGVvZiBvID09PSAib2JqZWN0IiAmJiBwYXJ0IGluIG8pIHsKICAgICAgICBpZiAoaSA9PSAobCAtIDEpKSB7IC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIHRoZW4gZXZhbHVsYXRlCiAgICAgICAgICBpZiAodHlwZW9mIG9bcGFydF0gPT09ICJzdHJpbmciKQogICAgICAgICAgICBvW3BhcnRdID0gdHJ5RXZhbChvW3BhcnRdKTsKICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgY29udGludWUgdG8gbmV4dCBlbWJlZGRlZCBvYmplY3QKICAgICAgICAgIG8gPSBvW3BhcnRdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIFJldHJpZXZlIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgYW4KICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBvciBudWxsIGlmIG5vbmUuCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlID0gZnVuY3Rpb24oZWwpIHsKICAgIHJldHVybiBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0Iik7CiAgfTsKCiAgLy8gRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IsCiAgLy8gYW5kIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoYXQgZWxlbWVudCwgaWYgYW55LiBJZiBubyBlbGVtZW50IG1hdGNoZXMgdGhlCiAgLy8gc2VsZWN0b3IsIG9yIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IGhhcyBubyBIVE1MV2lkZ2V0CiAgLy8gaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGl0LCB0aGVuIG51bGwgaXMgcmV0dXJuZWQuCiAgLy8KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmQgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgc2VsZWN0b3IgPSBzY29wZTsKICAgICAgc2NvcGUgPSBkb2N1bWVudDsKICAgIH0KCiAgICB2YXIgZWwgPSBzY29wZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIGlmIChlbCA9PT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2UoZWwpOwogICAgfQogIH07CgogIC8vIEZpbmRzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIGFuZAogIC8vIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2VzIChpLmUuIHRoZSByZXR1cm4gdmFsdWVzIG9mCiAgLy8gYW4gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRzLCBpbiBhbiBhcnJheS4gSWYgZWxlbWVudHMgdGhhdAogIC8vIG1hdGNoIHRoZSBzZWxlY3RvciBkb24ndCBoYXZlIGFuIGFzc29jaWF0ZWQgSFRNTFdpZGdldAogIC8vIGluc3RhbmNlLCB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbCBjb250YWluIG51bGxzLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kQWxsID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIG5vZGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICByZXN1bHRzLnB1c2god2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKG5vZGVzW2ldKSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB2YXIgcG9zdFJlbmRlckhhbmRsZXJzID0gW107CiAgZnVuY3Rpb24gaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCkgewogICAgd2hpbGUgKHBvc3RSZW5kZXJIYW5kbGVycy5sZW5ndGgpIHsKICAgICAgdmFyIGhhbmRsZXIgPSBwb3N0UmVuZGVySGFuZGxlcnMuc2hpZnQoKTsKICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICBoYW5kbGVyKCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIFJlZ2lzdGVyIHRoZSBnaXZlbiBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZQogIC8vIG5leHQgdGltZSBzdGF0aWMgd2lkZ2V0cyBhcmUgcmVuZGVyZWQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmFkZFBvc3RSZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHBvc3RSZW5kZXJIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTsKICB9OwoKICAvLyBUYWtlcyBhIG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9uLCBhbmQgcmV0dXJucyBhbgogIC8vIG9sZC1zdHlsZSBjbGFzcy1ib3VuZCBkZWZpbml0aW9uLiBUaGlzIHNhdmVzIHVzIGZyb20gaGF2aW5nCiAgLy8gdG8gcmV3cml0ZSBhbGwgdGhlIGxvZ2ljIGluIHRoaXMgZmlsZSB0byBhY2NvbW9kYXRlIGJvdGgKICAvLyB0eXBlcyBvZiBkZWZpbml0aW9ucy4KICBmdW5jdGlvbiBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZuKSB7CiAgICB2YXIgcmVzdWx0ID0gewogICAgICBuYW1lOiBkZWZuLm5hbWUsCiAgICAgIHR5cGU6IGRlZm4udHlwZSwKICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICByZXR1cm4gZGVmbi5mYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSwKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKGVsLCB4LCBpbnN0YW5jZSkgewogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXJWYWx1ZSh4KTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVzaXplKHdpZHRoLCBoZWlnaHQpOwogICAgICB9CiAgICB9OwoKICAgIGlmIChkZWZuLmZpbmQpCiAgICAgIHJlc3VsdC5maW5kID0gZGVmbi5maW5kOwogICAgaWYgKGRlZm4ucmVuZGVyRXJyb3IpCiAgICAgIHJlc3VsdC5yZW5kZXJFcnJvciA9IGRlZm4ucmVuZGVyRXJyb3I7CiAgICBpZiAoZGVmbi5jbGVhckVycm9yKQogICAgICByZXN1bHQuY2xlYXJFcnJvciA9IGRlZm4uY2xlYXJFcnJvcjsKCiAgICByZXR1cm4gcmVzdWx0OwogIH0KfSkoKTsKCg=="></script>
<script src="data:application/javascript;base64,KGZ1bmN0aW9uKCl7dmFyIGQ7d2luZG93LkFtQ2hhcnRzP2Q9d2luZG93LkFtQ2hhcnRzOihkPXt9LHdpbmRvdy5BbUNoYXJ0cz1kLGQudGhlbWVzPXt9LGQubWFwcz17fSxkLmluaGVyaXRpbmc9e30sZC5jaGFydHM9W10sZC5vblJlYWR5QXJyYXk9W10sZC51c2VVVEM9ITEsZC51cGRhdGVSYXRlPTYwLGQudWlkPTAsZC5sYW5nPXt9LGQudHJhbnNsYXRpb25zPXt9LGQubWFwVHJhbnNsYXRpb25zPXt9LGQud2luZG93cz17fSxkLmluaXRIYW5kbGVycz1bXSxkLmFtU3RyaW5nPSJhbSIsZC5wbVN0cmluZz0icG0iKTtkLkNsYXNzPWZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7YXJndW1lbnRzWzBdIT09ZC5pbmhlcml0aW5nJiYodGhpcy5ldmVudHM9e30sdGhpcy5jb25zdHJ1Y3QuYXBwbHkodGhpcyxhcmd1bWVudHMpKX07YS5pbmhlcml0cz8oYi5wcm90b3R5cGU9bmV3IGEuaW5oZXJpdHMoZC5pbmhlcml0aW5nKSxiLmJhc2U9YS5pbmhlcml0cy5wcm90b3R5cGUsZGVsZXRlIGEuaW5oZXJpdHMpOg0KKGIucHJvdG90eXBlLmNyZWF0ZUV2ZW50cz1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspdGhpcy5ldmVudHNbYXJndW1lbnRzW2FdXT1bXX0sYi5wcm90b3R5cGUubGlzdGVuVG89ZnVuY3Rpb24oYSxiLGMpe3RoaXMucmVtb3ZlTGlzdGVuZXIoYSxiLGMpO2EuZXZlbnRzW2JdLnB1c2goe2hhbmRsZXI6YyxzY29wZTp0aGlzfSl9LGIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjKXt0aGlzLnJlbW92ZUxpc3RlbmVyKHRoaXMsYSxiKTthJiZ0aGlzLmV2ZW50c1thXSYmdGhpcy5ldmVudHNbYV0ucHVzaCh7aGFuZGxlcjpiLHNjb3BlOmN9KX0sYi5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe2lmKGEmJmEuZXZlbnRzJiYoYT1hLmV2ZW50c1tiXSkpZm9yKGI9YS5sZW5ndGgtMTswPD1iO2ItLSlhW2JdLmhhbmRsZXI9PT1jJiZhLnNwbGljZShiLDEpfSxiLnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0NCnRoaXMuZXZlbnRzW2EudHlwZV0sYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2QuaGFuZGxlci5jYWxsKGQuc2NvcGUsYSl9fSk7Zm9yKHZhciBjIGluIGEpYi5wcm90b3R5cGVbY109YVtjXTtyZXR1cm4gYn07ZC5hZGRDaGFydD1mdW5jdGlvbihhKXt3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lP2QuYW5pbWF0aW9uUmVxdWVzdGVkfHwoZC5hbmltYXRpb25SZXF1ZXN0ZWQ9ITAsd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShkLnVwZGF0ZSkpOmQudXBkYXRlSW50fHwoZC51cGRhdGVJbnQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtkLnVwZGF0ZSgpfSxNYXRoLnJvdW5kKDFFMy9kLnVwZGF0ZVJhdGUpKSk7ZC5jaGFydHMucHVzaChhKX07ZC5yZW1vdmVDaGFydD1mdW5jdGlvbihhKXtmb3IodmFyIGI9ZC5jaGFydHMsYz1iLmxlbmd0aC0xOzA8PWM7Yy0tKWJbY109PWEmJmIuc3BsaWNlKGMsMSk7MD09PWIubGVuZ3RoJiYoZC5yZXF1ZXN0QW5pbWF0aW9uJiYod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGQucmVxdWVzdEFuaW1hdGlvbiksDQpkLmFuaW1hdGlvblJlcXVlc3RlZD0hMSksZC51cGRhdGVJbnQmJihjbGVhckludGVydmFsKGQudXBkYXRlSW50KSxkLnVwZGF0ZUludD1OYU4pKX07ZC5pc01vZGVybj0hMDtkLmdldElFVmVyc2lvbj1mdW5jdGlvbigpe3ZhciBhPTAsYixjOyJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXIiPT1uYXZpZ2F0b3IuYXBwTmFtZSYmKGI9bmF2aWdhdG9yLnVzZXJBZ2VudCxjPS9NU0lFIChbMC05XXsxLH1bLjAtOV17MCx9KS8sbnVsbCE9PWMuZXhlYyhiKSYmKGE9cGFyc2VGbG9hdChSZWdFeHAuJDEpKSk7cmV0dXJuIGF9O2QuYXBwbHlMYW5nPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZC50cmFuc2xhdGlvbnM7Yi5kYXlOYW1lcz1kLmV4dGVuZCh7fSxkLmRheU5hbWVzKTtiLnNob3J0RGF5TmFtZXM9ZC5leHRlbmQoe30sZC5zaG9ydERheU5hbWVzKTtiLm1vbnRoTmFtZXM9ZC5leHRlbmQoe30sZC5tb250aE5hbWVzKTtiLnNob3J0TW9udGhOYW1lcz1kLmV4dGVuZCh7fSxkLnNob3J0TW9udGhOYW1lcyk7DQpiLmFtU3RyaW5nPSJhbSI7Yi5wbVN0cmluZz0icG0iO2MmJihjPWNbYV0pJiYoZC5sYW5nPWMsYi5sYW5nT2JqPWMsYy5tb250aE5hbWVzJiYoYi5kYXlOYW1lcz1kLmV4dGVuZCh7fSxjLmRheU5hbWVzKSxiLnNob3J0RGF5TmFtZXM9ZC5leHRlbmQoe30sYy5zaG9ydERheU5hbWVzKSxiLm1vbnRoTmFtZXM9ZC5leHRlbmQoe30sYy5tb250aE5hbWVzKSxiLnNob3J0TW9udGhOYW1lcz1kLmV4dGVuZCh7fSxjLnNob3J0TW9udGhOYW1lcykpLGMuYW0mJihiLmFtU3RyaW5nPWMuYW0pLGMucG0mJihiLnBtU3RyaW5nPWMucG0pKTtkLmFtU3RyaW5nPWIuYW1TdHJpbmc7ZC5wbVN0cmluZz1iLnBtU3RyaW5nfTtkLklFdmVyc2lvbj1kLmdldElFVmVyc2lvbigpOzk+ZC5JRXZlcnNpb24mJjA8ZC5JRXZlcnNpb24mJihkLmlzTW9kZXJuPSExLGQuaXNJRT0hMCk7ZC5keD0wO2QuZHk9MDtpZihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyfHx3aW5kb3cub3BlcmEpZC5pc05OPSEwLGQuaXNJRT0NCiExLGQuZHg9LjUsZC5keT0uNTtkb2N1bWVudC5hdHRhY2hFdmVudCYmKGQuaXNOTj0hMSxkLmlzSUU9ITAsZC5pc01vZGVybnx8KGQuZHg9MCxkLmR5PTApKTt3aW5kb3cuY2hyb21lJiYoZC5jaHJvbWU9ITApO2QuaGFuZGxlTW91c2VVcD1mdW5jdGlvbihhKXtmb3IodmFyIGI9ZC5jaGFydHMsYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZT1iW2NdO2UmJmUuaGFuZGxlUmVsZWFzZU91dHNpZGUmJmUuaGFuZGxlUmVsZWFzZU91dHNpZGUoYSl9fTtkLmhhbmRsZU1vdXNlTW92ZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9ZC5jaGFydHMsYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZT1iW2NdO2UmJmUuaGFuZGxlTW91c2VNb3ZlJiZlLmhhbmRsZU1vdXNlTW92ZShhKX19O2QuaGFuZGxlV2hlZWw9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWQuY2hhcnRzLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9YltjXTtpZihlJiZlLm1vdXNlSXNPdmVyKXsoZS5tb3VzZVdoZWVsU2Nyb2xsRW5hYmxlZHx8DQplLm1vdXNlV2hlZWxab29tRW5hYmxlZCkmJmUuaGFuZGxlV2hlZWwmJihlLmhhbmRsZU1vdXNlTW92ZShhKSxlLmhhbmRsZVdoZWVsKGEpKTticmVha319fTtkLnJlc2V0TW91c2VPdmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPWQuY2hhcnRzLGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtjJiYoYy5tb3VzZUlzT3Zlcj0hMSl9fTtkLnJlYWR5PWZ1bmN0aW9uKGEpe2Qub25SZWFkeUFycmF5LnB1c2goYSl9O2QuaGFuZGxlTG9hZD1mdW5jdGlvbigpe2QuaXNSZWFkeT0hMDtmb3IodmFyIGE9ZC5vblJlYWR5QXJyYXksYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO2lzTmFOKGQucHJvY2Vzc0RlbGF5KT9jKCk6c2V0VGltZW91dChjLGQucHJvY2Vzc0RlbGF5KmIpfWQub25SZWFkeUFycmF5PVtdfTtkLmFkZEluaXRIYW5kbGVyPWZ1bmN0aW9uKGEsYil7ZC5pbml0SGFuZGxlcnMucHVzaCh7bWV0aG9kOmEsdHlwZXM6Yn0pfTtkLmNhbGxJbml0SGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj0NCmQuaW5pdEhhbmRsZXJzO2lmKGQuaW5pdEhhbmRsZXJzKWZvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZT1iW2NdO2UudHlwZXM/ZC5pc0luQXJyYXkoZS50eXBlcyxhLnR5cGUpJiZlLm1ldGhvZChhKTplLm1ldGhvZChhKX19O2QuZ2V0VW5pcXVlSWQ9ZnVuY3Rpb24oKXtkLnVpZCsrO3JldHVybiJBbUNoYXJ0c0VsLSIrZC51aWR9O2QuaXNOTiYmKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsZC5oYW5kbGVNb3VzZU1vdmUpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLGQuaGFuZGxlTW91c2VVcCwhMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGQuaGFuZGxlTG9hZCwhMCkpO2QuaXNJRSYmKGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbm1vdXNlbW92ZSIsZC5oYW5kbGVNb3VzZU1vdmUpLGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbm1vdXNldXAiLGQuaGFuZGxlTW91c2VVcCksd2luZG93LmF0dGFjaEV2ZW50KCJvbmxvYWQiLA0KZC5oYW5kbGVMb2FkKSk7ZC5hZGRXaGVlbExpc3RlbmVycz1mdW5jdGlvbigpe2Qud2hlZWxJc0xpc3RlbmVkfHwoZC5pc05OJiYod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIkRPTU1vdXNlU2Nyb2xsIixkLmhhbmRsZVdoZWVsLCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXdoZWVsIixkLmhhbmRsZVdoZWVsLCEwKSksZC5pc0lFJiZkb2N1bWVudC5hdHRhY2hFdmVudCgib25tb3VzZXdoZWVsIixkLmhhbmRsZVdoZWVsKSk7ZC53aGVlbElzTGlzdGVuZWQ9ITB9O2QuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgYT1kLmNoYXJ0cztpZihhKWZvcih2YXIgYj1hLmxlbmd0aC0xOzA8PWI7Yi0tKWFbYl0uY2xlYXIoKTtkLnVwZGF0ZUludCYmY2xlYXJJbnRlcnZhbChkLnVwZGF0ZUludCk7ZC5yZXF1ZXN0QW5pbWF0aW9uJiZ3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZC5yZXF1ZXN0QW5pbWF0aW9uKTtkLmNoYXJ0cz1bXTtkLmlzTk4mJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLA0KZC5oYW5kbGVNb3VzZU1vdmUsITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLGQuaGFuZGxlTW91c2VVcCwhMCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLGQuaGFuZGxlTG9hZCwhMCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU1vdXNlU2Nyb2xsIixkLmhhbmRsZVdoZWVsLCEwKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXdoZWVsIixkLmhhbmRsZVdoZWVsLCEwKSk7ZC5pc0lFJiYoZG9jdW1lbnQuZGV0YWNoRXZlbnQoIm9ubW91c2Vtb3ZlIixkLmhhbmRsZU1vdXNlTW92ZSksZG9jdW1lbnQuZGV0YWNoRXZlbnQoIm9ubW91c2V1cCIsZC5oYW5kbGVNb3VzZVVwKSx3aW5kb3cuZGV0YWNoRXZlbnQoIm9ubG9hZCIsZC5oYW5kbGVMb2FkKSl9O2QubWFrZUNoYXJ0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1iLnR5cGUsZz1iLnRoZW1lO2QuaXNTdHJpbmcoZykmJihnPWQudGhlbWVzW2ddLGIudGhlbWU9DQpnKTt2YXIgZjtzd2l0Y2goZSl7Y2FzZSAic2VyaWFsIjpmPW5ldyBkLkFtU2VyaWFsQ2hhcnQoZyk7YnJlYWs7Y2FzZSAieHkiOmY9bmV3IGQuQW1YWUNoYXJ0KGcpO2JyZWFrO2Nhc2UgInBpZSI6Zj1uZXcgZC5BbVBpZUNoYXJ0KGcpO2JyZWFrO2Nhc2UgInJhZGFyIjpmPW5ldyBkLkFtUmFkYXJDaGFydChnKTticmVhaztjYXNlICJnYXVnZSI6Zj1uZXcgZC5BbUFuZ3VsYXJHYXVnZShnKTticmVhaztjYXNlICJmdW5uZWwiOmY9bmV3IGQuQW1GdW5uZWxDaGFydChnKTticmVhaztjYXNlICJtYXAiOmY9bmV3IGQuQW1NYXAoZyk7YnJlYWs7Y2FzZSAic3RvY2siOmY9bmV3IGQuQW1TdG9ja0NoYXJ0KGcpO2JyZWFrO2Nhc2UgImdhbnR0IjpmPW5ldyBkLkFtR2FudHRDaGFydChnKX1kLmV4dGVuZChmLGIpO2QuaXNSZWFkeT9pc05hTihjKT9mLndyaXRlKGEpOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnJlYWxXcml0ZShmLGEpfSxjKTpkLnJlYWR5KGZ1bmN0aW9uKCl7aXNOYU4oYyk/DQpmLndyaXRlKGEpOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnJlYWxXcml0ZShmLGEpfSxjKX0pO3JldHVybiBmfTtkLnJlYWxXcml0ZT1mdW5jdGlvbihhLGIpe2Eud3JpdGUoYil9O2QudXBkYXRlQ291bnQ9MDtkLnZhbGlkYXRlQXQ9TWF0aC5yb3VuZChkLnVwZGF0ZVJhdGUvMTApO2QudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9ZC5jaGFydHM7ZC51cGRhdGVDb3VudCsrO3ZhciBiPSExO2QudXBkYXRlQ291bnQ9PWQudmFsaWRhdGVBdCYmKGI9ITAsZC51cGRhdGVDb3VudD0wKTtpZihhKWZvcih2YXIgYz1hLmxlbmd0aC0xOzA8PWM7Yy0tKWFbY10udXBkYXRlJiZhW2NdLnVwZGF0ZSgpLGImJihhW2NdLmF1dG9SZXNpemU/YVtjXS52YWxpZGF0ZVNpemUmJmFbY10udmFsaWRhdGVTaXplKCk6YVtjXS5wcmVtZWFzdXJlJiZhW2NdLnByZW1lYXN1cmUoKSk7d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSYmKGQucmVxdWVzdEFuaW1hdGlvbj13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGQudXBkYXRlKSl9Ow0KImNvbXBsZXRlIj09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmZC5oYW5kbGVMb2FkKCl9KSgpOyhmdW5jdGlvbigpe3ZhciBkPXdpbmRvdy5BbUNoYXJ0cztkLnRvQm9vbGVhbj1mdW5jdGlvbihhLGIpe2lmKHZvaWQgMD09PWEpcmV0dXJuIGI7c3dpdGNoKFN0cmluZyhhKS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpjYXNlICJ5ZXMiOmNhc2UgIjEiOnJldHVybiEwO2Nhc2UgImZhbHNlIjpjYXNlICJubyI6Y2FzZSAiMCI6Y2FzZSBudWxsOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuISFhfX07ZC5yZW1vdmVGcm9tQXJyYXk9ZnVuY3Rpb24oYSxiKXt2YXIgYztpZih2b2lkIDAhPT1iJiZ2b2lkIDAhPT1hKWZvcihjPWEubGVuZ3RoLTE7MDw9YztjLS0pYVtjXT09YiYmYS5zcGxpY2UoYywxKX07ZC5nZXRQYXRoPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpO2lmKGEpZm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl0uc3JjO2lmKC0xIT09Yy5zZWFyY2goL1wvKGFtY2hhcnRzfGFtbWFwKVwuanMvKSlyZXR1cm4gYy5yZXBsYWNlKC9cLyhhbWNoYXJ0c3xhbW1hcClcLmpzLiovLA0KIi8iKX19O2Qubm9ybWFsaXplVXJsPWZ1bmN0aW9uKGEpe3JldHVybiIiIT09YSYmLTE9PT1hLnNlYXJjaCgvXC8kLyk/YSsiLyI6YX07ZC5pc0Fic29sdXRlPWZ1bmN0aW9uKGEpe3JldHVybiAwPT09YS5zZWFyY2goL15odHRwW3NdPzp8XlwvLyl9O2QuaXNJbkFycmF5PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYVtjXT09YilyZXR1cm4hMDtyZXR1cm4hMX07ZC5nZXREZWNpbWFscz1mdW5jdGlvbihhKXt2YXIgYj0wO2lzTmFOKGEpfHwoYT1TdHJpbmcoYSksLTEhPWEuaW5kZXhPZigiZS0iKT9iPU51bWJlcihhLnNwbGl0KCItIilbMV0pOi0xIT1hLmluZGV4T2YoIi4iKSYmKGI9YS5zcGxpdCgiLiIpWzFdLmxlbmd0aCkpO3JldHVybiBifTtkLndvcmR3cmFwPWZ1bmN0aW9uKGEsYixjLGUpe3ZhciBnLGYsaCxrO2ErPSIiO2lmKDE+YilyZXR1cm4gYTtnPS0xO2ZvcihhPShrPWEuc3BsaXQoL1xyXG58XG58XHIvKSkubGVuZ3RoOysrZzxhO2tbZ10rPQ0KaCl7aD1rW2ddO2ZvcihrW2ddPSIiO2gubGVuZ3RoPmI7a1tnXSs9ZC50cmltKGguc2xpY2UoMCxmKSkrKChoPWguc2xpY2UoZikpLmxlbmd0aD9jOiIiKSlmPTI9PWV8fChmPWguc2xpY2UoMCxiKzEpLm1hdGNoKC9cUyooXHMpPyQvKSlbMV0/YjpmLmlucHV0Lmxlbmd0aC1mWzBdLmxlbmd0aHx8MT09ZSYmYnx8Zi5pbnB1dC5sZW5ndGgrKGY9aC5zbGljZShiKS5tYXRjaCgvXlxTKi8pKVswXS5sZW5ndGg7aD1kLnRyaW0oaCl9cmV0dXJuIGsuam9pbihjKX07ZC50cmltPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX07ZC53cmFwcGVkVGV4dD1mdW5jdGlvbihhLGIsYyxlLGcsZixoLGspe3ZhciBsPWQudGV4dChhLGIsYyxlLGcsZixoKTtpZihsKXt2YXIgbT1sLmdldEJCb3goKTtpZihtLndpZHRoPmspe3ZhciBuPSJcbiI7ZC5pc01vZGVybnx8KG49Ijxicj4iKTtrPU1hdGguZmxvb3Ioay8obS53aWR0aC8NCmIubGVuZ3RoKSk7MjxrJiYoay09Mik7Yj1kLndvcmR3cmFwKGIsayxuLCEwKTtsLnJlbW92ZSgpO2w9ZC50ZXh0KGEsYixjLGUsZyxmLGgpfX1yZXR1cm4gbH07ZC5nZXRTdHlsZT1mdW5jdGlvbihhLGIpe3ZhciBjPSIiO2lmKGRvY3VtZW50LmRlZmF1bHRWaWV3JiZkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKXRyeXtjPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYSwiIikuZ2V0UHJvcGVydHlWYWx1ZShiKX1jYXRjaChlKXt9ZWxzZSBhLmN1cnJlbnRTdHlsZSYmKGI9Yi5yZXBsYWNlKC9cLShcdykvZyxmdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9KSxjPWEuY3VycmVudFN0eWxlW2JdKTtyZXR1cm4gY307ZC5yZW1vdmVQeD1mdW5jdGlvbihhKXtpZih2b2lkIDAhPT1hKXJldHVybiBOdW1iZXIoYS5zdWJzdHJpbmcoMCxhLmxlbmd0aC0yKSl9O2QuZ2V0VVJMPWZ1bmN0aW9uKGEsYil7aWYoYSlpZigiX3NlbGYiIT0NCmImJmIpaWYoIl90b3AiPT1iJiZ3aW5kb3cudG9wKXdpbmRvdy50b3AubG9jYXRpb24uaHJlZj1hO2Vsc2UgaWYoIl9wYXJlbnQiPT1iJiZ3aW5kb3cucGFyZW50KXdpbmRvdy5wYXJlbnQubG9jYXRpb24uaHJlZj1hO2Vsc2UgaWYoIl9ibGFuayI9PWIpd2luZG93Lm9wZW4oYSk7ZWxzZXt2YXIgYz1kb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShiKVswXTtjP2Muc3JjPWE6KGM9ZC53aW5kb3dzW2JdKT9jLm9wZW5lciYmIWMub3BlbmVyLmNsb3NlZD9jLmxvY2F0aW9uLmhyZWY9YTpkLndpbmRvd3NbYl09d2luZG93Lm9wZW4oYSk6ZC53aW5kb3dzW2JdPXdpbmRvdy5vcGVuKGEpfWVsc2Ugd2luZG93LmxvY2F0aW9uLmhyZWY9YX07ZC5pZkFycmF5PWZ1bmN0aW9uKGEpe3JldHVybiBhJiYib2JqZWN0Ij09dHlwZW9mIGEmJjA8YS5sZW5ndGg/ITA6ITF9O2QuY2FsbE1ldGhvZD1mdW5jdGlvbihhLGIpe3ZhciBjO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPWJbY107aWYoZSl7aWYoZVthXSllW2FdKCk7DQp2YXIgZD1lLmxlbmd0aDtpZigwPGQpe3ZhciBmO2ZvcihmPTA7ZjxkO2YrKyl7dmFyIGg9ZVtmXTtpZihoJiZoW2FdKWhbYV0oKX19fX19O2QudG9OdW1iZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBhP2E6TnVtYmVyKFN0cmluZyhhKS5yZXBsYWNlKC9bXjAtOVwtLl0rL2csIiIpKX07ZC50b0NvbG9yPWZ1bmN0aW9uKGEpe2lmKCIiIT09YSYmdm9pZCAwIT09YSlpZigtMSE9YS5pbmRleE9mKCIsIikpe2E9YS5zcGxpdCgiLCIpO3ZhciBiO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl0uc3Vic3RyaW5nKGFbYl0ubGVuZ3RoLTYsYVtiXS5sZW5ndGgpO2FbYl09IiMiK2N9fWVsc2UgYT1hLnN1YnN0cmluZyhhLmxlbmd0aC02LGEubGVuZ3RoKSxhPSIjIithO3JldHVybiBhfTtkLnRvQ29vcmRpbmF0ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGU7dm9pZCAwIT09YSYmKGE9U3RyaW5nKGEpLGMmJmM8YiYmKGI9YyksZT1OdW1iZXIoYSksLTEhPWEuaW5kZXhPZigiISIpJiYNCihlPWItTnVtYmVyKGEuc3Vic3RyKDEpKSksLTEhPWEuaW5kZXhPZigiJSIpJiYoZT1iKk51bWJlcihhLnN1YnN0cigwLGEubGVuZ3RoLTEpKS8xMDApKTtyZXR1cm4gZX07ZC5maXRUb0JvdW5kcz1mdW5jdGlvbihhLGIsYyl7YTxiJiYoYT1iKTthPmMmJihhPWMpO3JldHVybiBhfTtkLmlzRGVmaW5lZD1mdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT8hMTohMH07ZC5zdHJpcE51bWJlcnM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvWzAtOV0rL2csIiIpfTtkLnJvdW5kVG89ZnVuY3Rpb24oYSxiKXtpZigwPmIpcmV0dXJuIGE7dmFyIGM9TWF0aC5wb3coMTAsYik7cmV0dXJuIE1hdGgucm91bmQoYSpjKS9jfTtkLnRvRml4ZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMTswPmEmJihjPSEwLGE9TWF0aC5hYnMoYSkpO3ZhciBlPVN0cmluZyhNYXRoLnJvdW5kKGEqTWF0aC5wb3coMTAsYikpKTtpZigwPGIpe3ZhciBkPWUubGVuZ3RoO2lmKGQ8Yil7dmFyIGY7Zm9yKGY9MDtmPA0KYi1kO2YrKyllPSIwIitlfWQ9ZS5zdWJzdHJpbmcoMCxlLmxlbmd0aC1iKTsiIj09PWQmJihkPTApO2U9ZCsiLiIrZS5zdWJzdHJpbmcoZS5sZW5ndGgtYixlLmxlbmd0aCk7cmV0dXJuIGM/Ii0iK2U6ZX1yZXR1cm4gU3RyaW5nKGUpfTtkLmZvcm1hdER1cmF0aW9uPWZ1bmN0aW9uKGEsYixjLGUsZyxmKXt2YXIgaD1kLmludGVydmFscyxrPWYuZGVjaW1hbFNlcGFyYXRvcjtpZihhPj1oW2JdLmNvbnRhaW5zKXt2YXIgbD1hLU1hdGguZmxvb3IoYS9oW2JdLmNvbnRhaW5zKSpoW2JdLmNvbnRhaW5zOyJzcyI9PWI/KGw9ZC5mb3JtYXROdW1iZXIobCxmKSwxPT1sLnNwbGl0KGspWzBdLmxlbmd0aCYmKGw9IjAiK2wpKTpsPWQucm91bmRUbyhsLGYucHJlY2lzaW9uKTsoIm1tIj09Ynx8ImhoIj09YikmJjEwPmwmJihsPSIwIitsKTtjPWwrIiIrZVtiXSsiIitjO2E9TWF0aC5mbG9vcihhL2hbYl0uY29udGFpbnMpO2I9aFtiXS5uZXh0SW50ZXJ2YWw7cmV0dXJuIGQuZm9ybWF0RHVyYXRpb24oYSwNCmIsYyxlLGcsZil9InNzIj09YiYmKGE9ZC5mb3JtYXROdW1iZXIoYSxmKSwxPT1hLnNwbGl0KGspWzBdLmxlbmd0aCYmKGE9IjAiK2EpKTsibW0iPT1iJiYoYT1kLnJvdW5kVG8oYSxmLnByZWNpc2lvbikpOygibW0iPT1ifHwiaGgiPT1iKSYmMTA+YSYmKGE9IjAiK2EpO2M9YSsiIitlW2JdKyIiK2M7aWYoaFtnXS5jb3VudD5oW2JdLmNvdW50KWZvcihhPWhbYl0uY291bnQ7YTxoW2ddLmNvdW50O2ErKyliPWhbYl0ubmV4dEludGVydmFsLCJzcyI9PWJ8fCJtbSI9PWJ8fCJoaCI9PWI/Yz0iMDAiK2VbYl0rIiIrYzoiREQiPT1iJiYoYz0iMCIrZVtiXSsiIitjKTsiOiI9PWMuY2hhckF0KGMubGVuZ3RoLTEpJiYoYz1jLnN1YnN0cmluZygwLGMubGVuZ3RoLTEpKTtyZXR1cm4gY307ZC5mb3JtYXROdW1iZXI9ZnVuY3Rpb24oYSxiLGMsZSxnKXthPWQucm91bmRUbyhhLGIucHJlY2lzaW9uKTtpc05hTihjKSYmKGM9Yi5wcmVjaXNpb24pO3ZhciBmPWIuZGVjaW1hbFNlcGFyYXRvcjtiPQ0KYi50aG91c2FuZHNTZXBhcmF0b3I7dm9pZCAwPT1mJiYoZj0iLCIpO3ZvaWQgMD09YiYmKGI9IiAiKTt2YXIgaDtoPTA+YT8iLSI6IiI7YT1NYXRoLmFicyhhKTt2YXIgaz1TdHJpbmcoYSksbD0hMTstMSE9ay5pbmRleE9mKCJlIikmJihsPSEwKTswPD1jJiYhbCYmKGs9ZC50b0ZpeGVkKGEsYykpO3ZhciBtPSIiO2lmKGwpbT1rO2Vsc2V7dmFyIGs9ay5zcGxpdCgiLiIpLGw9U3RyaW5nKGtbMF0pLG47Zm9yKG49bC5sZW5ndGg7MDw9bjtuLT0zKW09biE9bC5sZW5ndGg/MCE9PW4/bC5zdWJzdHJpbmcobi0zLG4pK2IrbTpsLnN1YnN0cmluZyhuLTMsbikrbTpsLnN1YnN0cmluZyhuLTMsbik7dm9pZCAwIT09a1sxXSYmKG09bStmK2tbMV0pO3ZvaWQgMCE9PWMmJjA8YyYmIjAiIT1tJiYobT1kLmFkZFplcm9lcyhtLGYsYykpfW09aCttOyIiPT09aCYmITA9PT1lJiYwIT09YSYmKG09IisiK20pOyEwPT09ZyYmKG0rPSIlIik7cmV0dXJuIG19O2QuYWRkWmVyb2VzPWZ1bmN0aW9uKGEsDQpiLGMpe2E9YS5zcGxpdChiKTt2b2lkIDA9PT1hWzFdJiYwPGMmJihhWzFdPSIwIik7cmV0dXJuIGFbMV0ubGVuZ3RoPGM/KGFbMV0rPSIwIixkLmFkZFplcm9lcyhhWzBdK2IrYVsxXSxiLGMpKTp2b2lkIDAhPT1hWzFdP2FbMF0rYithWzFdOmFbMF19O2Quc2NpZW50aWZpY1RvTm9ybWFsPWZ1bmN0aW9uKGEpe3ZhciBiO2E9U3RyaW5nKGEpLnNwbGl0KCJlIik7dmFyIGM7aWYoIi0iPT1hWzFdLnN1YnN0cigwLDEpKXtiPSIwLiI7Zm9yKGM9MDtjPE1hdGguYWJzKE51bWJlcihhWzFdKSktMTtjKyspYis9IjAiO2IrPWFbMF0uc3BsaXQoIi4iKS5qb2luKCIiKX1lbHNle3ZhciBlPTA7Yj1hWzBdLnNwbGl0KCIuIik7YlsxXSYmKGU9YlsxXS5sZW5ndGgpO2I9YVswXS5zcGxpdCgiLiIpLmpvaW4oIiIpO2ZvcihjPTA7YzxNYXRoLmFicyhOdW1iZXIoYVsxXSkpLWU7YysrKWIrPSIwIn1yZXR1cm4gYn07ZC50b1NjaWVudGlmaWM9ZnVuY3Rpb24oYSxiKXtpZigwPT09YSlyZXR1cm4iMCI7DQp2YXIgYz1NYXRoLmZsb29yKE1hdGgubG9nKE1hdGguYWJzKGEpKSpNYXRoLkxPRzEwRSksZT1TdHJpbmcoZSkuc3BsaXQoIi4iKS5qb2luKGIpO3JldHVybiBTdHJpbmcoZSkrImUiK2N9O2QucmFuZG9tQ29sb3I9ZnVuY3Rpb24oKXtyZXR1cm4iIyIrKCIwMDAwMCIrKDE2Nzc3MjE2Kk1hdGgucmFuZG9tKCk8PDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KX07ZC5oaXRUZXN0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZT0hMSxnPWEueCxmPWEueCthLndpZHRoLGg9YS55LGs9YS55K2EuaGVpZ2h0LGw9ZC5pc0luUmVjdGFuZ2xlO2V8fChlPWwoZyxoLGIpKTtlfHwoZT1sKGcsayxiKSk7ZXx8KGU9bChmLGgsYikpO2V8fChlPWwoZixrLGIpKTtlfHwhMD09PWN8fChlPWQuaGl0VGVzdChiLGEsITApKTtyZXR1cm4gZX07ZC5pc0luUmVjdGFuZ2xlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT49Yy54LTUmJmE8PWMueCtjLndpZHRoKzUmJmI+PWMueS01JiZiPD1jLnkrYy5oZWlnaHQrNT8NCiEwOiExfTtkLmlzUGVyY2VudHM9ZnVuY3Rpb24oYSl7aWYoLTEhPVN0cmluZyhhKS5pbmRleE9mKCIlIikpcmV0dXJuITB9O2QuZm9ybWF0VmFsdWU9ZnVuY3Rpb24oYSxiLGMsZSxnLGYsaCxrKXtpZihiKXt2b2lkIDA9PT1nJiYoZz0iIik7dmFyIGw7Zm9yKGw9MDtsPGMubGVuZ3RoO2wrKyl7dmFyIG09Y1tsXSxuPWJbbV07dm9pZCAwIT09biYmKG49Zj9kLmFkZFByZWZpeChuLGssaCxlKTpkLmZvcm1hdE51bWJlcihuLGUpLGE9YS5yZXBsYWNlKG5ldyBSZWdFeHAoIlxcW1xcWyIrZysiIittKyJcXF1cXF0iLCJnIiksbikpfX1yZXR1cm4gYX07ZC5mb3JtYXREYXRhQ29udGV4dFZhbHVlPWZ1bmN0aW9uKGEsYil7aWYoYSl7dmFyIGM9YS5tYXRjaCgvXFtcWy4qP1xdXF0vZyksZTtmb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZD1jW2VdLGQ9ZC5zdWJzdHIoMixkLmxlbmd0aC00KTt2b2lkIDAhPT1iW2RdJiYoYT1hLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFxbXFxbIitkKyJcXF1cXF0iLA0KImciKSxiW2RdKSl9fXJldHVybiBhfTtkLm1hc3NSZXBsYWNlPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGIpaWYoYi5oYXNPd25Qcm9wZXJ0eShjKSl7dmFyIGU9YltjXTt2b2lkIDA9PT1lJiYoZT0iIik7YT1hLnJlcGxhY2UoYyxlKX1yZXR1cm4gYX07ZC5jbGVhbkZyb21FbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cW1xbW15cXV0qXF1cXS9nLCIiKX07ZC5hZGRQcmVmaXg9ZnVuY3Rpb24oYSxiLGMsZSxnKXt2YXIgZj1kLmZvcm1hdE51bWJlcihhLGUpLGg9IiIsayxsLG07aWYoMD09PWEpcmV0dXJuIjAiOzA+YSYmKGg9Ii0iKTthPU1hdGguYWJzKGEpO2lmKDE8YSlmb3Ioaz1iLmxlbmd0aC0xOy0xPGs7ay0tKXtpZihhPj1iW2tdLm51bWJlciYmKGw9YS9iW2tdLm51bWJlcixtPU51bWJlcihlLnByZWNpc2lvbiksMT5tJiYobT0xKSxjPWQucm91bmRUbyhsLG0pLG09ZC5mb3JtYXROdW1iZXIoYyx7cHJlY2lzaW9uOi0xLGRlY2ltYWxTZXBhcmF0b3I6ZS5kZWNpbWFsU2VwYXJhdG9yLA0KdGhvdXNhbmRzU2VwYXJhdG9yOmUudGhvdXNhbmRzU2VwYXJhdG9yfSksIWd8fGw9PWMpKXtmPWgrIiIrbSsiIitiW2tdLnByZWZpeDticmVha319ZWxzZSBmb3Ioaz0wO2s8Yy5sZW5ndGg7aysrKWlmKGE8PWNba10ubnVtYmVyKXtsPWEvY1trXS5udW1iZXI7bT1NYXRoLmFicyhNYXRoLmZsb29yKE1hdGgubG9nKGwpKk1hdGguTE9HMTBFKSk7bD1kLnJvdW5kVG8obCxtKTtmPWgrIiIrbCsiIitjW2tdLnByZWZpeDticmVha31yZXR1cm4gZn07ZC5yZW1vdmU9ZnVuY3Rpb24oYSl7YSYmYS5yZW1vdmUoKX07ZC5nZXRFZmZlY3Q9ZnVuY3Rpb24oYSl7Ij4iPT1hJiYoYT0iZWFzZU91dFNpbmUiKTsiPCI9PWEmJihhPSJlYXNlSW5TaW5lIik7ImVsYXN0aWMiPT1hJiYoYT0iZWFzZU91dEVsYXN0aWMiKTtyZXR1cm4gYX07ZC5nZXRPYmpCeUlkPWZ1bmN0aW9uKGEsYil7dmFyIGMsZTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZD1hW2VdO2lmKGQuaWQ9PWIpe2M9ZDticmVha319cmV0dXJuIGN9Ow0KZC5hcHBseVRoZW1lPWZ1bmN0aW9uKGEsYixjKXtifHwoYj1kLnRoZW1lKTt0cnl7Yj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGIpKX1jYXRjaChlKXt9YiYmYltjXSYmZC5leHRlbmQoYSxiW2NdKX07ZC5pc1N0cmluZz1mdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/ITA6ITF9O2QuZXh0ZW5kPWZ1bmN0aW9uKGEsYixjKXt2YXIgZTthfHwoYT17fSk7Zm9yKGUgaW4gYiljP2EuaGFzT3duUHJvcGVydHkoZSl8fChhW2VdPWJbZV0pOmFbZV09YltlXTtyZXR1cm4gYX07ZC5jb3B5UHJvcGVydGllcz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJiJldmVudHMiIT1jJiZ2b2lkIDAhPT1hW2NdJiYiZnVuY3Rpb24iIT10eXBlb2YgYVtjXSYmImNuYW1lIiE9YyYmKGJbY109YVtjXSl9O2QucHJvY2Vzc09iamVjdD1mdW5jdGlvbihhLGIsYyxlKXtpZighMT09PWEgaW5zdGFuY2VvZiBiJiYoYT1lP2QuZXh0ZW5kKG5ldyBiKGMpLA0KYSk6ZC5leHRlbmQoYSxuZXcgYihjKSwhMCksYS5saXN0ZW5lcnMpKWZvcih2YXIgZyBpbiBhLmxpc3RlbmVycyliPWEubGlzdGVuZXJzW2ddLGEuYWRkTGlzdGVuZXIoYi5ldmVudCxiLm1ldGhvZCk7cmV0dXJuIGF9O2QuZml4TmV3TGluZXM9ZnVuY3Rpb24oYSl7dmFyIGI9UmVnRXhwKCJcXG4iLCJnIik7YSYmKGE9YS5yZXBsYWNlKGIsIjxiciAvPiIpKTtyZXR1cm4gYX07ZC5maXhCcmFrZXM9ZnVuY3Rpb24oYSl7aWYoZC5pc01vZGVybil7dmFyIGI9UmVnRXhwKCI8YnI+IiwiZyIpO2EmJihhPWEucmVwbGFjZShiLCJcbiIpKX1lbHNlIGE9ZC5maXhOZXdMaW5lcyhhKTtyZXR1cm4gYX07ZC5kZWxldGVPYmplY3Q9ZnVuY3Rpb24oYSxiKXtpZihhKXtpZih2b2lkIDA9PT1ifHxudWxsPT09YiliPTIwO2lmKDAhPT1iKWlmKCJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkpZm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspZC5kZWxldGVPYmplY3QoYVtjXSwNCmItMSksYVtjXT1udWxsO2Vsc2UgaWYoYSYmIWEudGFnTmFtZSl0cnl7Zm9yKGMgaW4gYS50aGVtZT1udWxsLGEpYVtjXSYmKCJvYmplY3QiPT10eXBlb2YgYVtjXSYmZC5kZWxldGVPYmplY3QoYVtjXSxiLTEpLCJmdW5jdGlvbiIhPXR5cGVvZiBhW2NdJiYoYVtjXT1udWxsKSl9Y2F0Y2goZSl7fX19O2QuYm91bmNlPWZ1bmN0aW9uKGEsYixjLGUsZCl7cmV0dXJuKGIvPWQpPDEvMi43NT83LjU2MjUqZSpiKmIrYzpiPDIvMi43NT9lKig3LjU2MjUqKGItPTEuNS8yLjc1KSpiKy43NSkrYzpiPDIuNS8yLjc1P2UqKDcuNTYyNSooYi09Mi4yNS8yLjc1KSpiKy45Mzc1KStjOmUqKDcuNTYyNSooYi09Mi42MjUvMi43NSkqYisuOTg0Mzc1KStjfTtkLmVhc2VJbk91dFF1YWQ9ZnVuY3Rpb24oYSxiLGMsZSxkKXtiLz1kLzI7aWYoMT5iKXJldHVybiBlLzIqYipiK2M7Yi0tO3JldHVybi1lLzIqKGIqKGItMiktMSkrY307ZC5lYXNlSW5TaW5lPWZ1bmN0aW9uKGEsYixjLGUsZCl7cmV0dXJuLWUqDQpNYXRoLmNvcyhiL2QqKE1hdGguUEkvMikpK2UrY307ZC5lYXNlT3V0U2luZT1mdW5jdGlvbihhLGIsYyxlLGQpe3JldHVybiBlKk1hdGguc2luKGIvZCooTWF0aC5QSS8yKSkrY307ZC5lYXNlT3V0RWxhc3RpYz1mdW5jdGlvbihhLGIsYyxlLGQpe2E9MS43MDE1ODt2YXIgZj0wLGg9ZTtpZigwPT09YilyZXR1cm4gYztpZigxPT0oYi89ZCkpcmV0dXJuIGMrZTtmfHwoZj0uMypkKTtoPE1hdGguYWJzKGUpPyhoPWUsYT1mLzQpOmE9Zi8oMipNYXRoLlBJKSpNYXRoLmFzaW4oZS9oKTtyZXR1cm4gaCpNYXRoLnBvdygyLC0xMCpiKSpNYXRoLnNpbigyKihiKmQtYSkqTWF0aC5QSS9mKStlK2N9O2QuZml4U3RlcEU9ZnVuY3Rpb24oYSl7YT1hLnRvRXhwb25lbnRpYWwoMCkuc3BsaXQoImUiKTt2YXIgYj1OdW1iZXIoYVsxXSk7OT09TnVtYmVyKGFbMF0pJiZiKys7cmV0dXJuIGQuZ2VuZXJhdGVOdW1iZXIoMSxiKX07ZC5nZW5lcmF0ZU51bWJlcj1mdW5jdGlvbihhLGIpe3ZhciBjPSIiLGU7DQplPTA+Yj9NYXRoLmFicyhiKS0xOk1hdGguYWJzKGIpO3ZhciBkO2ZvcihkPTA7ZDxlO2QrKyljKz0iMCI7cmV0dXJuIDA+Yj9OdW1iZXIoIjAuIitjK1N0cmluZyhhKSk6TnVtYmVyKFN0cmluZyhhKStjKX07ZC5zZXRDTj1mdW5jdGlvbihhLGIsYyxlKXtpZihhLmFkZENsYXNzTmFtZXMmJmImJihiPWIubm9kZSkmJmMpe3ZhciBkPWIuZ2V0QXR0cmlidXRlKCJjbGFzcyIpO2E9YS5jbGFzc05hbWVQcmVmaXgrIi0iO2UmJihhPSIiKTtkP2Iuc2V0QXR0cmlidXRlKCJjbGFzcyIsZCsiICIrYStjKTpiLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGErYyl9fTtkLnJlbW92ZUNOPWZ1bmN0aW9uKGEsYixjKXtiJiYoYj1iLm5vZGUpJiZjJiYoYj1iLmNsYXNzTGlzdCkmJmIucmVtb3ZlKGEuY2xhc3NOYW1lUHJlZml4KyItIitjKX07ZC5wYXJzZURlZnM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSl7dmFyIGU9dHlwZW9mIGFbY107aWYoMDxhW2NdLmxlbmd0aCYmIm9iamVjdCI9PWUpZm9yKHZhciBnPQ0KMDtnPGFbY10ubGVuZ3RoO2crKyllPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkLlNWR19OUyxjKSxiLmFwcGVuZENoaWxkKGUpLGQucGFyc2VEZWZzKGFbY11bZ10sZSk7ZWxzZSJvYmplY3QiPT1lPyhlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkLlNWR19OUyxjKSxiLmFwcGVuZENoaWxkKGUpLGQucGFyc2VEZWZzKGFbY10sZSkpOmIuc2V0QXR0cmlidXRlKGMsYVtjXSl9fX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGQ9d2luZG93LkFtQ2hhcnRzO2QuQXhpc0Jhc2U9ZC5DbGFzcyh7Y29uc3RydWN0OmZ1bmN0aW9uKGEpe3RoaXMuY3JlYXRlRXZlbnRzKCJjbGlja0l0ZW0iLCJyb2xsT3Zlckl0ZW0iLCJyb2xsT3V0SXRlbSIsInJvbGxPdmVyR3VpZGUiLCJyb2xsT3V0R3VpZGUiLCJjbGlja0d1aWRlIik7dGhpcy50aXRsZURZPXRoaXMueT10aGlzLng9dGhpcy5keT10aGlzLmR4PTA7dGhpcy5heGlzVGhpY2tuZXNzPTE7dGhpcy5heGlzQ29sb3I9IiMwMDAwMDAiO3RoaXMuYXhpc0FscGhhPTE7dGhpcy5ncmlkQ291bnQ9dGhpcy50aWNrTGVuZ3RoPTU7dGhpcy5ncmlkQWxwaGE9LjE1O3RoaXMuZ3JpZFRoaWNrbmVzcz0xO3RoaXMuZ3JpZENvbG9yPSIjMDAwMDAwIjt0aGlzLmRhc2hMZW5ndGg9MDt0aGlzLmxhYmVsRnJlcXVlbmN5PTE7dGhpcy5zaG93TGFzdExhYmVsPXRoaXMuc2hvd0ZpcnN0TGFiZWw9ITA7dGhpcy5maWxsQ29sb3I9IiNGRkZGRkYiO3RoaXMuZmlsbEFscGhhPQ0KMDt0aGlzLmxhYmVsc0VuYWJsZWQ9ITA7dGhpcy5sYWJlbFJvdGF0aW9uPTA7dGhpcy5hdXRvR3JpZENvdW50PSEwO3RoaXMub2Zmc2V0PTA7dGhpcy5ndWlkZXM9W107dGhpcy52aXNpYmxlPSEwO3RoaXMuY291bnRlcj0wO3RoaXMuZ3VpZGVzPVtdO3RoaXMuaWdub3JlQXhpc1dpZHRoPXRoaXMuaW5zaWRlPSExO3RoaXMubWluSG9yaXpvbnRhbEdhcD03NTt0aGlzLm1pblZlcnRpY2FsR2FwPTM1O3RoaXMudGl0bGVCb2xkPSEwO3RoaXMubWlub3JHcmlkRW5hYmxlZD0hMTt0aGlzLm1pbm9yR3JpZEFscGhhPS4wNzt0aGlzLmF1dG9XcmFwPSExO3RoaXMudGl0bGVBbGlnbj0ibWlkZGxlIjt0aGlzLmxhYmVsT2Zmc2V0PTA7dGhpcy5iY249ImF4aXMtIjt0aGlzLmNlbnRlckxhYmVscz0hMTt0aGlzLmZpcnN0RGF5T2ZXZWVrPTE7dGhpcy5jZW50ZXJMYWJlbE9uRnVsbFBlcmlvZD10aGlzLm1hcmtQZXJpb2RDaGFuZ2U9dGhpcy5ib2xkUGVyaW9kQmVnaW5uaW5nPSEwO3RoaXMudGl0bGVXaWR0aD0NCjA7dGhpcy5wZXJpb2RzPVt7cGVyaW9kOiJmZmYiLGNvdW50OjF9LHtwZXJpb2Q6ImZmZiIsY291bnQ6NX0se3BlcmlvZDoiZmZmIixjb3VudDoxMH0se3BlcmlvZDoiZmZmIixjb3VudDo1MH0se3BlcmlvZDoiZmZmIixjb3VudDoxMDB9LHtwZXJpb2Q6ImZmZiIsY291bnQ6NTAwfSx7cGVyaW9kOiJzcyIsY291bnQ6MX0se3BlcmlvZDoic3MiLGNvdW50OjV9LHtwZXJpb2Q6InNzIixjb3VudDoxMH0se3BlcmlvZDoic3MiLGNvdW50OjMwfSx7cGVyaW9kOiJtbSIsY291bnQ6MX0se3BlcmlvZDoibW0iLGNvdW50OjV9LHtwZXJpb2Q6Im1tIixjb3VudDoxMH0se3BlcmlvZDoibW0iLGNvdW50OjMwfSx7cGVyaW9kOiJoaCIsY291bnQ6MX0se3BlcmlvZDoiaGgiLGNvdW50OjN9LHtwZXJpb2Q6ImhoIixjb3VudDo2fSx7cGVyaW9kOiJoaCIsY291bnQ6MTJ9LHtwZXJpb2Q6IkREIixjb3VudDoxfSx7cGVyaW9kOiJERCIsY291bnQ6Mn0se3BlcmlvZDoiREQiLGNvdW50OjN9LHtwZXJpb2Q6IkREIiwNCmNvdW50OjR9LHtwZXJpb2Q6IkREIixjb3VudDo1fSx7cGVyaW9kOiJXVyIsY291bnQ6MX0se3BlcmlvZDoiTU0iLGNvdW50OjF9LHtwZXJpb2Q6Ik1NIixjb3VudDoyfSx7cGVyaW9kOiJNTSIsY291bnQ6M30se3BlcmlvZDoiTU0iLGNvdW50OjZ9LHtwZXJpb2Q6IllZWVkiLGNvdW50OjF9LHtwZXJpb2Q6IllZWVkiLGNvdW50OjJ9LHtwZXJpb2Q6IllZWVkiLGNvdW50OjV9LHtwZXJpb2Q6IllZWVkiLGNvdW50OjEwfSx7cGVyaW9kOiJZWVlZIixjb3VudDo1MH0se3BlcmlvZDoiWVlZWSIsY291bnQ6MTAwfV07dGhpcy5kYXRlRm9ybWF0cz1be3BlcmlvZDoiZmZmIixmb3JtYXQ6Ik5OOlNTLlFRUSJ9LHtwZXJpb2Q6InNzIixmb3JtYXQ6IkpKOk5OOlNTIn0se3BlcmlvZDoibW0iLGZvcm1hdDoiSko6Tk4ifSx7cGVyaW9kOiJoaCIsZm9ybWF0OiJKSjpOTiJ9LHtwZXJpb2Q6IkREIixmb3JtYXQ6Ik1NTSBERCJ9LHtwZXJpb2Q6IldXIixmb3JtYXQ6Ik1NTSBERCJ9LHtwZXJpb2Q6Ik1NIiwNCmZvcm1hdDoiTU1NIn0se3BlcmlvZDoiWVlZWSIsZm9ybWF0OiJZWVlZIn1dO3RoaXMubmV4dFBlcmlvZD17ZmZmOiJzcyIsc3M6Im1tIixtbToiaGgiLGhoOiJERCIsREQ6Ik1NIixNTToiWVlZWSJ9O2QuYXBwbHlUaGVtZSh0aGlzLGEsIkF4aXNCYXNlIil9LHpvb206ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0PWE7dGhpcy5lbmQ9Yjt0aGlzLmRhdGFDaGFuZ2VkPSEwO3RoaXMuZHJhdygpfSxmaXhBeGlzUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBvc2l0aW9uOyJIIj09dGhpcy5vcmllbnRhdGlvbj8oImxlZnQiPT1hJiYoYT0iYm90dG9tIiksInJpZ2h0Ij09YSYmKGE9InRvcCIpKTooImJvdHRvbSI9PWEmJihhPSJsZWZ0IiksInRvcCI9PWEmJihhPSJyaWdodCIpKTt0aGlzLnBvc2l0aW9uPWF9LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLmNyZWF0ZUJhbGxvb24oKX0sZHJhdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQ7dGhpcy5wcmV2Qlk9dGhpcy5wcmV2Qlg9TmFOOw0KdGhpcy5hbGxMYWJlbHM9W107dGhpcy5jb3VudGVyPTA7dGhpcy5kZXN0cm95KCk7dGhpcy5maXhBeGlzUG9zaXRpb24oKTt0aGlzLnNldEJhbGxvb25Cb3VuZHMoKTt0aGlzLmxhYmVscz1bXTt2YXIgYj1hLmNvbnRhaW5lcixjPWIuc2V0KCk7YS5ncmlkU2V0LnB1c2goYyk7dGhpcy5zZXQ9YztiPWIuc2V0KCk7YS5heGVzTGFiZWxzU2V0LnB1c2goYik7dGhpcy5sYWJlbHNTZXQ9Yjt0aGlzLmF4aXNMaW5lPW5ldyB0aGlzLmF4aXNSZW5kZXJlcih0aGlzKTt0aGlzLmF1dG9HcmlkQ291bnQ/KCJWIj09dGhpcy5vcmllbnRhdGlvbj8oYT10aGlzLmhlaWdodC90aGlzLm1pblZlcnRpY2FsR2FwLDM+YSYmKGE9MykpOmE9dGhpcy53aWR0aC90aGlzLm1pbkhvcml6b250YWxHYXAsdGhpcy5ncmlkQ291bnRSPU1hdGgubWF4KGEsMSkpOnRoaXMuZ3JpZENvdW50Uj10aGlzLmdyaWRDb3VudDt0aGlzLmF4aXNXaWR0aD10aGlzLmF4aXNMaW5lLmF4aXNXaWR0aDt0aGlzLmFkZFRpdGxlKCl9LA0Kc2V0T3JpZW50YXRpb246ZnVuY3Rpb24oYSl7dGhpcy5vcmllbnRhdGlvbj1hPyJIIjoiViJ9LGFkZFRpdGxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50aXRsZTt0aGlzLnRpdGxlTGFiZWw9bnVsbDtpZihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9dGhpcy50aXRsZUNvbG9yO3ZvaWQgMD09PWMmJihjPWIuY29sb3IpO3ZhciBlPXRoaXMudGl0bGVGb250U2l6ZTtpc05hTihlKSYmKGU9Yi5mb250U2l6ZSsxKTthPWQudGV4dChiLmNvbnRhaW5lcixhLGMsYi5mb250RmFtaWx5LGUsdGhpcy50aXRsZUFsaWduLHRoaXMudGl0bGVCb2xkKTtkLnNldENOKGIsYSx0aGlzLmJjbisidGl0bGUiKTt0aGlzLnRpdGxlTGFiZWw9YX19LHBvc2l0aW9uVGl0bGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRpdGxlTGFiZWw7aWYoYSl7dmFyIGIsYyxlPXRoaXMubGFiZWxzU2V0LGc9e307MDxlLmxlbmd0aCgpP2c9ZS5nZXRCQm94KCk6KGcueD0wLGcueT0wLGcud2lkdGg9dGhpcy53aWR0aCxnLmhlaWdodD0NCnRoaXMuaGVpZ2h0LGQuVk1MJiYoZy55Kz10aGlzLnksZy54Kz10aGlzLngpKTtlLnB1c2goYSk7dmFyIGU9Zy54LGY9Zy55O2QuVk1MJiYoZi09dGhpcy55LGUtPXRoaXMueCk7dmFyIGg9Zy53aWR0aCxnPWcuaGVpZ2h0LGs9dGhpcy53aWR0aCxsPXRoaXMuaGVpZ2h0LG09MCxuPWEuZ2V0QkJveCgpLmhlaWdodC8yLHE9dGhpcy5pbnNpZGUscD10aGlzLnRpdGxlQWxpZ247c3dpdGNoKHRoaXMucG9zaXRpb24pe2Nhc2UgInRvcCI6Yj0ibGVmdCI9PXA/LTE6InJpZ2h0Ij09cD9rOmsvMjtjPWYtMTAtbjticmVhaztjYXNlICJib3R0b20iOmI9ImxlZnQiPT1wPy0xOiJyaWdodCI9PXA/azprLzI7Yz1mK2crMTArbjticmVhaztjYXNlICJsZWZ0IjpiPWUtMTAtbjtxJiYoYi09NSk7bT0tOTA7Yz0oImxlZnQiPT1wP2wrMToicmlnaHQiPT1wPy0xOmwvMikrdGhpcy50aXRsZURZO3RoaXMudGl0bGVXaWR0aD1uKzEwO2JyZWFrO2Nhc2UgInJpZ2h0IjpiPWUraCsxMCtuLHEmJihiKz03KSwNCmM9KCJsZWZ0Ij09cD9sKzI6InJpZ2h0Ij09cD8tMjpsLzIpK3RoaXMudGl0bGVEWSx0aGlzLnRpdGxlV2lkdGg9bisxMCxtPS05MH10aGlzLm1hcmdpbnNDaGFuZ2VkPyhhLnRyYW5zbGF0ZShiLGMpLHRoaXMudHg9Yix0aGlzLnR5PWMpOmEudHJhbnNsYXRlKHRoaXMudHgsdGhpcy50eSk7dGhpcy5tYXJnaW5zQ2hhbmdlZD0hMTtpc05hTih0aGlzLnRpdGxlUm90YXRpb24pfHwobT10aGlzLnRpdGxlUm90YXRpb24pOzAhPT1tJiZhLnJvdGF0ZShtKX19LHB1c2hBeGlzSXRlbTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZT1hLmdyYXBoaWNzKCk7MDxlLmxlbmd0aCgpJiYoYj9jLmxhYmVsc1NldC5wdXNoKGUpOmMuc2V0LnB1c2goZSkpO2lmKGU9YS5nZXRMYWJlbCgpKWMubGFiZWxzU2V0LnB1c2goZSksZS5jbGljayhmdW5jdGlvbihiKXtjLmhhbmRsZU1vdXNlKGIsYSwiY2xpY2tJdGVtIil9KS50b3VjaGVuZChmdW5jdGlvbihiKXtjLmhhbmRsZU1vdXNlKGIsYSwiY2xpY2tJdGVtIil9KS5tb3VzZW92ZXIoZnVuY3Rpb24oYil7Yy5oYW5kbGVNb3VzZShiLA0KYSwicm9sbE92ZXJJdGVtIil9KS5tb3VzZW91dChmdW5jdGlvbihiKXtjLmhhbmRsZU1vdXNlKGIsYSwicm9sbE91dEl0ZW0iKX0pfSxoYW5kbGVNb3VzZTpmdW5jdGlvbihhLGIsYyl7dGhpcy5maXJlKHt0eXBlOmMsdmFsdWU6Yi52YWx1ZSxzZXJpYWxEYXRhSXRlbTpiLnNlcmlhbERhdGFJdGVtLGF4aXM6dGhpcyx0YXJnZXQ6Yi5sYWJlbCxjaGFydDp0aGlzLmNoYXJ0LGV2ZW50OmF9KX0sYWRkR3VpZGU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ3VpZGVzLGM9ITEsZT1iLmxlbmd0aCxnPTA7ZzxiLmxlbmd0aDtnKyspYltnXT09YSYmKGM9ITAsZT1nKTthPWQucHJvY2Vzc09iamVjdChhLGQuR3VpZGUsdGhpcy50aGVtZSk7YS5pZHx8KGEuaWQ9Imd1aWRlQXV0byIrZSsiXyIrKG5ldyBEYXRlKS5nZXRUaW1lKCkpO2N8fGIucHVzaChhKX0scmVtb3ZlR3VpZGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ndWlkZXMsYztmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKWJbY109PWEmJg0KYi5zcGxpY2UoYywxKX0saGFuZGxlR3VpZGVPdmVyOmZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dCh0aGlzLmNoYXJ0LmhvdmVySW50KTt2YXIgYj17eDowLHk6MCx3aWR0aDowLGhlaWdodDowfTthLmdyYXBoaWNzJiYoYj1hLmdyYXBoaWNzLmdldEJCb3goKSk7dmFyIGM9dGhpcy54K2IueCtiLndpZHRoLzIsYj10aGlzLnkrYi55K2IuaGVpZ2h0LzIsZT1hLmZpbGxDb2xvcjt2b2lkIDA9PT1lJiYoZT1hLmxpbmVDb2xvcik7dGhpcy5jaGFydC5zaG93QmFsbG9vbihhLmJhbGxvb25UZXh0LGUsITAsYyxiKTt0aGlzLmZpcmUoe3R5cGU6InJvbGxPdmVyR3VpZGUiLGd1aWRlOmEsY2hhcnQ6dGhpcy5jaGFydH0pfSxoYW5kbGVHdWlkZU91dDpmdW5jdGlvbihhKXt0aGlzLmNoYXJ0LmhpZGVCYWxsb29uKCk7dGhpcy5maXJlKHt0eXBlOiJyb2xsT3V0R3VpZGUiLGd1aWRlOmEsY2hhcnQ6dGhpcy5jaGFydH0pfSxoYW5kbGVHdWlkZUNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuY2hhcnQuaGlkZUJhbGxvb24oKTsNCnRoaXMuZmlyZSh7dHlwZToiY2xpY2tHdWlkZSIsZ3VpZGU6YSxjaGFydDp0aGlzLmNoYXJ0fSl9LGFkZEV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczthLm1vdXNlb3ZlcihmdW5jdGlvbigpe2MuaGFuZGxlR3VpZGVPdmVyKGIpfSk7YS5tb3VzZXVwKGZ1bmN0aW9uKCl7Yy5oYW5kbGVHdWlkZUNsaWNrKGIpfSk7YS50b3VjaHN0YXJ0KGZ1bmN0aW9uKCl7Yy5oYW5kbGVHdWlkZU92ZXIoYil9KTthLm1vdXNlb3V0KGZ1bmN0aW9uKCl7Yy5oYW5kbGVHdWlkZU91dChiKX0pfSxnZXRCQm94OmZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5sYWJlbHNTZXQmJihhPXRoaXMubGFiZWxzU2V0LmdldEJCb3goKSk7YT9kLlZNTHx8KGE9e3g6YS54K3RoaXMueCx5OmEueSt0aGlzLnksd2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHR9KTphPXt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9O3JldHVybiBhfSxkZXN0cm95OmZ1bmN0aW9uKCl7ZC5yZW1vdmUodGhpcy5zZXQpOw0KZC5yZW1vdmUodGhpcy5sYWJlbHNTZXQpO3ZhciBhPXRoaXMuYXhpc0xpbmU7YSYmZC5yZW1vdmUoYS5heGlzU2V0KTtkLnJlbW92ZSh0aGlzLmdyaWQwKX0sY2hvb3NlTWlub3JGcmVxdWVuY3k6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTEwOzA8YjtiLS0paWYoYS9iPT1NYXRoLnJvdW5kKGEvYikpcmV0dXJuIGEvYn0scGFyc2VEYXRlc0RyYXc6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuY2hhcnQsYz10aGlzLnNob3dGaXJzdExhYmVsLGU9dGhpcy5zaG93TGFzdExhYmVsLGcsZj0iIixoPWQuZXh0cmFjdFBlcmlvZCh0aGlzLm1pblBlcmlvZCksaz1kLmdldFBlcmlvZER1cmF0aW9uKGgucGVyaW9kLGguY291bnQpLGwsbSxuLHEscCx0PXRoaXMuZmlyc3REYXlPZldlZWsscj10aGlzLmJvbGRQZXJpb2RCZWdpbm5pbmc7YT10aGlzLm1pbm9yR3JpZEVuYWJsZWQ7dmFyIHcsej10aGlzLmdyaWRBbHBoYSx4LHU9dGhpcy5jaG9vc2VQZXJpb2QoMCksQT11LnBlcmlvZCx1PXUuY291bnQsDQp5PWQuZ2V0UGVyaW9kRHVyYXRpb24oQSx1KTt5PGsmJihBPWgucGVyaW9kLHU9aC5jb3VudCx5PWspO2g9QTsiV1ciPT1oJiYoaD0iREQiKTt0aGlzLnN0ZXBXaWR0aD10aGlzLmdldFN0ZXBXaWR0aCh0aGlzLnRpbWVEaWZmZXJlbmNlKTt2YXIgQj1NYXRoLmNlaWwodGhpcy50aW1lRGlmZmVyZW5jZS95KSs1LEQ9bD1kLnJlc2V0RGF0ZVRvTWluKG5ldyBEYXRlKHRoaXMuc3RhcnRUaW1lLXkpLEEsdSx0KS5nZXRUaW1lKCk7aWYoaD09QSYmMT09dSYmdGhpcy5jZW50ZXJMYWJlbE9uRnVsbFBlcmlvZHx8dGhpcy5hdXRvV3JhcHx8dGhpcy5jZW50ZXJMYWJlbHMpbj15KnRoaXMuc3RlcFdpZHRoLHRoaXMuYXV0b1dyYXAmJiF0aGlzLmNlbnRlckxhYmVscyYmKG49LW4pO3RoaXMuY2VsbFdpZHRoPWsqdGhpcy5zdGVwV2lkdGg7cT1NYXRoLnJvdW5kKGwveSk7az0tMTtxLzI9PU1hdGgucm91bmQocS8yKSYmKGs9LTIsbC09eSk7cT10aGlzLmZpcnN0VGltZTt2YXIgQz0wLEk9MDthJiYNCjE8dSYmKHc9dGhpcy5jaG9vc2VNaW5vckZyZXF1ZW5jeSh1KSx4PWQuZ2V0UGVyaW9kRHVyYXRpb24oQSx3KSwiREQiPT1BJiYoeCs9ZC5nZXRQZXJpb2REdXJhdGlvbigiaGgiKSksImZmZiI9PUEmJih4PTEpKTtpZigwPHRoaXMuZ3JpZENvdW50Uilmb3IoQi01LWs+dGhpcy5hdXRvUm90YXRlQ291bnQmJiFpc05hTih0aGlzLmF1dG9Sb3RhdGVBbmdsZSkmJih0aGlzLmxhYmVsUm90YXRpb25SPXRoaXMuYXV0b1JvdGF0ZUFuZ2xlKSxhPWs7YTw9QjthKyspe3A9cSt5KihhK01hdGguZmxvb3IoKEQtcSkveSkpLUM7IkREIj09QSYmKHArPTM2RTUpO3A9ZC5yZXNldERhdGVUb01pbihuZXcgRGF0ZShwKSxBLHUsdCkuZ2V0VGltZSgpOyJNTSI9PUEmJihnPShwLWwpL3ksMS41PD0ocC1sKS95JiYocD1wLShnLTEpKnkrZC5nZXRQZXJpb2REdXJhdGlvbigiREQiLDMpLHA9ZC5yZXNldERhdGVUb01pbihuZXcgRGF0ZShwKSxBLDEpLmdldFRpbWUoKSxDKz15KSk7Zz0ocC10aGlzLnN0YXJ0VGltZSkqDQp0aGlzLnN0ZXBXaWR0aDtpZigicmFkYXIiPT1iLnR5cGUpe2lmKGc9dGhpcy5heGlzV2lkdGgtZywwPmd8fGc+dGhpcy5heGlzV2lkdGgpY29udGludWV9ZWxzZSB0aGlzLnJvdGF0ZT8iZGF0ZSI9PXRoaXMudHlwZSYmIm1pZGRsZSI9PXRoaXMuZ3JpZFBvc2l0aW9uJiYoST0teSp0aGlzLnN0ZXBXaWR0aC8yKToiZGF0ZSI9PXRoaXMudHlwZSYmKGc9dGhpcy5heGlzV2lkdGgtZyk7Zj0hMTt0aGlzLm5leHRQZXJpb2RbaF0mJihmPXRoaXMuY2hlY2tQZXJpb2RDaGFuZ2UodGhpcy5uZXh0UGVyaW9kW2hdLDEscCxsLGgpKTtsPSExO2YmJnRoaXMubWFya1BlcmlvZENoYW5nZT8oZj10aGlzLmRhdGVGb3JtYXRzT2JqZWN0W3RoaXMubmV4dFBlcmlvZFtoXV0sdGhpcy50d29MaW5lTW9kZSYmKGY9dGhpcy5kYXRlRm9ybWF0c09iamVjdFtoXSsiXG4iK2YsZj1kLmZpeEJyYWtlcyhmKSksbD0hMCk6Zj10aGlzLmRhdGVGb3JtYXRzT2JqZWN0W2hdO3J8fChsPSExKTt0aGlzLmN1cnJlbnREYXRlRm9ybWF0PQ0KZjtmPWQuZm9ybWF0RGF0ZShuZXcgRGF0ZShwKSxmLGIpO2lmKGE9PWsmJiFjfHxhPT1CJiYhZSlmPSIgIjt0aGlzLmxhYmVsRnVuY3Rpb24mJihmPXRoaXMubGFiZWxGdW5jdGlvbihmLG5ldyBEYXRlKHApLHRoaXMsQSx1LG0pLnRvU3RyaW5nKCkpO3RoaXMuYm9sZExhYmVscyYmKGw9ITApO209bmV3IHRoaXMuYXhpc0l0ZW1SZW5kZXJlcih0aGlzLGcsZiwhMSxuLEksITEsbCk7dGhpcy5wdXNoQXhpc0l0ZW0obSk7bT1sPXA7aWYoIWlzTmFOKHcpKWZvcihnPTE7Zzx1O2crPXcpdGhpcy5ncmlkQWxwaGE9dGhpcy5taW5vckdyaWRBbHBoYSxmPXAreCpnLGY9ZC5yZXNldERhdGVUb01pbihuZXcgRGF0ZShmKSxBLHcsdCkuZ2V0VGltZSgpLGY9bmV3IHRoaXMuYXhpc0l0ZW1SZW5kZXJlcih0aGlzLChmLXRoaXMuc3RhcnRUaW1lKSp0aGlzLnN0ZXBXaWR0aCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsITApLHRoaXMucHVzaEF4aXNJdGVtKGYpOw0KdGhpcy5ncmlkQWxwaGE9en19LGNob29zZVBlcmlvZDpmdW5jdGlvbihhKXt2YXIgYj1kLmdldFBlcmlvZER1cmF0aW9uKHRoaXMucGVyaW9kc1thXS5wZXJpb2QsdGhpcy5wZXJpb2RzW2FdLmNvdW50KSxjPXRoaXMucGVyaW9kcztyZXR1cm4gdGhpcy50aW1lRGlmZmVyZW5jZTxiJiYwPGE/Y1thLTFdOk1hdGguY2VpbCh0aGlzLnRpbWVEaWZmZXJlbmNlL2IpPD10aGlzLmdyaWRDb3VudFI/Y1thXTphKzE8Yy5sZW5ndGg/dGhpcy5jaG9vc2VQZXJpb2QoYSsxKTpjW2FdfSxnZXRTdGVwV2lkdGg6ZnVuY3Rpb24oYSl7dmFyIGI7dGhpcy5zdGFydE9uQXhpcz8oYj10aGlzLmF4aXNXaWR0aC8oYS0xKSwxPT1hJiYoYj10aGlzLmF4aXNXaWR0aCkpOmI9dGhpcy5heGlzV2lkdGgvYTtyZXR1cm4gYn0sdGltZVpvb206ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1ifSxtaW5EdXJhdGlvbjpmdW5jdGlvbigpe3ZhciBhPWQuZXh0cmFjdFBlcmlvZCh0aGlzLm1pblBlcmlvZCk7DQpyZXR1cm4gZC5nZXRQZXJpb2REdXJhdGlvbihhLnBlcmlvZCxhLmNvdW50KX0sY2hlY2tQZXJpb2RDaGFuZ2U6ZnVuY3Rpb24oYSxiLGMsZSxnKXtjPW5ldyBEYXRlKGMpO3ZhciBmPW5ldyBEYXRlKGUpLGg9dGhpcy5maXJzdERheU9mV2VlaztlPWI7IkREIj09YSYmKGI9MSk7Yz1kLnJlc2V0RGF0ZVRvTWluKGMsYSxiLGgpLmdldFRpbWUoKTtiPWQucmVzZXREYXRlVG9NaW4oZixhLGIsaCkuZ2V0VGltZSgpO3JldHVybiJERCI9PWEmJiJoaCIhPWcmJmMtYjxkLmdldFBlcmlvZER1cmF0aW9uKGEsZSktZC5nZXRQZXJpb2REdXJhdGlvbigiaGgiLDEpPyExOmMhPWI/ITA6ITF9LGdlbmVyYXRlREZPYmplY3Q6ZnVuY3Rpb24oKXt0aGlzLmRhdGVGb3JtYXRzT2JqZWN0PXt9O3ZhciBhO2ZvcihhPTA7YTx0aGlzLmRhdGVGb3JtYXRzLmxlbmd0aDthKyspe3ZhciBiPXRoaXMuZGF0ZUZvcm1hdHNbYV07dGhpcy5kYXRlRm9ybWF0c09iamVjdFtiLnBlcmlvZF09Yi5mb3JtYXR9fSxoaWRlQmFsbG9vbjpmdW5jdGlvbigpe3RoaXMuYmFsbG9vbiYmDQp0aGlzLmJhbGxvb24uaGlkZSYmdGhpcy5iYWxsb29uLmhpZGUoKTt0aGlzLnByZXZCWT10aGlzLnByZXZCWD1OYU59LGZvcm1hdEJhbGxvb25UZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzaG93QmFsbG9vbjpmdW5jdGlvbihhLGIsYyxlKXt2YXIgZD10aGlzLm9mZnNldDtzd2l0Y2godGhpcy5wb3NpdGlvbil7Y2FzZSAiYm90dG9tIjpiPXRoaXMuaGVpZ2h0K2Q7YnJlYWs7Y2FzZSAidG9wIjpiPS1kO2JyZWFrO2Nhc2UgImxlZnQiOmE9LWQ7YnJlYWs7Y2FzZSAicmlnaHQiOmE9dGhpcy53aWR0aCtkfWN8fChjPXRoaXMuY3VycmVudERhdGVGb3JtYXQpO2lmKCJWIj09dGhpcy5vcmllbnRhdGlvbil7aWYoMD5ifHxiPnRoaXMuaGVpZ2h0KXJldHVybjtpZihpc05hTihiKSl7dGhpcy5oaWRlQmFsbG9vbigpO3JldHVybn1iPXRoaXMuYWRqdXN0QmFsbG9vbkNvb3JkaW5hdGUoYixlKTtlPXRoaXMuY29vcmRpbmF0ZVRvVmFsdWUoYil9ZWxzZXtpZigwPmF8fGE+dGhpcy53aWR0aClyZXR1cm47DQppZihpc05hTihhKSl7dGhpcy5oaWRlQmFsbG9vbigpO3JldHVybn1hPXRoaXMuYWRqdXN0QmFsbG9vbkNvb3JkaW5hdGUoYSxlKTtlPXRoaXMuY29vcmRpbmF0ZVRvVmFsdWUoYSl9dmFyIGY7aWYoZD10aGlzLmNoYXJ0LmNoYXJ0Q3Vyc29yKWY9ZC5pbmRleDtpZih0aGlzLmJhbGxvb24mJnZvaWQgMCE9PWUmJnRoaXMuYmFsbG9vbi5lbmFibGVkKXtpZih0aGlzLmJhbGxvb25UZXh0RnVuY3Rpb24pe2lmKCJkYXRlIj09dGhpcy50eXBlfHwhMD09PXRoaXMucGFyc2VEYXRlcyllPW5ldyBEYXRlKGUpO2U9dGhpcy5iYWxsb29uVGV4dEZ1bmN0aW9uKGUpfWVsc2UgdGhpcy5iYWxsb29uVGV4dD9lPXRoaXMuZm9ybWF0QmFsbG9vblRleHQodGhpcy5iYWxsb29uVGV4dCxmLGMpOmlzTmFOKGUpfHwoZT10aGlzLmZvcm1hdFZhbHVlKGUsYykpO2lmKGEhPXRoaXMucHJldkJYfHxiIT10aGlzLnByZXZCWSl0aGlzLmJhbGxvb24uc2V0UG9zaXRpb24oYSxiKSx0aGlzLnByZXZCWD1hLHRoaXMucHJldkJZPQ0KYixlJiZ0aGlzLmJhbGxvb24uc2hvd0JhbGxvb24oZSl9fSxhZGp1c3RCYWxsb29uQ29vcmRpbmF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYX0sY3JlYXRlQmFsbG9vbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQsYj1hLmNoYXJ0Q3Vyc29yO2ImJihiPWIuY3Vyc29yUG9zaXRpb24sIm1vdXNlIiE9YiYmKHRoaXMuc3RpY2tCYWxsb29uVG9DYXRlZ29yeT0hMCksInN0YXJ0Ij09YiYmKHRoaXMuc3RpY2tCYWxsb29uVG9TdGFydD0hMCksIlZhbHVlQXhpcyI9PXRoaXMuY25hbWUmJih0aGlzLnN0aWNrQmFsbG9vblRvQ2F0ZWdvcnk9ITEpKTt0aGlzLmJhbGxvb24mJih0aGlzLmJhbGxvb24uZGVzdHJveSYmdGhpcy5iYWxsb29uLmRlc3Ryb3koKSxkLmV4dGVuZCh0aGlzLmJhbGxvb24sYS5iYWxsb29uLCEwKSl9LHNldEJhbGxvb25Cb3VuZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmJhbGxvb247aWYoYSl7dmFyIGI9dGhpcy5jaGFydDthLmNvcm5lclJhZGl1cz0wO2Euc2hhZG93QWxwaGE9DQowO2EuYm9yZGVyVGhpY2tuZXNzPTE7YS5ib3JkZXJBbHBoYT0xO2EuYWRqdXN0Qm9yZGVyQ29sb3I9ITE7YS5zaG93QnVsbGV0PSExO3RoaXMuYmFsbG9vbj1hO2EuY2hhcnQ9YjthLm1haW5TZXQ9Yi5wbG90QmFsbG9vbnNTZXQ7YS5wb2ludGVyV2lkdGg9dGhpcy50aWNrTGVuZ3RoO2lmKHRoaXMucGFyc2VEYXRlc3x8ImRhdGUiPT10aGlzLnR5cGUpYS5wb2ludGVyV2lkdGg9MDthLmNsYXNzTmFtZT10aGlzLmlkO2I9IlYiOyJWIj09dGhpcy5vcmllbnRhdGlvbiYmKGI9IkgiKTt0aGlzLnN0aWNrQmFsbG9vblRvQ2F0ZWdvcnl8fChhLmFuaW1hdGlvbkR1cmF0aW9uPTApO3ZhciBjLGUsZCxmLGg9dGhpcy5pbnNpZGUsaz10aGlzLndpZHRoLGw9dGhpcy5oZWlnaHQ7c3dpdGNoKHRoaXMucG9zaXRpb24pe2Nhc2UgImJvdHRvbSI6Yz0wO2U9aztoPyhkPTAsZj1sKTooZD1sLGY9bCsxRTMpO2JyZWFrO2Nhc2UgInRvcCI6Yz0wO2U9aztoPyhkPTAsZj1sKTooZD0tMUUzLGY9MCk7YnJlYWs7DQpjYXNlICJsZWZ0IjpkPTA7Zj1sO2g/KGM9MCxlPWspOihjPS0xRTMsZT0wKTticmVhaztjYXNlICJyaWdodCI6ZD0wLGY9bCxoPyhjPTAsZT1rKTooYz1rLGU9aysxRTMpfWEuZHJvcHx8KGEucG9pbnRlck9yaWVudGF0aW9uPWIpO2Euc2V0Qm91bmRzKGMsZCxlLGYpfX19KX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGQ9d2luZG93LkFtQ2hhcnRzO2QuVmFsdWVBeGlzPWQuQ2xhc3Moe2luaGVyaXRzOmQuQXhpc0Jhc2UsY29uc3RydWN0OmZ1bmN0aW9uKGEpe3RoaXMuY25hbWU9IlZhbHVlQXhpcyI7dGhpcy5jcmVhdGVFdmVudHMoImF4aXNDaGFuZ2VkIiwibG9nYXJpdGhtaWNBeGlzRmFpbGVkIiwiYXhpc1pvb21lZCIsImF4aXNJbnRab29tZWQiKTtkLlZhbHVlQXhpcy5iYXNlLmNvbnN0cnVjdC5jYWxsKHRoaXMsYSk7dGhpcy5kYXRhQ2hhbmdlZD0hMDt0aGlzLnN0YWNrVHlwZT0ibm9uZSI7dGhpcy5wb3NpdGlvbj0ibGVmdCI7dGhpcy51bml0UG9zaXRpb249InJpZ2h0Ijt0aGlzLmluY2x1ZGVBbGxWYWx1ZXM9dGhpcy5yZWNhbGN1bGF0ZVRvUGVyY2VudHM9dGhpcy5pbmNsdWRlSGlkZGVuPXRoaXMuaW5jbHVkZUd1aWRlc0luTWluTWF4PXRoaXMuaW50ZWdlcnNPbmx5PSExO3RoaXMuZHVyYXRpb25Vbml0cz17REQ6ImQuICIsaGg6IjoiLG1tOiI6IixzczoiIn07DQp0aGlzLnNjcm9sbGJhcj0hMTt0aGlzLmJhc2VWYWx1ZT0wO3RoaXMucmFkYXJDYXRlZ29yaWVzRW5hYmxlZD0hMDt0aGlzLmF4aXNGcmVxdWVuY3k9MTt0aGlzLmdyaWRUeXBlPSJwb2x5Z29ucyI7dGhpcy51c2VTY2llbnRpZmljTm90YXRpb249ITE7dGhpcy5heGlzVGl0bGVPZmZzZXQ9MTA7dGhpcy5wb2ludFBvc2l0aW9uPSJheGlzIjt0aGlzLm1pbk1heE11bHRpcGxpZXI9MTt0aGlzLmxvZ0dyaWRMaW1pdD0yO3RoaXMudG90YWxUZXh0T2Zmc2V0PXRoaXMudHJlYXRaZXJvQXM9MDt0aGlzLm1pblBlcmlvZD0ic3MiO3RoaXMucmVsYXRpdmVTdGFydD0wO3RoaXMucmVsYXRpdmVFbmQ9MTtkLmFwcGx5VGhlbWUodGhpcyxhLHRoaXMuY25hbWUpfSx1cGRhdGVEYXRhOmZ1bmN0aW9uKCl7MD49dGhpcy5ncmlkQ291bnRSJiYodGhpcy5ncmlkQ291bnRSPTEpO3RoaXMudG90YWxzPVtdO3RoaXMuZGF0YT10aGlzLmNoYXJ0LmNoYXJ0RGF0YTt2YXIgYT10aGlzLmNoYXJ0OyJ4eSIhPWEudHlwZSYmDQoodGhpcy5zdGFja0dyYXBocygic21vb3RoZWRMaW5lIiksdGhpcy5zdGFja0dyYXBocygibGluZSIpLHRoaXMuc3RhY2tHcmFwaHMoImNvbHVtbiIpLHRoaXMuc3RhY2tHcmFwaHMoInN0ZXAiKSk7dGhpcy5yZWNhbGN1bGF0ZVRvUGVyY2VudHMmJnRoaXMucmVjYWxjdWxhdGUoKTtpZih0aGlzLnN5bmNocm9uaXphdGlvbk11bHRpcGxpZXImJnRoaXMuc3luY2hyb25pemVXaXRoKWQuaXNTdHJpbmcodGhpcy5zeW5jaHJvbml6ZVdpdGgpJiYodGhpcy5zeW5jaHJvbml6ZVdpdGg9YS5nZXRWYWx1ZUF4aXNCeUlkKHRoaXMuc3luY2hyb25pemVXaXRoKSksdGhpcy5zeW5jaHJvbml6ZVdpdGgmJih0aGlzLnN5bmNocm9uaXplV2l0aEF4aXModGhpcy5zeW5jaHJvbml6ZVdpdGgpLHRoaXMuZm91bmRHcmFwaHM9ITApO2Vsc2UgaWYodGhpcy5mb3VuZEdyYXBocz0hMSx0aGlzLmdldE1pbk1heCgpLDA9PT10aGlzLnN0YXJ0JiZ0aGlzLmVuZD09dGhpcy5kYXRhLmxlbmd0aC0xJiZpc05hTih0aGlzLm1pblpvb20pJiYNCmlzTmFOKHRoaXMubWF4Wm9vbSl8fGlzTmFOKHRoaXMuZnVsbE1pbikmJmlzTmFOKHRoaXMuZnVsbE1heCkpdGhpcy5mdWxsTWluPXRoaXMubWluLHRoaXMuZnVsbE1heD10aGlzLm1heCwiZGF0ZSIhPXRoaXMudHlwZSYmdGhpcy5zdHJpY3RNaW5NYXgmJihpc05hTih0aGlzLm1pbmltdW0pfHwodGhpcy5mdWxsTWluPXRoaXMubWluaW11bSksaXNOYU4odGhpcy5tYXhpbXVtKXx8KHRoaXMuZnVsbE1heD10aGlzLm1heGltdW0pKSx0aGlzLmxvZ2FyaXRobWljJiYodGhpcy5mdWxsTWluPXRoaXMubG9nTWluLDA9PT10aGlzLmZ1bGxNaW4mJih0aGlzLmZ1bGxNaW49dGhpcy50cmVhdFplcm9BcykpLCJkYXRlIj09dGhpcy50eXBlJiYodGhpcy5taW5pbXVtRGF0ZXx8KHRoaXMuZnVsbE1pbj10aGlzLm1pblJSKSx0aGlzLm1heGltdW1EYXRlfHwodGhpcy5mdWxsTWF4PXRoaXMubWF4UlIpLHRoaXMuc3RyaWN0TWluTWF4JiYodGhpcy5taW5pbXVtRGF0ZSYmKHRoaXMuZnVsbE1pbj10aGlzLm1pbmltdW1EYXRlLmdldFRpbWUoKSksDQp0aGlzLm1heGltdW1EYXRlJiYodGhpcy5mdWxsTWF4PXRoaXMubWF4aW11bURhdGUuZ2V0VGltZSgpKSkpfSxkcmF3OmZ1bmN0aW9uKCl7ZC5WYWx1ZUF4aXMuYmFzZS5kcmF3LmNhbGwodGhpcyk7dmFyIGE9dGhpcy5jaGFydCxiPXRoaXMuc2V0O3RoaXMubGFiZWxSb3RhdGlvblI9dGhpcy5sYWJlbFJvdGF0aW9uO2Quc2V0Q04oYSx0aGlzLnNldCwidmFsdWUtYXhpcyB2YWx1ZS1heGlzLSIrdGhpcy5pZCk7ZC5zZXRDTihhLHRoaXMubGFiZWxzU2V0LCJ2YWx1ZS1heGlzIHZhbHVlLWF4aXMtIit0aGlzLmlkKTtkLnNldENOKGEsdGhpcy5heGlzTGluZS5heGlzU2V0LCJ2YWx1ZS1heGlzIHZhbHVlLWF4aXMtIit0aGlzLmlkKTt2YXIgYz10aGlzLnR5cGU7ImR1cmF0aW9uIj09YyYmKHRoaXMuZHVyYXRpb249InNzIik7ITA9PT10aGlzLmRhdGFDaGFuZ2VkJiYodGhpcy51cGRhdGVEYXRhKCksdGhpcy5kYXRhQ2hhbmdlZD0hMSk7ImRhdGUiPT1jJiYodGhpcy5sb2dhcml0aG1pYz0NCiExLHRoaXMubWluPXRoaXMubWluUlIsdGhpcy5tYXg9dGhpcy5tYXhSUix0aGlzLnJldmVyc2VkPSExLHRoaXMuZ2V0RGF0ZU1pbk1heCgpKTtpZih0aGlzLmxvZ2FyaXRobWljKXt2YXIgZT10aGlzLnRyZWF0WmVyb0FzLGc9dGhpcy5nZXRFeHRyZW1lcygwLHRoaXMuZGF0YS5sZW5ndGgtMSkubWluOyFpc05hTih0aGlzLm1pbmltdW0pJiZ0aGlzLm1pbmltdW08ZyYmKGc9dGhpcy5taW5pbXVtKTt0aGlzLmxvZ01pbj1nO3RoaXMubWluUmVhbDxnJiYodGhpcy5taW5SZWFsPWcpO2lzTmFOKHRoaXMubWluUmVhbCkmJih0aGlzLm1pblJlYWw9Zyk7MDxlJiYwPT09ZyYmKHRoaXMubWluUmVhbD1nPWUpO2lmKDA+PWd8fDA+PXRoaXMubWluaW11bSl7dGhpcy5maXJlKHt0eXBlOiJsb2dhcml0aG1pY0F4aXNGYWlsZWQiLGNoYXJ0OmF9KTtyZXR1cm59fXRoaXMuZ3JpZDA9bnVsbDt2YXIgZixoLGs9YS5keCxsPWEuZHksZT0hMSxnPXRoaXMubG9nYXJpdGhtaWM7aWYoaXNOYU4odGhpcy5taW4pfHwNCmlzTmFOKHRoaXMubWF4KXx8IXRoaXMuZm91bmRHcmFwaHN8fEluZmluaXR5PT10aGlzLm1pbnx8LUluZmluaXR5PT10aGlzLm1heCllPSEwO2Vsc2V7ImRhdGUiPT10aGlzLnR5cGUmJnRoaXMubWluPT10aGlzLm1heCYmKHRoaXMubWF4Kz10aGlzLm1pbkR1cmF0aW9uKCksdGhpcy5taW4tPXRoaXMubWluRHVyYXRpb24oKSk7dmFyIG09dGhpcy5sYWJlbEZyZXF1ZW5jeSxuPXRoaXMuc2hvd0ZpcnN0TGFiZWwscT10aGlzLnNob3dMYXN0TGFiZWwscD0xLHQ9MDt0aGlzLm1pbkNhbGM9dGhpcy5taW47dGhpcy5tYXhDYWxjPXRoaXMubWF4O2lmKHRoaXMuc3RyaWN0TWluTWF4JiYoaXNOYU4odGhpcy5taW5pbXVtKXx8KHRoaXMubWluPXRoaXMubWluaW11bSksaXNOYU4odGhpcy5tYXhpbXVtKXx8KHRoaXMubWF4PXRoaXMubWF4aW11bSksdGhpcy5taW49PXRoaXMubWF4KSlyZXR1cm47aXNOYU4odGhpcy5taW5ab29tKXx8KHRoaXMubWluUmVhbD10aGlzLm1pbj10aGlzLm1pblpvb20pOw0KaXNOYU4odGhpcy5tYXhab29tKXx8KHRoaXMubWF4PXRoaXMubWF4Wm9vbSk7aWYodGhpcy5sb2dhcml0aG1pYyl7aD10aGlzLmZ1bGxNaW47dmFyIHI9dGhpcy5mdWxsTWF4O2lzTmFOKHRoaXMubWluaW11bSl8fChoPXRoaXMubWluaW11bSk7aXNOYU4odGhpcy5tYXhpbXVtKXx8KHI9dGhpcy5tYXhpbXVtKTt2YXIgcj1NYXRoLmxvZyhyKSpNYXRoLkxPRzEwRS1NYXRoLmxvZyhoKSpNYXRoLkxPRzEwRSx3PU1hdGgubG9nKHRoaXMubWF4KS9NYXRoLkxOMTAtTWF0aC5sb2coaCkqTWF0aC5MT0cxMEU7dGhpcy5yZWxhdGl2ZVN0YXJ0PWQucm91bmRUbygoTWF0aC5sb2codGhpcy5taW5SZWFsKS9NYXRoLkxOMTAtTWF0aC5sb2coaCkqTWF0aC5MT0cxMEUpL3IsNSk7dGhpcy5yZWxhdGl2ZUVuZD1kLnJvdW5kVG8ody9yLDUpfWVsc2UgdGhpcy5yZWxhdGl2ZVN0YXJ0PWQucm91bmRUbyhkLmZpdFRvQm91bmRzKCh0aGlzLm1pbi10aGlzLmZ1bGxNaW4pLyh0aGlzLmZ1bGxNYXgtdGhpcy5mdWxsTWluKSwNCjAsMSksNSksdGhpcy5yZWxhdGl2ZUVuZD1kLnJvdW5kVG8oZC5maXRUb0JvdW5kcygodGhpcy5tYXgtdGhpcy5mdWxsTWluKS8odGhpcy5mdWxsTWF4LXRoaXMuZnVsbE1pbiksMCwxKSw1KTt2YXIgcj1NYXRoLnJvdW5kKCh0aGlzLm1heENhbGMtdGhpcy5taW5DYWxjKS90aGlzLnN0ZXApKzEsejshMD09PWc/KHo9TWF0aC5sb2codGhpcy5tYXgpKk1hdGguTE9HMTBFLU1hdGgubG9nKHRoaXMubWluUmVhbCkqTWF0aC5MT0cxMEUsdGhpcy5zdGVwV2lkdGg9dGhpcy5heGlzV2lkdGgveix6PnRoaXMubG9nR3JpZExpbWl0JiYocj1NYXRoLmNlaWwoTWF0aC5sb2codGhpcy5tYXgpKk1hdGguTE9HMTBFKSsxLHQ9TWF0aC5yb3VuZChNYXRoLmxvZyh0aGlzLm1pblJlYWwpKk1hdGguTE9HMTBFKSxyPnRoaXMuZ3JpZENvdW50UiYmKHA9TWF0aC5jZWlsKHIvdGhpcy5ncmlkQ291bnRSKSkpKTp0aGlzLnN0ZXBXaWR0aD10aGlzLmF4aXNXaWR0aC8odGhpcy5tYXgtdGhpcy5taW4pO3ZhciB4PQ0KMDsxPnRoaXMuc3RlcCYmLTE8dGhpcy5zdGVwJiYoeD1kLmdldERlY2ltYWxzKHRoaXMuc3RlcCkpO3RoaXMuaW50ZWdlcnNPbmx5JiYoeD0wKTt4PnRoaXMubWF4RGVjQ291bnQmJih4PXRoaXMubWF4RGVjQ291bnQpO3c9dGhpcy5wcmVjaXNpb247aXNOYU4odyl8fCh4PXcpO2lzTmFOKHRoaXMubWF4Wm9vbSkmJih0aGlzLm1heD1kLnJvdW5kVG8odGhpcy5tYXgsdGhpcy5tYXhEZWNDb3VudCksdGhpcy5taW49ZC5yb3VuZFRvKHRoaXMubWluLHRoaXMubWF4RGVjQ291bnQpKTtoPXt9O2gucHJlY2lzaW9uPXg7aC5kZWNpbWFsU2VwYXJhdG9yPWEubmYuZGVjaW1hbFNlcGFyYXRvcjtoLnRob3VzYW5kc1NlcGFyYXRvcj1hLm5mLnRob3VzYW5kc1NlcGFyYXRvcjt0aGlzLm51bWJlckZvcm1hdHRlcj1oO3ZhciB1O3RoaXMuZXhwb25lbnRpYWw9ITE7Zm9yKGg9dDtoPHI7aCs9cCl7dmFyIEE9ZC5yb3VuZFRvKHRoaXMuc3RlcCpoK3RoaXMubWluLHgpOy0xIT1TdHJpbmcoQSkuaW5kZXhPZigiZSIpJiYNCih0aGlzLmV4cG9uZW50aWFsPSEwKX10aGlzLmR1cmF0aW9uJiYodGhpcy5tYXhJbnRlcnZhbD1kLmdldE1heEludGVydmFsKHRoaXMubWF4LHRoaXMuZHVyYXRpb24pKTt2YXIgeD10aGlzLnN0ZXAseSxBPXRoaXMubWlub3JHcmlkQWxwaGE7dGhpcy5taW5vckdyaWRFbmFibGVkJiYoeT10aGlzLmdldE1pbm9yR3JpZFN0ZXAoeCx0aGlzLnN0ZXBXaWR0aCp4KSk7aWYodGhpcy5hdXRvR3JpZENvdW50fHwwIT09dGhpcy5ncmlkQ291bnQpaWYoImRhdGUiPT1jKXRoaXMuZ2VuZXJhdGVERk9iamVjdCgpLHRoaXMudGltZURpZmZlcmVuY2U9dGhpcy5tYXgtdGhpcy5taW4sdGhpcy5tYXhUaW1lPXRoaXMubGFzdFRpbWU9dGhpcy5tYXgsdGhpcy5zdGFydFRpbWU9dGhpcy5maXJzdFRpbWU9dGhpcy5taW4sdGhpcy5wYXJzZURhdGVzRHJhdygpO2Vsc2UgZm9yKHI+PXRoaXMuYXV0b1JvdGF0ZUNvdW50JiYhaXNOYU4odGhpcy5hdXRvUm90YXRlQW5nbGUpJiYodGhpcy5sYWJlbFJvdGF0aW9uUj0NCnRoaXMuYXV0b1JvdGF0ZUFuZ2xlKSxjPXRoaXMubWluQ2FsYyxnJiYocisrLGM9dGhpcy5tYXhDYWxjLXIqeCksdGhpcy5ncmlkQ291bnRSZWFsPXIsaD10aGlzLnN0YXJ0Q291bnQ9dDtoPHI7aCs9cClpZih0PXgqaCtjLHQ9ZC5yb3VuZFRvKHQsdGhpcy5tYXhEZWNDb3VudCsxKSwhdGhpcy5pbnRlZ2Vyc09ubHl8fE1hdGgucm91bmQodCk9PXQpaWYoaXNOYU4odyl8fE51bWJlcihkLnRvRml4ZWQodCx3KSk9PXQpe2lmKCEwPT09ZylpZih6PnRoaXMubG9nR3JpZExpbWl0KXtpZih0PU1hdGgucG93KDEwLGgpLHQ+dGhpcy5tYXgpY29udGludWV9ZWxzZSBpZigwPj10JiYodD1jK3gqaCt4LzIsMD49dCkpY29udGludWU7dT10aGlzLmZvcm1hdFZhbHVlKHQsITEsaCk7TWF0aC5yb3VuZChoL20pIT1oL20mJih1PXZvaWQgMCk7aWYoMD09PWgmJiFufHxoPT1yLTEmJiFxKXU9IiAiO2Y9dGhpcy5nZXRDb29yZGluYXRlKHQpO3ZhciBCO3RoaXMucm90YXRlJiZ0aGlzLmF1dG9XcmFwJiYNCihCPXRoaXMuc3RlcFdpZHRoKngtMTApO3U9bmV3IHRoaXMuYXhpc0l0ZW1SZW5kZXJlcih0aGlzLGYsdSx2b2lkIDAsQix2b2lkIDAsdm9pZCAwLHRoaXMuYm9sZExhYmVscyk7dGhpcy5wdXNoQXhpc0l0ZW0odSk7aWYodD09dGhpcy5iYXNlVmFsdWUmJiJyYWRhciIhPWEudHlwZSl7dmFyIEQsQyxJPXRoaXMud2lkdGgsSD10aGlzLmhlaWdodDsiSCI9PXRoaXMub3JpZW50YXRpb24/MDw9ZiYmZjw9SSsxJiYoRD1bZixmLGYra10sQz1bSCwwLGxdKTowPD1mJiZmPD1IKzEmJihEPVswLEksSStrXSxDPVtmLGYsZitsXSk7RCYmKGY9ZC5maXRUb0JvdW5kcygyKnRoaXMuZ3JpZEFscGhhLDAsMSksaXNOYU4odGhpcy56ZXJvR3JpZEFscGhhKXx8KGY9dGhpcy56ZXJvR3JpZEFscGhhKSxmPWQubGluZShhLmNvbnRhaW5lcixELEMsdGhpcy5ncmlkQ29sb3IsZiwxLHRoaXMuZGFzaExlbmd0aCksZi50cmFuc2xhdGUodGhpcy54LHRoaXMueSksdGhpcy5ncmlkMD1mLGEuYXhlc1NldC5wdXNoKGYpLA0KZi50b0JhY2soKSxkLnNldENOKGEsZix0aGlzLmJjbisiemVyby1ncmlkLSIrdGhpcy5pZCksZC5zZXRDTihhLGYsdGhpcy5iY24rInplcm8tZ3JpZCIpKX1pZighaXNOYU4oeSkmJjA8QSYmaDxyLTEpe2Y9eC95O2cmJih5PXgqKGgrcCkrdGhpcy5taW5DYWxjLHk9ZC5yb3VuZFRvKHksdGhpcy5tYXhEZWNDb3VudCsxKSx6PnRoaXMubG9nR3JpZExpbWl0JiYoeT1NYXRoLnBvdygxMCxoK3ApKSxmPTkseT0oeS10KS9mKTtJPXRoaXMuZ3JpZEFscGhhO3RoaXMuZ3JpZEFscGhhPXRoaXMubWlub3JHcmlkQWxwaGE7Zm9yKEg9MTtIPGY7SCsrKXt2YXIgUT10aGlzLmdldENvb3JkaW5hdGUodCt5KkgpLFE9bmV3IHRoaXMuYXhpc0l0ZW1SZW5kZXJlcih0aGlzLFEsIiIsITEsMCwwLCExLCExLDAsITApO3RoaXMucHVzaEF4aXNJdGVtKFEpfXRoaXMuZ3JpZEFscGhhPUl9fXo9dGhpcy5ndWlkZXM7Qj16Lmxlbmd0aDtpZigwPEIpe0Q9dGhpcy5maWxsQWxwaGE7Zm9yKGg9dGhpcy5maWxsQWxwaGE9DQowO2g8QjtoKyspQz16W2hdLGs9TmFOLHk9Qy5hYm92ZSxpc05hTihDLnRvVmFsdWUpfHwoaz10aGlzLmdldENvb3JkaW5hdGUoQy50b1ZhbHVlKSx1PW5ldyB0aGlzLmF4aXNJdGVtUmVuZGVyZXIodGhpcyxrLCIiLCEwLE5hTixOYU4sQyksdGhpcy5wdXNoQXhpc0l0ZW0odSx5KSksbD1OYU4saXNOYU4oQy52YWx1ZSl8fChsPXRoaXMuZ2V0Q29vcmRpbmF0ZShDLnZhbHVlKSx1PW5ldyB0aGlzLmF4aXNJdGVtUmVuZGVyZXIodGhpcyxsLEMubGFiZWwsITAsTmFOLChrLWwpLzIsQyksdGhpcy5wdXNoQXhpc0l0ZW0odSx5KSksaXNOYU4oaykmJihsLT0zLGs9bCszKSx1JiYobT11LmxhYmVsKSYmdGhpcy5hZGRFdmVudExpc3RlbmVycyhtLEMpLGlzTmFOKGstbCl8fDA+bCYmMD5rfHwoaz1uZXcgdGhpcy5ndWlkZUZpbGxSZW5kZXJlcih0aGlzLGwsayxDKSx0aGlzLnB1c2hBeGlzSXRlbShrLHkpLHk9ay5ncmFwaGljcygpLEMuZ3JhcGhpY3M9eSx0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKHksDQpDKSk7dGhpcy5maWxsQWxwaGE9RH11PXRoaXMuYmFzZVZhbHVlO3RoaXMubWluPnRoaXMuYmFzZVZhbHVlJiZ0aGlzLm1heD50aGlzLmJhc2VWYWx1ZSYmKHU9dGhpcy5taW4pO3RoaXMubWluPHRoaXMuYmFzZVZhbHVlJiZ0aGlzLm1heDx0aGlzLmJhc2VWYWx1ZSYmKHU9dGhpcy5tYXgpO2cmJnU8dGhpcy5taW5SZWFsJiYodT10aGlzLm1pblJlYWwpO3RoaXMuYmFzZUNvb3JkPXRoaXMuZ2V0Q29vcmRpbmF0ZSh1LCEwKTt1PXt0eXBlOiJheGlzQ2hhbmdlZCIsdGFyZ2V0OnRoaXMsY2hhcnQ6YX07dS5taW49Zz90aGlzLm1pblJlYWw6dGhpcy5taW47dS5tYXg9dGhpcy5tYXg7dGhpcy5maXJlKHUpO3RoaXMuYXhpc0NyZWF0ZWQ9ITB9Zz10aGlzLmF4aXNMaW5lLnNldDt1PXRoaXMubGFiZWxzU2V0O2IudHJhbnNsYXRlKHRoaXMueCx0aGlzLnkpO3UudHJhbnNsYXRlKHRoaXMueCx0aGlzLnkpO3RoaXMucG9zaXRpb25UaXRsZSgpOyJyYWRhciIhPWEudHlwZSYmZy50b0Zyb250KCk7DQohdGhpcy52aXNpYmxlfHxlPyhiLmhpZGUoKSxnLmhpZGUoKSx1LmhpZGUoKSk6KGIuc2hvdygpLGcuc2hvdygpLHUuc2hvdygpKTt0aGlzLmF4aXNZPXRoaXMueTt0aGlzLmF4aXNYPXRoaXMueH0sZ2V0RGF0ZU1pbk1heDpmdW5jdGlvbigpe3RoaXMubWluaW11bURhdGUmJih0aGlzLm1pbmltdW1EYXRlIGluc3RhbmNlb2YgRGF0ZXx8KHRoaXMubWluaW11bURhdGU9ZC5nZXREYXRlKHRoaXMubWluaW11bURhdGUsdGhpcy5jaGFydC5kYXRhRGF0ZUZvcm1hdCwiZmZmIikpLHRoaXMubWluPXRoaXMubWluaW11bURhdGUuZ2V0VGltZSgpKTt0aGlzLm1heGltdW1EYXRlJiYodGhpcy5tYXhpbXVtRGF0ZSBpbnN0YW5jZW9mIERhdGV8fCh0aGlzLm1heGltdW1EYXRlPWQuZ2V0RGF0ZSh0aGlzLm1heGltdW1EYXRlLHRoaXMuY2hhcnQuZGF0YURhdGVGb3JtYXQsImZmZiIpKSx0aGlzLm1heD10aGlzLm1heGltdW1EYXRlLmdldFRpbWUoKSl9LGZvcm1hdFZhbHVlOmZ1bmN0aW9uKGEsYiwNCmMpe3ZhciBlPXRoaXMuZXhwb25lbnRpYWwsZz10aGlzLmxvZ2FyaXRobWljLGY9dGhpcy5udW1iZXJGb3JtYXR0ZXIsaD10aGlzLmNoYXJ0O2lmKGYpcmV0dXJuITA9PT10aGlzLmxvZ2FyaXRobWljJiYoZT0tMSE9U3RyaW5nKGEpLmluZGV4T2YoImUiKT8hMDohMSksdGhpcy51c2VTY2llbnRpZmljTm90YXRpb24mJihlPSEwKSx0aGlzLnVzZVByZWZpeGVzJiYoZT0hMSksZT8oYz0tMT09U3RyaW5nKGEpLmluZGV4T2YoImUiKT9hLnRvRXhwb25lbnRpYWwoMTUpOlN0cmluZyhhKSxlPWMuc3BsaXQoImUiKSxjPU51bWJlcihlWzBdKSxlPU51bWJlcihlWzFdKSxjPWQucm91bmRUbyhjLDE0KSxifHxpc05hTih0aGlzLnByZWNpc2lvbil8fChjPWQucm91bmRUbyhjLHRoaXMucHJlY2lzaW9uKSksMTA9PWMmJihjPTEsZSs9MSksYz1jKyJlIitlLDA9PT1hJiYoYz0iMCIpLDE9PWEmJihjPSIxIikpOihnJiYoZT1TdHJpbmcoYSkuc3BsaXQoIi4iKSxlWzFdPyhmLnByZWNpc2lvbj1lWzFdLmxlbmd0aCwNCjA+YyYmKGYucHJlY2lzaW9uPU1hdGguYWJzKGMpKSxiJiYxPGEmJihmLnByZWNpc2lvbj0wKSxifHxpc05hTih0aGlzLnByZWNpc2lvbil8fChmLnByZWNpc2lvbj10aGlzLnByZWNpc2lvbikpOmYucHJlY2lzaW9uPS0xKSxjPXRoaXMudXNlUHJlZml4ZXM/ZC5hZGRQcmVmaXgoYSxoLnByZWZpeGVzT2ZCaWdOdW1iZXJzLGgucHJlZml4ZXNPZlNtYWxsTnVtYmVycyxmLCFiKTpkLmZvcm1hdE51bWJlcihhLGYsZi5wcmVjaXNpb24pKSx0aGlzLmR1cmF0aW9uJiYoYiYmKGYucHJlY2lzaW9uPTApLGM9ZC5mb3JtYXREdXJhdGlvbihhLHRoaXMuZHVyYXRpb24sIiIsdGhpcy5kdXJhdGlvblVuaXRzLHRoaXMubWF4SW50ZXJ2YWwsZikpLCJkYXRlIj09dGhpcy50eXBlJiYoYz1kLmZvcm1hdERhdGUobmV3IERhdGUoYSksdGhpcy5jdXJyZW50RGF0ZUZvcm1hdCxoKSksdGhpcy5yZWNhbGN1bGF0ZVRvUGVyY2VudHM/Yys9IiUiOihiPXRoaXMudW5pdCkmJihjPSJsZWZ0Ij09dGhpcy51bml0UG9zaXRpb24/DQpiK2M6YytiKSx0aGlzLmxhYmVsRnVuY3Rpb24mJihjPSJkYXRlIj09dGhpcy50eXBlP3RoaXMubGFiZWxGdW5jdGlvbihjLG5ldyBEYXRlKGEpLHRoaXMpLnRvU3RyaW5nKCk6dGhpcy5sYWJlbEZ1bmN0aW9uKGEsYyx0aGlzKS50b1N0cmluZygpKSxjfSxnZXRNaW5vckdyaWRTdGVwOmZ1bmN0aW9uKGEsYil7dmFyIGM9WzUsNCwyXTs2MD5iJiZjLnNoaWZ0KCk7Zm9yKHZhciBlPU1hdGguZmxvb3IoTWF0aC5sb2coTWF0aC5hYnMoYSkpKk1hdGguTE9HMTBFKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBmPWEvY1tkXSxoPU1hdGguZmxvb3IoTWF0aC5sb2coTWF0aC5hYnMoZikpKk1hdGguTE9HMTBFKTtpZighKDE8TWF0aC5hYnMoZS1oKSkpaWYoMT5hKXtpZihoPU1hdGgucG93KDEwLC1oKSpmLGg9PU1hdGgucm91bmQoaCkpcmV0dXJuIGZ9ZWxzZSBpZihmPT1NYXRoLnJvdW5kKGYpKXJldHVybiBmfXJldHVybiAxfSxzdGFja0dyYXBoczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnN0YWNrVHlwZTsNCiJzdGFja2VkIj09YiYmKGI9InJlZ3VsYXIiKTsibGluZSI9PWImJihiPSJub25lIik7IjEwMCUgc3RhY2tlZCI9PWImJihiPSIxMDAlIik7dGhpcy5zdGFja1R5cGU9Yjt2YXIgYz1bXSxlPVtdLGc9W10sZj1bXSxoLGs9dGhpcy5jaGFydC5ncmFwaHMsbCxtLG4scSxwLHQ9dGhpcy5iYXNlVmFsdWUscj0hMTtpZigibGluZSI9PWF8fCJzdGVwIj09YXx8InNtb290aGVkTGluZSI9PWEpcj0hMDtpZihyJiYoInJlZ3VsYXIiPT1ifHwiMTAwJSI9PWIpKWZvcihxPTA7cTxrLmxlbmd0aDtxKyspbj1rW3FdLG4uc3RhY2tHcmFwaD1udWxsLG4uaGlkZGVufHwobT1uLnR5cGUsbi5jaGFydD09dGhpcy5jaGFydCYmbi52YWx1ZUF4aXM9PXRoaXMmJmE9PW0mJm4uc3RhY2thYmxlJiYobCYmKG4uc3RhY2tHcmFwaD1sKSxsPW4pKTtuPXRoaXMuc3RhcnQtMTA7bD10aGlzLmVuZCsxMDtxPXRoaXMuZGF0YS5sZW5ndGgtMTtuPWQuZml0VG9Cb3VuZHMobiwwLHEpO2w9ZC5maXRUb0JvdW5kcyhsLA0KMCxxKTtmb3IocD1uO3A8PWw7cCsrKXt2YXIgdz0wO2ZvcihxPTA7cTxrLmxlbmd0aDtxKyspaWYobj1rW3FdLG4uaGlkZGVuKW4ubmV3U3RhY2smJihnW3BdPU5hTixlW3BdPU5hTik7ZWxzZSBpZihtPW4udHlwZSxuLmNoYXJ0PT10aGlzLmNoYXJ0JiZuLnZhbHVlQXhpcz09dGhpcyYmYT09bSYmbi5zdGFja2FibGUpaWYobT10aGlzLmRhdGFbcF0uYXhlc1t0aGlzLmlkXS5ncmFwaHNbbi5pZF0saD1tLnZhbHVlcy52YWx1ZSxpc05hTihoKSluLm5ld1N0YWNrJiYoZ1twXT1OYU4sZVtwXT1OYU4pO2Vsc2V7dmFyIHo9ZC5nZXREZWNpbWFscyhoKTt3PHomJih3PXopO2lzTmFOKGZbcF0pP2ZbcF09TWF0aC5hYnMoaCk6ZltwXSs9TWF0aC5hYnMoaCk7ZltwXT1kLnJvdW5kVG8oZltwXSx3KTt6PW4uZmlsbFRvR3JhcGg7ciYmeiYmKHo9dGhpcy5kYXRhW3BdLmF4ZXNbdGhpcy5pZF0uZ3JhcGhzW3ouaWRdKSYmKG0udmFsdWVzLm9wZW49ei52YWx1ZXMudmFsdWUpOyJyZWd1bGFyIj09DQpiJiYociYmKGlzTmFOKGNbcF0pPyhjW3BdPWgsbS52YWx1ZXMuY2xvc2U9aCxtLnZhbHVlcy5vcGVuPXRoaXMuYmFzZVZhbHVlKTooaXNOYU4oaCk/bS52YWx1ZXMuY2xvc2U9Y1twXTptLnZhbHVlcy5jbG9zZT1oK2NbcF0sbS52YWx1ZXMub3Blbj1jW3BdLGNbcF09bS52YWx1ZXMuY2xvc2UpKSwiY29sdW1uIj09YSYmKG4ubmV3U3RhY2smJihnW3BdPU5hTixlW3BdPU5hTiksbS52YWx1ZXMuY2xvc2U9aCwwPmg/KG0udmFsdWVzLmNsb3NlPWgsaXNOYU4oZVtwXSk/bS52YWx1ZXMub3Blbj10OihtLnZhbHVlcy5jbG9zZSs9ZVtwXSxtLnZhbHVlcy5vcGVuPWVbcF0pLGVbcF09bS52YWx1ZXMuY2xvc2UpOihtLnZhbHVlcy5jbG9zZT1oLGlzTmFOKGdbcF0pP20udmFsdWVzLm9wZW49dDoobS52YWx1ZXMuY2xvc2UrPWdbcF0sbS52YWx1ZXMub3Blbj1nW3BdKSxnW3BdPW0udmFsdWVzLmNsb3NlKSkpfX1mb3IocD10aGlzLnN0YXJ0O3A8PXRoaXMuZW5kO3ArKylmb3IocT0wO3E8ay5sZW5ndGg7cSsrKShuPQ0Ka1txXSxuLmhpZGRlbik/bi5uZXdTdGFjayYmKGdbcF09TmFOLGVbcF09TmFOKToobT1uLnR5cGUsbi5jaGFydD09dGhpcy5jaGFydCYmbi52YWx1ZUF4aXM9PXRoaXMmJmE9PW0mJm4uc3RhY2thYmxlJiYobT10aGlzLmRhdGFbcF0uYXhlc1t0aGlzLmlkXS5ncmFwaHNbbi5pZF0saD1tLnZhbHVlcy52YWx1ZSxpc05hTihoKXx8KGM9aC9mW3BdKjEwMCxtLnZhbHVlcy5wZXJjZW50cz1jLG0udmFsdWVzLnRvdGFsPWZbcF0sbi5uZXdTdGFjayYmKGdbcF09TmFOLGVbcF09TmFOKSwiMTAwJSI9PWImJihpc05hTihlW3BdKSYmKGVbcF09MCksaXNOYU4oZ1twXSkmJihnW3BdPTApLDA+Yz8obS52YWx1ZXMuY2xvc2U9ZC5maXRUb0JvdW5kcyhjK2VbcF0sLTEwMCwxMDApLG0udmFsdWVzLm9wZW49ZVtwXSxlW3BdPW0udmFsdWVzLmNsb3NlKToobS52YWx1ZXMuY2xvc2U9ZC5maXRUb0JvdW5kcyhjK2dbcF0sLTEwMCwxMDApLG0udmFsdWVzLm9wZW49Z1twXSxnW3BdPW0udmFsdWVzLmNsb3NlKSkpKSl9LA0KcmVjYWxjdWxhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGI9YS5ncmFwaHMsYztmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZT1iW2NdO2lmKGUudmFsdWVBeGlzPT10aGlzKXt2YXIgZz0idmFsdWUiO2lmKCJjYW5kbGVzdGljayI9PWUudHlwZXx8Im9obGMiPT1lLnR5cGUpZz0ib3BlbiI7dmFyIGYsaCxrPXRoaXMuZW5kKzIsaz1kLmZpdFRvQm91bmRzKHRoaXMuZW5kKzEsMCx0aGlzLmRhdGEubGVuZ3RoLTEpLGw9dGhpcy5zdGFydDswPGwmJmwtLTt2YXIgbTtoPXRoaXMuc3RhcnQ7ZS5jb21wYXJlRnJvbVN0YXJ0JiYoaD0wKTtpZighaXNOYU4oYS5zdGFydFRpbWUpJiYobT1hLmNhdGVnb3J5QXhpcykpe3ZhciBuPW0ubWluRHVyYXRpb24oKSxuPW5ldyBEYXRlKGEuc3RhcnRUaW1lK24vMikscT1kLnJlc2V0RGF0ZVRvTWluKG5ldyBEYXRlKGEuc3RhcnRUaW1lKSxtLm1pblBlcmlvZCkuZ2V0VGltZSgpO2QucmVzZXREYXRlVG9NaW4obmV3IERhdGUobiksbS5taW5QZXJpb2QpLmdldFRpbWUoKT4NCnEmJmgrK31pZihtPWEucmVjYWxjdWxhdGVGcm9tRGF0ZSltPWQuZ2V0RGF0ZShtLGEuZGF0YURhdGVGb3JtYXQsImZmZiIpLGg9YS5nZXRDbG9zZXN0SW5kZXgoYS5jaGFydERhdGEsInRpbWUiLG0uZ2V0VGltZSgpLCEwLDAsYS5jaGFydERhdGEubGVuZ3RoKSxrPWEuY2hhcnREYXRhLmxlbmd0aC0xO2ZvcihtPWg7bTw9ayYmKGg9dGhpcy5kYXRhW21dLmF4ZXNbdGhpcy5pZF0uZ3JhcGhzW2UuaWRdLGY9aC52YWx1ZXNbZ10sZS5yZWNhbGN1bGF0ZVZhbHVlJiYoZj1oLmRhdGFDb250ZXh0W2UudmFsdWVGaWVsZCtlLnJlY2FsY3VsYXRlVmFsdWVdKSxpc05hTihmKSk7bSsrKTt0aGlzLnJlY0Jhc2VWYWx1ZT1mO2ZvcihnPWw7Zzw9aztnKyspe2g9dGhpcy5kYXRhW2ddLmF4ZXNbdGhpcy5pZF0uZ3JhcGhzW2UuaWRdO2gucGVyY2VudHM9e307dmFyIGw9aC52YWx1ZXMscDtmb3IocCBpbiBsKWgucGVyY2VudHNbcF09InBlcmNlbnRzIiE9cD9sW3BdL2YqMTAwLTEwMDpsW3BdfX19fSwNCmdldE1pbk1heDpmdW5jdGlvbigpe3ZhciBhPSExLGI9dGhpcy5jaGFydCxjPWIuZ3JhcGhzLGU7Zm9yKGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGc9Y1tlXS50eXBlOygibGluZSI9PWd8fCJzdGVwIj09Z3x8InNtb290aGVkTGluZSI9PWcpJiZ0aGlzLmV4cGFuZE1pbk1heCYmKGE9ITApfWEmJigwPHRoaXMuc3RhcnQmJnRoaXMuc3RhcnQtLSx0aGlzLmVuZDx0aGlzLmRhdGEubGVuZ3RoLTEmJnRoaXMuZW5kKyspOyJzZXJpYWwiPT1iLnR5cGUmJighMCE9PWIuY2F0ZWdvcnlBeGlzLnBhcnNlRGF0ZXN8fGF8fHRoaXMuZW5kPHRoaXMuZGF0YS5sZW5ndGgtMSYmdGhpcy5lbmQrKyk7dGhpcy5pbmNsdWRlQWxsVmFsdWVzJiYodGhpcy5zdGFydD0wLHRoaXMuZW5kPXRoaXMuZGF0YS5sZW5ndGgtMSk7YT10aGlzLm1pbk1heE11bHRpcGxpZXI7Yj10aGlzLmdldEV4dHJlbWVzKHRoaXMuc3RhcnQsdGhpcy5lbmQpO3RoaXMubWluPWIubWluO3RoaXMubWF4PWIubWF4O3RoaXMubWluUlI9DQp0aGlzLm1pbjt0aGlzLm1heFJSPXRoaXMubWF4O2E9KHRoaXMubWF4LXRoaXMubWluKSooYS0xKTt0aGlzLm1pbi09YTt0aGlzLm1heCs9YTthPXRoaXMuZ3VpZGVzLmxlbmd0aDtpZih0aGlzLmluY2x1ZGVHdWlkZXNJbk1pbk1heCYmMDxhKWZvcihiPTA7YjxhO2IrKyljPXRoaXMuZ3VpZGVzW2JdLGMudG9WYWx1ZTx0aGlzLm1pbiYmKHRoaXMubWluPWMudG9WYWx1ZSksYy52YWx1ZTx0aGlzLm1pbiYmKHRoaXMubWluPWMudmFsdWUpLGMudG9WYWx1ZT50aGlzLm1heCYmKHRoaXMubWF4PWMudG9WYWx1ZSksYy52YWx1ZT50aGlzLm1heCYmKHRoaXMubWF4PWMudmFsdWUpO2lzTmFOKHRoaXMubWluaW11bSl8fCh0aGlzLm1pbj10aGlzLm1pbmltdW0pO2lzTmFOKHRoaXMubWF4aW11bSl8fCh0aGlzLm1heD10aGlzLm1heGltdW0pOyJkYXRlIj09dGhpcy50eXBlJiZ0aGlzLmdldERhdGVNaW5NYXgoKTt0aGlzLm1pbj50aGlzLm1heCYmKGE9dGhpcy5tYXgsdGhpcy5tYXg9dGhpcy5taW4sDQp0aGlzLm1pbj1hKTtpc05hTih0aGlzLm1pblpvb20pfHwodGhpcy5taW49dGhpcy5taW5ab29tKTtpc05hTih0aGlzLm1heFpvb20pfHwodGhpcy5tYXg9dGhpcy5tYXhab29tKTt0aGlzLm1pbkNhbGM9dGhpcy5taW47dGhpcy5tYXhDYWxjPXRoaXMubWF4O3RoaXMubWluUmVhbD10aGlzLm1pbjt0aGlzLm1heFJlYWw9dGhpcy5tYXg7MD09PXRoaXMubWluJiYwPT09dGhpcy5tYXgmJih0aGlzLm1heD05KTt0aGlzLm1pbj50aGlzLm1heCYmKHRoaXMubWluPXRoaXMubWF4LTEpO2E9dGhpcy5taW47Yj10aGlzLm1heDtjPXRoaXMubWF4LXRoaXMubWluO2U9MD09PWM/TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyhNYXRoLmFicyh0aGlzLm1heCkpKk1hdGguTE9HMTBFKSkvMTA6TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyhNYXRoLmFicyhjKSkqTWF0aC5MT0cxMEUpKS8xMDtpc05hTih0aGlzLm1heGltdW0pJiYodGhpcy5tYXg9TWF0aC5jZWlsKHRoaXMubWF4Lw0KZSkqZStlKTtpc05hTih0aGlzLm1pbmltdW0pJiYodGhpcy5taW49TWF0aC5mbG9vcih0aGlzLm1pbi9lKSplLWUpOzA+dGhpcy5taW4mJjA8PWEmJih0aGlzLm1pbj0wKTswPHRoaXMubWF4JiYwPj1iJiYodGhpcy5tYXg9MCk7IjEwMCUiPT10aGlzLnN0YWNrVHlwZSYmKHRoaXMubWluPTA+dGhpcy5taW4/LTEwMDowLHRoaXMubWF4PTA+dGhpcy5tYXg/MDoxMDApO2M9dGhpcy5tYXgtdGhpcy5taW47ZT1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKE1hdGguYWJzKGMpKSpNYXRoLkxPRzEwRSkpLzEwO3RoaXMuc3RlcD1NYXRoLmNlaWwoYy90aGlzLmdyaWRDb3VudFIvZSkqZTtjPU1hdGgucG93KDEwLE1hdGguZmxvb3IoTWF0aC5sb2coTWF0aC5hYnModGhpcy5zdGVwKSkqTWF0aC5MT0cxMEUpKTtjPWQuZml4U3RlcEUoYyk7ZT1NYXRoLmNlaWwodGhpcy5zdGVwL2MpOzU8ZSYmKGU9MTApOzU+PWUmJjI8ZSYmKGU9NSk7dGhpcy5zdGVwPU1hdGguY2VpbCh0aGlzLnN0ZXAvDQooYyplKSkqYyplO2lzTmFOKHRoaXMuc2V0U3RlcCl8fCh0aGlzLnN0ZXA9dGhpcy5zZXRTdGVwKTsxPmM/KHRoaXMubWF4RGVjQ291bnQ9TWF0aC5hYnMoTWF0aC5sb2coTWF0aC5hYnMoYykpKk1hdGguTE9HMTBFKSx0aGlzLm1heERlY0NvdW50PU1hdGgucm91bmQodGhpcy5tYXhEZWNDb3VudCksdGhpcy5zdGVwPWQucm91bmRUbyh0aGlzLnN0ZXAsdGhpcy5tYXhEZWNDb3VudCsxKSk6dGhpcy5tYXhEZWNDb3VudD0wO3RoaXMubWluPXRoaXMuc3RlcCpNYXRoLmZsb29yKHRoaXMubWluL3RoaXMuc3RlcCk7dGhpcy5tYXg9dGhpcy5zdGVwKk1hdGguY2VpbCh0aGlzLm1heC90aGlzLnN0ZXApOzA+dGhpcy5taW4mJjA8PWEmJih0aGlzLm1pbj0wKTswPHRoaXMubWF4JiYwPj1iJiYodGhpcy5tYXg9MCk7MTx0aGlzLm1pblJlYWwmJjE8dGhpcy5tYXgtdGhpcy5taW5SZWFsJiYodGhpcy5taW5SZWFsPU1hdGguZmxvb3IodGhpcy5taW5SZWFsKSk7Yz1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKE1hdGguYWJzKHRoaXMubWluUmVhbCkpKg0KTWF0aC5MT0cxMEUpKTswPT09dGhpcy5taW4mJih0aGlzLm1pblJlYWw9Yyk7MD09PXRoaXMubWluJiYxPHRoaXMubWluUmVhbCYmKHRoaXMubWluUmVhbD0xKTswPHRoaXMubWluJiYwPHRoaXMubWluUmVhbC10aGlzLnN0ZXAmJih0aGlzLm1pblJlYWw9dGhpcy5taW4rdGhpcy5zdGVwPHRoaXMubWluUmVhbD90aGlzLm1pbit0aGlzLnN0ZXA6dGhpcy5taW4pO3RoaXMubG9nYXJpdGhtaWMmJigyPE1hdGgubG9nKGIpKk1hdGguTE9HMTBFLU1hdGgubG9nKGEpKk1hdGguTE9HMTBFPyh0aGlzLm1pblJlYWw9dGhpcy5taW49TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyhNYXRoLmFicyhhKSkqTWF0aC5MT0cxMEUpKSx0aGlzLm1heFJlYWw9dGhpcy5tYXg9TWF0aC5wb3coMTAsTWF0aC5jZWlsKE1hdGgubG9nKE1hdGguYWJzKGIpKSpNYXRoLkxPRzEwRSkpKTooYT1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKE1hdGguYWJzKGEpKSpNYXRoLkxPRzEwRSkpLzEwLA0KTWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyhNYXRoLmFicyh0aGlzLm1pbikpKk1hdGguTE9HMTBFKSkvMTA8YSYmKHRoaXMubWluUmVhbD10aGlzLm1pbj0xMCphKSkpfSxnZXRFeHRyZW1lczpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZDtmb3IoZD1hO2Q8PWI7ZCsrKXt2YXIgZj10aGlzLmRhdGFbZF0uYXhlc1t0aGlzLmlkXS5ncmFwaHMsaDtmb3IoaCBpbiBmKWlmKGYuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPXRoaXMuY2hhcnQuZ3JhcGhzQnlJZFtoXTtpZihrLmluY2x1ZGVJbk1pbk1heCYmKCFrLmhpZGRlbnx8dGhpcy5pbmNsdWRlSGlkZGVuKSl7aXNOYU4oYykmJihjPUluZmluaXR5KTtpc05hTihlKSYmKGU9LUluZmluaXR5KTt0aGlzLmZvdW5kR3JhcGhzPSEwO2s9ZltoXS52YWx1ZXM7dGhpcy5yZWNhbGN1bGF0ZVRvUGVyY2VudHMmJihrPWZbaF0ucGVyY2VudHMpO3ZhciBsO2lmKHRoaXMubWluTWF4RmllbGQpbD1rW3RoaXMubWluTWF4RmllbGRdLGw8YyYmDQooYz1sKSxsPmUmJihlPWwpO2Vsc2UgZm9yKHZhciBtIGluIGspay5oYXNPd25Qcm9wZXJ0eShtKSYmInBlcmNlbnRzIiE9bSYmInRvdGFsIiE9bSYmImVycm9yIiE9bSYmKGw9a1ttXSxsPGMmJihjPWwpLGw+ZSYmKGU9bCkpfX19cmV0dXJue21pbjpjLG1heDplfX0sem9vbU91dDpmdW5jdGlvbihhKXt0aGlzLm1heFpvb209dGhpcy5taW5ab29tPU5hTjt0aGlzLnpvb21Ub1JlbGF0aXZlVmFsdWVzKDAsMSxhKX0sem9vbVRvUmVsYXRpdmVWYWx1ZXM6ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMucmV2ZXJzZWQpe3ZhciBlPWE7YT0xLWI7Yj0xLWV9dmFyIGQ9dGhpcy5mdWxsTWF4LGU9dGhpcy5mdWxsTWluLGY9ZSsoZC1lKSphLGg9ZSsoZC1lKSpiOzA8PXRoaXMubWluaW11bSYmMD5mJiYoZj0wKTt0aGlzLmxvZ2FyaXRobWljJiYoaXNOYU4odGhpcy5taW5pbXVtKXx8KGU9dGhpcy5taW5pbXVtKSxpc05hTih0aGlzLm1heGltdW0pfHwoZD10aGlzLm1heGltdW0pLGQ9TWF0aC5sb2coZCkqDQpNYXRoLkxPRzEwRS1NYXRoLmxvZyhlKSpNYXRoLkxPRzEwRSxmPU1hdGgucG93KDEwLGQqYStNYXRoLmxvZyhlKSpNYXRoLkxPRzEwRSksaD1NYXRoLnBvdygxMCxkKmIrTWF0aC5sb2coZSkqTWF0aC5MT0cxMEUpKTtyZXR1cm4gdGhpcy56b29tVG9WYWx1ZXMoZixoLGMpfSx6b29tVG9WYWx1ZXM6ZnVuY3Rpb24oYSxiLGMpe2lmKGI8YSl7dmFyIGU9YjtiPWE7YT1lfXZhciBnPXRoaXMuZnVsbE1heCxlPXRoaXMuZnVsbE1pbjt0aGlzLnJlbGF0aXZlU3RhcnQ9ZC5yb3VuZFRvKChhLWUpLyhnLWUpLDkpO3RoaXMucmVsYXRpdmVFbmQ9ZC5yb3VuZFRvKChiLWUpLyhnLWUpLDkpO2lmKHRoaXMubG9nYXJpdGhtaWMpe2lzTmFOKHRoaXMubWluaW11bSl8fChlPXRoaXMubWluaW11bSk7aXNOYU4odGhpcy5tYXhpbXVtKXx8KGc9dGhpcy5tYXhpbXVtKTt2YXIgZz1NYXRoLmxvZyhnKSpNYXRoLkxPRzEwRS1NYXRoLmxvZyhlKSpNYXRoLkxPRzEwRSxmPU1hdGgubG9nKGIpL01hdGguTE4xMC0NCk1hdGgubG9nKGUpKk1hdGguTE9HMTBFO3RoaXMucmVsYXRpdmVTdGFydD1kLnJvdW5kVG8oKE1hdGgubG9nKGEpL01hdGguTE4xMC1NYXRoLmxvZyhlKSpNYXRoLkxPRzEwRSkvZyw5KTt0aGlzLnJlbGF0aXZlRW5kPWQucm91bmRUbyhmL2csOSl9aWYodGhpcy5taW5ab29tIT1hfHx0aGlzLm1heFpvb20hPWIpcmV0dXJuIHRoaXMubWluWm9vbT1hLHRoaXMubWF4Wm9vbT1iLGU9e3R5cGU6ImF4aXNab29tZWQifSxlLmNoYXJ0PXRoaXMuY2hhcnQsZS52YWx1ZUF4aXM9dGhpcyxlLnN0YXJ0VmFsdWU9YSxlLmVuZFZhbHVlPWIsZS5yZWxhdGl2ZVN0YXJ0PXRoaXMucmVsYXRpdmVTdGFydCxlLnJlbGF0aXZlRW5kPXRoaXMucmVsYXRpdmVFbmQsdGhpcy5wcmV2U3RhcnRWYWx1ZT09YSYmdGhpcy5wcmV2RW5kVmFsdWU9PWJ8fHRoaXMuZmlyZShlKSx0aGlzLnByZXZTdGFydFZhbHVlPWEsdGhpcy5wcmV2RW5kVmFsdWU9YixjfHwoYT17fSxkLmNvcHlQcm9wZXJ0aWVzKGUsYSksYS50eXBlPQ0KImF4aXNJbnRab29tZWQiLHRoaXMuZmlyZShhKSksMD09PXRoaXMucmVsYXRpdmVTdGFydCYmMT09dGhpcy5yZWxhdGl2ZUVuZCYmKHRoaXMubWF4Wm9vbT10aGlzLm1pblpvb209TmFOKSwhMH0sY29vcmRpbmF0ZVRvVmFsdWU6ZnVuY3Rpb24oYSl7aWYoaXNOYU4oYSkpcmV0dXJuIE5hTjt2YXIgYj10aGlzLmF4aXNXaWR0aCxjPXRoaXMuc3RlcFdpZHRoLGU9dGhpcy5yZXZlcnNlZCxkPXRoaXMucm90YXRlLGY9dGhpcy5taW4saD10aGlzLm1pblJlYWw7cmV0dXJuITA9PT10aGlzLmxvZ2FyaXRobWljP01hdGgucG93KDEwLChkPyEwPT09ZT8oYi1hKS9jOmEvYzohMD09PWU/YS9jOihiLWEpL2MpK01hdGgubG9nKGgpKk1hdGguTE9HMTBFKTohMD09PWU/ZD9mLShhLWIpL2M6YS9jK2Y6ZD9hL2MrZjpmLShhLWIpL2N9LGdldENvb3JkaW5hdGU6ZnVuY3Rpb24oYSxiKXtpZihpc05hTihhKSlyZXR1cm4gTmFOO3ZhciBjPXRoaXMucm90YXRlLGU9dGhpcy5yZXZlcnNlZCxkPXRoaXMuYXhpc1dpZHRoLA0KZj10aGlzLnN0ZXBXaWR0aCxoPXRoaXMubWluLGs9dGhpcy5taW5SZWFsOyEwPT09dGhpcy5sb2dhcml0aG1pYz8oMD09PWEmJihhPXRoaXMudHJlYXRaZXJvQXMpLGg9TWF0aC5sb2coYSkqTWF0aC5MT0cxMEUtTWF0aC5sb2coaykqTWF0aC5MT0cxMEUsYz1jPyEwPT09ZT9kLWYqaDpmKmg6ITA9PT1lP2YqaDpkLWYqaCk6Yz0hMD09PWU/Yz9kLWYqKGEtaCk6ZiooYS1oKTpjP2YqKGEtaCk6ZC1mKihhLWgpOzFFNzxNYXRoLmFicyhjKSYmKGM9Yy9NYXRoLmFicyhjKSoxRTcpO2J8fChjPU1hdGgucm91bmQoYykpO3JldHVybiBjfSxzeW5jaHJvbml6ZVdpdGhBeGlzOmZ1bmN0aW9uKGEpe3RoaXMuc3luY2hyb25pemVXaXRoPWE7dGhpcy5saXN0ZW5Ubyh0aGlzLnN5bmNocm9uaXplV2l0aCwiYXhpc0NoYW5nZWQiLHRoaXMuaGFuZGxlU3luY2hyb25pemF0aW9uKX0saGFuZGxlU3luY2hyb25pemF0aW9uOmZ1bmN0aW9uKCl7aWYodGhpcy5zeW5jaHJvbml6ZVdpdGgpe2QuaXNTdHJpbmcodGhpcy5zeW5jaHJvbml6ZVdpdGgpJiYNCih0aGlzLnN5bmNocm9uaXplV2l0aD10aGlzLmNoYXJ0LmdldFZhbHVlQXhpc0J5SWQodGhpcy5zeW5jaHJvbml6ZVdpdGgpKTt2YXIgYT10aGlzLnN5bmNocm9uaXplV2l0aCxiPWEubWluLGM9YS5tYXgsYT1hLnN0ZXAsZT10aGlzLnN5bmNocm9uaXphdGlvbk11bHRpcGxpZXI7ZSYmKHRoaXMubWluPWIqZSx0aGlzLm1heD1jKmUsdGhpcy5zdGVwPWEqZSxiPU1hdGguYWJzKE1hdGgubG9nKE1hdGguYWJzKE1hdGgucG93KDEwLE1hdGguZmxvb3IoTWF0aC5sb2coTWF0aC5hYnModGhpcy5zdGVwKSkqTWF0aC5MT0cxMEUpKSkpKk1hdGguTE9HMTBFKSx0aGlzLm1heERlY0NvdW50PWI9TWF0aC5yb3VuZChiKSx0aGlzLmRyYXcoKSl9fX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5SZWNBeGlzPWQuQ2xhc3Moe2NvbnN0cnVjdDpmdW5jdGlvbihhKXt2YXIgYj1hLmNoYXJ0LGM9YS5heGlzVGhpY2tuZXNzLGU9YS5heGlzQ29sb3IsZz1hLmF4aXNBbHBoYSxmPWEub2Zmc2V0LGg9YS5keCxrPWEuZHksbD1hLngsbT1hLnksbj1hLmhlaWdodCxxPWEud2lkdGgscD1iLmNvbnRhaW5lcjsiSCI9PWEub3JpZW50YXRpb24/KGU9ZC5saW5lKHAsWzAscV0sWzAsMF0sZSxnLGMpLHRoaXMuYXhpc1dpZHRoPWEud2lkdGgsImJvdHRvbSI9PWEucG9zaXRpb24/KGs9Yy8yK2YrbittLTEsYz1sKTooaz0tYy8yLWYrbStrLGM9aCtsKSk6KHRoaXMuYXhpc1dpZHRoPWEuaGVpZ2h0LCJyaWdodCI9PWEucG9zaXRpb24/KGU9ZC5saW5lKHAsWzAsMCwtaF0sWzAsbixuLWtdLGUsZyxjKSxrPW0rayxjPWMvMitmK2grcStsLTEpOihlPWQubGluZShwLFswLDBdLFswLG5dLGUsZyxjKSxrPW0sYz0tYy8yLWYrbCkpO2UudHJhbnNsYXRlKGMsDQprKTtjPWIuY29udGFpbmVyLnNldCgpO2MucHVzaChlKTtiLmF4ZXNTZXQucHVzaChjKTtkLnNldENOKGIsZSxhLmJjbisibGluZSIpO3RoaXMuYXhpc1NldD1jO3RoaXMuc2V0PWV9fSl9KSgpOyhmdW5jdGlvbigpe3ZhciBkPXdpbmRvdy5BbUNoYXJ0cztkLlJlY0l0ZW09ZC5DbGFzcyh7Y29uc3RydWN0OmZ1bmN0aW9uKGEsYixjLGUsZyxmLGgsayxsLG0sbixxKXtiPU1hdGgucm91bmQoYik7dmFyIHA9YS5jaGFydDt0aGlzLnZhbHVlPWM7dm9pZCAwPT1jJiYoYz0iIik7bHx8KGw9MCk7dm9pZCAwPT1lJiYoZT0hMCk7dmFyIHQ9cC5mb250RmFtaWx5LHI9YS5mb250U2l6ZTt2b2lkIDA9PXImJihyPXAuZm9udFNpemUpO3ZhciB3PWEuY29sb3I7dm9pZCAwPT13JiYodz1wLmNvbG9yKTt2b2lkIDAhPT1uJiYodz1uKTt2YXIgej1hLmNoYXJ0LmNvbnRhaW5lcix4PXouc2V0KCk7dGhpcy5zZXQ9eDt2YXIgdT1hLmF4aXNUaGlja25lc3MsQT1hLmF4aXNDb2xvcix5PWEuYXhpc0FscGhhLEI9YS50aWNrTGVuZ3RoLEQ9YS5ncmlkQWxwaGEsQz1hLmdyaWRUaGlja25lc3MsST1hLmdyaWRDb2xvcixIPWEuZGFzaExlbmd0aCxRPWEuZmlsbENvbG9yLE09YS5maWxsQWxwaGEsUD1hLmxhYmVsc0VuYWJsZWQ7DQpuPWEubGFiZWxSb3RhdGlvblI7dmFyIGlhPWEuY291bnRlcixKPWEuaW5zaWRlLGFhPWEubGFiZWxPZmZzZXQsbWE9YS5keCxuYT1hLmR5LFBhPWEub3JpZW50YXRpb24sWj1hLnBvc2l0aW9uLGRhPWEucHJldmlvdXNDb29yZCxYPWEuaGVpZ2h0LHhhPWEud2lkdGgsZWE9YS5vZmZzZXQsZmEsQmE7aD8odm9pZCAwIT09aC5pZCYmKHE9cC5jbGFzc05hbWVQcmVmaXgrIi1ndWlkZS0iK2guaWQpLFA9ITAsaXNOYU4oaC50aWNrTGVuZ3RoKXx8KEI9aC50aWNrTGVuZ3RoKSx2b2lkIDAhPWgubGluZUNvbG9yJiYoST1oLmxpbmVDb2xvciksdm9pZCAwIT1oLmNvbG9yJiYodz1oLmNvbG9yKSxpc05hTihoLmxpbmVBbHBoYSl8fChEPWgubGluZUFscGhhKSxpc05hTihoLmRhc2hMZW5ndGgpfHwoSD1oLmRhc2hMZW5ndGgpLGlzTmFOKGgubGluZVRoaWNrbmVzcyl8fChDPWgubGluZVRoaWNrbmVzcyksITA9PT1oLmluc2lkZSYmKEo9ITAsMDxlYSYmKGVhPTApKSxpc05hTihoLmxhYmVsUm90YXRpb24pfHwNCihuPWgubGFiZWxSb3RhdGlvbiksaXNOYU4oaC5mb250U2l6ZSl8fChyPWguZm9udFNpemUpLGgucG9zaXRpb24mJihaPWgucG9zaXRpb24pLHZvaWQgMCE9PWguYm9sZExhYmVsJiYoaz1oLmJvbGRMYWJlbCksaXNOYU4oaC5sYWJlbE9mZnNldCl8fChhYT1oLmxhYmVsT2Zmc2V0KSk6IiI9PT1jJiYoQj0wKTttJiYhaXNOYU4oYS5taW5vclRpY2tMZW5ndGgpJiYoQj1hLm1pbm9yVGlja0xlbmd0aCk7dmFyIGdhPSJzdGFydCI7MDxnJiYoZ2E9Im1pZGRsZSIpO2EuY2VudGVyTGFiZWxzJiYoZ2E9Im1pZGRsZSIpO3ZhciBWPW4qTWF0aC5QSS8xODAsWSxEYSxHPTAsdj0wLG9hPTAsaGE9WT0wLFFhPTA7IlYiPT1QYSYmKG49MCk7dmFyIGNhO1AmJiIiIT09YyYmKGNhPWEuYXV0b1dyYXAmJjA9PT1uP2Qud3JhcHBlZFRleHQoeixjLHcsdCxyLGdhLGssTWF0aC5hYnMoZyksMCk6ZC50ZXh0KHosYyx3LHQscixnYSxrKSxnYT1jYS5nZXRCQm94KCksaGE9Z2Eud2lkdGgsUWE9Z2EuaGVpZ2h0KTsNCmlmKCJIIj09UGEpe2lmKDA8PWImJmI8PXhhKzEmJigwPEImJjA8eSYmYitsPD14YSsxJiYoZmE9ZC5saW5lKHosW2IrbCxiK2xdLFswLEJdLEEseSxDKSx4LnB1c2goZmEpKSwwPEQmJihCYT1kLmxpbmUoeixbYixiK21hLGIrbWFdLFtYLFgrbmEsbmFdLEksRCxDLEgpLHgucHVzaChCYSkpKSx2PTAsRz1iLGgmJjkwPT1uJiZKJiYoRy09ciksITE9PT1lPyhnYT0ic3RhcnQiLHY9ImJvdHRvbSI9PVo/Sj92K0I6di1COko/di1COnYrQixHKz0zLDA8ZyYmKEcrPWcvMi0zLGdhPSJtaWRkbGUiKSwwPG4mJihnYT0ibWlkZGxlIikpOmdhPSJtaWRkbGUiLDE9PWlhJiYwPE0mJiFoJiYhbSYmZGE8eGEmJihlPWQuZml0VG9Cb3VuZHMoYiwwLHhhKSxkYT1kLmZpdFRvQm91bmRzKGRhLDAseGEpLFk9ZS1kYSwwPFkmJihEYT1kLnJlY3QoeixZLGEuaGVpZ2h0LFEsTSksRGEudHJhbnNsYXRlKGUtWSttYSxuYSkseC5wdXNoKERhKSkpLCJib3R0b20iPT1aPyh2Kz1YK3IvMitlYSxKPygwPG4/KHY9DQpYLWhhLzIqTWF0aC5zaW4oViktQi0zLGEuY2VudGVyUm90YXRlZExhYmVsc3x8KEcrPWhhLzIqTWF0aC5jb3MoViktNCsyKSk6MD5uPyh2PVgraGEqTWF0aC5zaW4oViktQi0zKzIsRys9LWhhKk1hdGguY29zKFYpLVFhKk1hdGguc2luKFYpLTQpOnYtPUIrciszKzMsdi09YWEpOigwPG4/KHY9WCtoYS8yKk1hdGguc2luKFYpK0IrMyxhLmNlbnRlclJvdGF0ZWRMYWJlbHN8fChHLT1oYS8yKk1hdGguY29zKFYpKSk6MD5uPyh2PVgrQiszLWhhLzIqTWF0aC5zaW4oVikrMixHKz1oYS8yKk1hdGguY29zKFYpKTp2Kz1CK3UrMyszLHYrPWFhKSk6KHYrPW5hK3IvMi1lYSxHKz1tYSxKPygwPG4/KHY9aGEvMipNYXRoLnNpbihWKStCKzMsYS5jZW50ZXJSb3RhdGVkTGFiZWxzfHwoRy09aGEvMipNYXRoLmNvcyhWKSkpOnYrPUIrMyx2Kz1hYSk6KDA8bj8odj0tKGhhLzIpKk1hdGguc2luKFYpLUItNixhLmNlbnRlclJvdGF0ZWRMYWJlbHN8fChHKz1oYS8yKk1hdGguY29zKFYpKSk6di09QisNCnIrMyt1KzMsdi09YWEpKSwiYm90dG9tIj09Wj9ZPShKP1gtQi0xOlgrdS0xKStlYToob2E9bWEsWT0oSj9uYTpuYS1CLXUrMSktZWEpLGYmJihHKz1mKSxyPUcsMDxuJiYocis9aGEvMipNYXRoLmNvcyhWKSksY2EmJihmPTAsSiYmKGY9aGEvMipNYXRoLmNvcyhWKSkscitmPnhhKzJ8fDA+cikpY2EucmVtb3ZlKCksY2E9bnVsbH1lbHNlezA8PWImJmI8PVgrMSYmKDA8QiYmMDx5JiZiK2w8PVgrMSYmKGZhPWQubGluZSh6LFswLEIrMV0sW2IrbCxiK2xdLEEseSxDKSx4LnB1c2goZmEpKSwwPEQmJihCYT1kLmxpbmUoeixbMCxtYSx4YSttYV0sW2IsYituYSxiK25hXSxJLEQsQyxIKSx4LnB1c2goQmEpKSk7Z2E9ImVuZCI7aWYoITA9PT1KJiYibGVmdCI9PVp8fCExPT09SiYmInJpZ2h0Ij09WilnYT0ic3RhcnQiO3Y9Yi1RYS8yKzI7MT09aWEmJjA8TSYmIWgmJiFtJiYoZT1kLmZpdFRvQm91bmRzKGIsMCxYKSxkYT1kLmZpdFRvQm91bmRzKGRhLDAsWCksVj1lLWRhLERhPWQucG9seWdvbih6LA0KWzAsYS53aWR0aCxhLndpZHRoLDBdLFswLDAsVixWXSxRLE0pLERhLnRyYW5zbGF0ZShtYSxlLVYrbmEpLHgucHVzaChEYSkpO3YrPXIvMjsicmlnaHQiPT1aPyhHKz1tYSt4YStlYSx2Kz1uYSxKPyhmfHwodi09ci8yKzMpLEc9Ry0oQis0KS1hYSk6KEcrPUIrNCt1LHYtPTIsRys9YWEpKTpKPyhHKz1CKzQtZWEsZnx8KHYtPXIvMiszKSxoJiYoRys9bWEsdis9bmEpLEcrPWFhKTooRys9LUItdS00LTItZWEsdi09MixHLT1hYSk7ZmEmJigicmlnaHQiPT1aPyhvYSs9bWErZWEreGEtMSxZKz1uYSxvYT1KP29hLXU6b2ErdSk6KG9hLT1lYSxKfHwob2EtPUIrdSkpKTtmJiYodis9Zik7Sj0tMzsicmlnaHQiPT1aJiYoSis9bmEpO2NhJiYodj5YKzF8fHY8Si1yLzEwKSYmKGNhLnJlbW92ZSgpLGNhPW51bGwpfWZhJiYoZmEudHJhbnNsYXRlKG9hLFkpLGQuc2V0Q04ocCxmYSxhLmJjbisidGljayIpLGQuc2V0Q04ocCxmYSxxLCEwKSxoJiZkLnNldENOKHAsZmEsImd1aWRlIikpOyExPT09DQphLnZpc2libGUmJihmYSYmZmEucmVtb3ZlKCksY2EmJihjYS5yZW1vdmUoKSxjYT1udWxsKSk7Y2EmJihjYS5hdHRyKHsidGV4dC1hbmNob3IiOmdhfSksY2EudHJhbnNsYXRlKEcsdixOYU4sITApLDAhPT1uJiZjYS5yb3RhdGUoLW4sYS5jaGFydC5iYWNrZ3JvdW5kQ29sb3IpLGEuYWxsTGFiZWxzLnB1c2goY2EpLHRoaXMubGFiZWw9Y2EsZC5zZXRDTihwLGNhLGEuYmNuKyJsYWJlbCIpLGQuc2V0Q04ocCxjYSxxLCEwKSxoJiZkLnNldENOKHAsY2EsImd1aWRlIikpO0JhJiYoZC5zZXRDTihwLEJhLGEuYmNuKyJncmlkIiksZC5zZXRDTihwLEJhLHEsITApLGgmJmQuc2V0Q04ocCxCYSwiZ3VpZGUiKSk7RGEmJihkLnNldENOKHAsRGEsYS5iY24rImZpbGwiKSxkLnNldENOKHAsRGEscSwhMCkpO20/QmEmJmQuc2V0Q04ocCxCYSxhLmJjbisiZ3JpZC1taW5vciIpOihhLmNvdW50ZXI9MD09PWlhPzE6MCxhLnByZXZpb3VzQ29vcmQ9Yik7MD09PXRoaXMuc2V0Lm5vZGUuY2hpbGROb2Rlcy5sZW5ndGgmJg0KdGhpcy5zZXQucmVtb3ZlKCl9LGdyYXBoaWNzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0fSxnZXRMYWJlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsfX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5SZWNGaWxsPWQuQ2xhc3Moe2NvbnN0cnVjdDpmdW5jdGlvbihhLGIsYyxlKXt2YXIgZz1hLmR4LGY9YS5keSxoPWEub3JpZW50YXRpb24saz0wO2lmKGM8Yil7dmFyIGw9YjtiPWM7Yz1sfXZhciBtPWUuZmlsbEFscGhhO2lzTmFOKG0pJiYobT0wKTt2YXIgbD1hLmNoYXJ0LmNvbnRhaW5lcixuPWUuZmlsbENvbG9yOyJWIj09aD8oYj1kLmZpdFRvQm91bmRzKGIsMCxhLmhlaWdodCksYz1kLmZpdFRvQm91bmRzKGMsMCxhLmhlaWdodCkpOihiPWQuZml0VG9Cb3VuZHMoYiwwLGEud2lkdGgpLGM9ZC5maXRUb0JvdW5kcyhjLDAsYS53aWR0aCkpO2MtPWI7aXNOYU4oYykmJihjPTQsaz0yLG09MCk7MD5jJiYib2JqZWN0Ij09dHlwZW9mIG4mJihuPW4uam9pbigiLCIpLnNwbGl0KCIsIikucmV2ZXJzZSgpKTsiViI9PWg/KGg9ZC5yZWN0KGwsYS53aWR0aCxjLG4sbSksaC50cmFuc2xhdGUoZyxiLWsrZikpOihoPWQucmVjdChsLA0KYyxhLmhlaWdodCxuLG0pLGgudHJhbnNsYXRlKGItaytnLGYpKTtkLnNldENOKGEuY2hhcnQsaCwiZ3VpZGUtZmlsbCIpO2UuaWQmJmQuc2V0Q04oYS5jaGFydCxoLCJndWlkZS1maWxsLSIrZS5pZCk7dGhpcy5zZXQ9bC5zZXQoW2hdKX0sZ3JhcGhpY3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXR9LGdldExhYmVsOmZ1bmN0aW9uKCl7fX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5BbUNoYXJ0PWQuQ2xhc3Moe2NvbnN0cnVjdDpmdW5jdGlvbihhKXt0aGlzLnN2Z0ljb25zPXRoaXMudGFwVG9BY3RpdmF0ZT0hMDt0aGlzLnRoZW1lPWE7dGhpcy5jbGFzc05hbWVQcmVmaXg9ImFtY2hhcnRzIjt0aGlzLmFkZENsYXNzTmFtZXM9ITE7dGhpcy52ZXJzaW9uPSIzLjIxLjEzIjtkLmFkZENoYXJ0KHRoaXMpO3RoaXMuY3JlYXRlRXZlbnRzKCJidWlsZFN0YXJ0ZWQiLCJkYXRhVXBkYXRlZCIsImluaXQiLCJyZW5kZXJlZCIsImRyYXduIiwiZmFpbGVkIiwicmVzaXplZCIsImFuaW1hdGlvbkZpbmlzaGVkIik7dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD0iMTAwJSI7dGhpcy5kYXRhQ2hhbmdlZD0hMDt0aGlzLmNoYXJ0Q3JlYXRlZD0hMTt0aGlzLnByZXZpb3VzV2lkdGg9dGhpcy5wcmV2aW91c0hlaWdodD0wO3RoaXMuYmFja2dyb3VuZENvbG9yPSIjRkZGRkZGIjt0aGlzLmJvcmRlckFscGhhPXRoaXMuYmFja2dyb3VuZEFscGhhPQ0KMDt0aGlzLmNvbG9yPXRoaXMuYm9yZGVyQ29sb3I9IiMwMDAwMDAiO3RoaXMuZm9udEZhbWlseT0iVmVyZGFuYSI7dGhpcy5mb250U2l6ZT0xMTt0aGlzLnVzZVByZWZpeGVzPSExO3RoaXMuYXV0b1Jlc2l6ZT0hMDt0aGlzLmF1dG9EaXNwbGF5PSExO3RoaXMuYWRkQ29kZUNyZWRpdHM9dGhpcy5hY2Nlc3NpYmxlPSEwO3RoaXMudG91Y2hTdGFydFRpbWU9dGhpcy50b3VjaENsaWNrRHVyYXRpb249MDt0aGlzLnByZWNpc2lvbj0tMTt0aGlzLnBlcmNlbnRQcmVjaXNpb249Mjt0aGlzLmRlY2ltYWxTZXBhcmF0b3I9Ii4iO3RoaXMudGhvdXNhbmRzU2VwYXJhdG9yPSIsIjt0aGlzLmxhYmVscz1bXTt0aGlzLmFsbExhYmVscz1bXTt0aGlzLnRpdGxlcz1bXTt0aGlzLm1hcmdpblJpZ2h0PXRoaXMubWFyZ2luTGVmdD10aGlzLmF1dG9NYXJnaW5PZmZzZXQ9MDt0aGlzLnRpbWVPdXRzPVtdO3RoaXMuY3JlZGl0c1Bvc2l0aW9uPSJ0b3AtbGVmdCI7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksDQpjPWIuc3R5bGU7Yy5vdmVyZmxvdz0iaGlkZGVuIjtjLnBvc2l0aW9uPSJyZWxhdGl2ZSI7Yy50ZXh0QWxpZ249ImxlZnQiO3RoaXMuY2hhcnREaXY9YjtiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2M9Yi5zdHlsZTtjLm92ZXJmbG93PSJoaWRkZW4iO2MucG9zaXRpb249InJlbGF0aXZlIjtjLnRleHRBbGlnbj0ibGVmdCI7dGhpcy5sZWdlbmREaXY9Yjt0aGlzLnRpdGxlSGVpZ2h0PTA7dGhpcy5oaWRlQmFsbG9vblRpbWU9MTUwO3RoaXMuaGFuZERyYXdTY2F0dGVyPTI7dGhpcy5jc3NTY2FsZT10aGlzLmhhbmREcmF3VGhpY2tuZXNzPTE7dGhpcy5jc3NBbmdsZT0wO3RoaXMucHJlZml4ZXNPZkJpZ051bWJlcnM9W3tudW1iZXI6MUUzLHByZWZpeDoiayJ9LHtudW1iZXI6MUU2LHByZWZpeDoiTSJ9LHtudW1iZXI6MUU5LHByZWZpeDoiRyJ9LHtudW1iZXI6MUUxMixwcmVmaXg6IlQifSx7bnVtYmVyOjFFMTUscHJlZml4OiJQIn0se251bWJlcjoxRTE4LHByZWZpeDoiRSJ9LA0Ke251bWJlcjoxRTIxLHByZWZpeDoiWiJ9LHtudW1iZXI6MUUyNCxwcmVmaXg6IlkifV07dGhpcy5wcmVmaXhlc09mU21hbGxOdW1iZXJzPVt7bnVtYmVyOjFFLTI0LHByZWZpeDoieSJ9LHtudW1iZXI6MUUtMjEscHJlZml4OiJ6In0se251bWJlcjoxRS0xOCxwcmVmaXg6ImEifSx7bnVtYmVyOjFFLTE1LHByZWZpeDoiZiJ9LHtudW1iZXI6MUUtMTIscHJlZml4OiJwIn0se251bWJlcjoxRS05LHByZWZpeDoibiJ9LHtudW1iZXI6MUUtNixwcmVmaXg6Ilx1MDNiYyJ9LHtudW1iZXI6LjAwMSxwcmVmaXg6Im0ifV07dGhpcy5wYW5FdmVudHNFbmFibGVkPSEwO3RoaXMucHJvZHVjdD0iYW1jaGFydHMiO3RoaXMuYW5pbWF0aW9ucz1bXTt0aGlzLmJhbGxvb249bmV3IGQuQW1CYWxsb29uKHRoaXMudGhlbWUpO3RoaXMuYmFsbG9vbi5jaGFydD10aGlzO3RoaXMucHJvY2Vzc1RpbWVvdXQ9MDt0aGlzLnByb2Nlc3NDb3VudD0xRTM7dGhpcy5hbmltYXRhYmxlPVtdO3RoaXMubGFuZ09iaj17fTsNCmQuYXBwbHlUaGVtZSh0aGlzLGEsIkFtQ2hhcnQiKX0sZHJhd0NoYXJ0OmZ1bmN0aW9uKCl7MDx0aGlzLnJlYWxXaWR0aCYmMDx0aGlzLnJlYWxIZWlnaHQmJih0aGlzLmRyYXdCYWNrZ3JvdW5kKCksdGhpcy5yZWRyYXdMYWJlbHMoKSx0aGlzLmRyYXdUaXRsZXMoKSx0aGlzLmJycigpLHRoaXMucmVuZGVyRml4KCksdGhpcy5jaGFydERpdiYmKHRoaXMuYm91bmRpbmdSZWN0PXRoaXMuY2hhcnREaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpKX0sbWFrZUFjY2Vzc2libGU6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYWNjZXNzaWJsZSYmYSYmKGMmJmEuc2V0QXR0cigicm9sZSIsYyksYS5zZXRBdHRyKCJhcmlhLWxhYmVsIixiKSl9LGRyYXdCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7ZC5yZW1vdmUodGhpcy5iYWNrZ3JvdW5kKTt2YXIgYT10aGlzLmNvbnRhaW5lcixiPXRoaXMuYmFja2dyb3VuZENvbG9yLGM9dGhpcy5iYWNrZ3JvdW5kQWxwaGEsZT10aGlzLnNldDtkLmlzTW9kZXJufHwwIT09DQpjfHwoYz0uMDAxKTt2YXIgZz10aGlzLnVwZGF0ZVdpZHRoKCk7dGhpcy5yZWFsV2lkdGg9Zzt2YXIgZj10aGlzLnVwZGF0ZUhlaWdodCgpO3RoaXMucmVhbEhlaWdodD1mO2I9ZC5wb2x5Z29uKGEsWzAsZy0xLGctMSwwXSxbMCwwLGYtMSxmLTFdLGIsYywxLHRoaXMuYm9yZGVyQ29sb3IsdGhpcy5ib3JkZXJBbHBoYSk7ZC5zZXRDTih0aGlzLGIsImJnIik7dGhpcy5iYWNrZ3JvdW5kPWI7ZS5wdXNoKGIpO2lmKGI9dGhpcy5iYWNrZ3JvdW5kSW1hZ2UpYT1hLmltYWdlKGIsMCwwLGcsZiksZC5zZXRDTih0aGlzLGIsImJnLWltYWdlIiksdGhpcy5iZ0ltZz1hLGUucHVzaChhKX0sZHJhd1RpdGxlczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRpdGxlczt0aGlzLnRpdGxlSGVpZ2h0PTA7aWYoZC5pZkFycmF5KGIpKXt2YXIgYz0yMCxlO2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBnPWJbZV0sZz1kLnByb2Nlc3NPYmplY3QoZyxkLlRpdGxlLHRoaXMudGhlbWUpO2lmKCExIT09Zy5lbmFibGVkKXt2YXIgZj0NCmcuY29sb3I7dm9pZCAwPT09ZiYmKGY9dGhpcy5jb2xvcik7dmFyIGg9Zy5zaXplO2lzTmFOKGgpJiYoaD10aGlzLmZvbnRTaXplKzIpO2lzTmFOKGcuYWxwaGEpO3ZhciBrPXRoaXMubWFyZ2luTGVmdCxsPSEwO3ZvaWQgMCE9PWcuYm9sZCYmKGw9Zy5ib2xkKTtmPWQud3JhcHBlZFRleHQodGhpcy5jb250YWluZXIsZy50ZXh0LGYsdGhpcy5mb250RmFtaWx5LGgsIm1pZGRsZSIsbCx0aGlzLnJlYWxXaWR0aC0zNS10aGlzLm1hcmdpblJpZ2h0LWspO2YudHJhbnNsYXRlKGsrKHRoaXMucmVhbFdpZHRoLXRoaXMubWFyZ2luUmlnaHQtaykvMixjKTtmLm5vZGUuc3R5bGUucG9pbnRlckV2ZW50cz0ibm9uZSI7Zy5zcHJpdGU9Zjt2b2lkIDAhPT1nLnRhYkluZGV4JiZmLnNldEF0dHIoInRhYmluZGV4IixnLnRhYkluZGV4KTtkLnNldENOKHRoaXMsZiwidGl0bGUiKTtnLmlkJiZkLnNldENOKHRoaXMsZiwidGl0bGUtIitnLmlkKTtmLmF0dHIoe29wYWNpdHk6Zy5hbHBoYX0pO2MrPWYuZ2V0QkJveCgpLmhlaWdodCsNCjU7YT9mLnJlbW92ZSgpOnRoaXMuZnJlZUxhYmVsc1NldC5wdXNoKGYpfX10aGlzLnRpdGxlSGVpZ2h0PWMtMTB9fSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGIubGlzdGVuZXJzKWZvcih2YXIgYz0wO2M8Yi5saXN0ZW5lcnMubGVuZ3RoO2MrKyl7dmFyIGU9Yi5saXN0ZW5lcnNbY107Yi5hZGRMaXN0ZW5lcihlLmV2ZW50LGUubWV0aG9kKX1iLmZpcmUoe3R5cGU6ImJ1aWxkU3RhcnRlZCIsY2hhcnQ6Yn0pO2IuYWZ0ZXJXcml0ZVRPJiZjbGVhclRpbWVvdXQoYi5hZnRlcldyaXRlVE8pOzA8Yi5wcm9jZXNzVGltZW91dD9iLmFmdGVyV3JpdGVUTz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5hZnRlcldyaXRlLmNhbGwoYixhKX0sYi5wcm9jZXNzVGltZW91dCk6Yi5hZnRlcldyaXRlKGEpfSxhZnRlcldyaXRlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGI9Im9iamVjdCIhPXR5cGVvZiBhP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpOmEpe2Zvcig7Yi5maXJzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIuZmlyc3RDaGlsZCk7DQp0aGlzLmRpdj1iO2Iuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7Yi5zdHlsZS50ZXh0QWxpZ249ImxlZnQiO2E9dGhpcy5jaGFydERpdjt2YXIgYz10aGlzLmxlZ2VuZERpdixlPXRoaXMubGVnZW5kLGc9Yy5zdHlsZSxmPWEuc3R5bGU7dGhpcy5tZWFzdXJlKCk7dGhpcy5wcmV2aW91c0hlaWdodD10aGlzLmRpdlJlYWxIZWlnaHQ7dGhpcy5wcmV2aW91c1dpZHRoPXRoaXMuZGl2UmVhbFdpZHRoO3ZhciBoLGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aD1rLnN0eWxlO2gucG9zaXRpb249InJlbGF0aXZlIjt0aGlzLmNvbnRhaW5lckRpdj1rO2suY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lUHJlZml4KyItbWFpbi1kaXYiO2EuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lUHJlZml4KyItY2hhcnQtZGl2IjtiLmFwcGVuZENoaWxkKGspOyhiPXRoaXMuZXhwb3J0Q29uZmlnKSYmZC5BbUV4cG9ydCYmIXRoaXMuQW1FeHBvcnQmJih0aGlzLkFtRXhwb3J0PW5ldyBkLkFtRXhwb3J0KHRoaXMsDQpiKSk7dGhpcy5hbUV4cG9ydCYmZC5BbUV4cG9ydCYmKHRoaXMuQW1FeHBvcnQ9ZC5leHRlbmQodGhpcy5hbUV4cG9ydCxuZXcgZC5BbUV4cG9ydCh0aGlzKSwhMCkpO3RoaXMuQW1FeHBvcnQmJnRoaXMuQW1FeHBvcnQuaW5pdCYmdGhpcy5BbUV4cG9ydC5pbml0KCk7aWYoZSl7ZT10aGlzLmFkZExlZ2VuZChlLGUuZGl2SWQpO2lmKGUuZW5hYmxlZClzd2l0Y2goZy5sZWZ0PW51bGwsZy50b3A9bnVsbCxnLnJpZ2h0PW51bGwsZi5sZWZ0PW51bGwsZi5yaWdodD1udWxsLGYudG9wPW51bGwsZy5wb3NpdGlvbj0icmVsYXRpdmUiLGYucG9zaXRpb249InJlbGF0aXZlIixoLndpZHRoPSIxMDAlIixoLmhlaWdodD0iMTAwJSIsZS5wb3NpdGlvbil7Y2FzZSAiYm90dG9tIjprLmFwcGVuZENoaWxkKGEpO2suYXBwZW5kQ2hpbGQoYyk7YnJlYWs7Y2FzZSAidG9wIjprLmFwcGVuZENoaWxkKGMpO2suYXBwZW5kQ2hpbGQoYSk7YnJlYWs7Y2FzZSAiYWJzb2x1dGUiOmcucG9zaXRpb249ImFic29sdXRlIjsNCmYucG9zaXRpb249ImFic29sdXRlIjt2b2lkIDAhPT1lLmxlZnQmJihnLmxlZnQ9ZS5sZWZ0KyJweCIpO3ZvaWQgMCE9PWUucmlnaHQmJihnLnJpZ2h0PWUucmlnaHQrInB4Iik7dm9pZCAwIT09ZS50b3AmJihnLnRvcD1lLnRvcCsicHgiKTt2b2lkIDAhPT1lLmJvdHRvbSYmKGcuYm90dG9tPWUuYm90dG9tKyJweCIpO2UubWFyZ2luTGVmdD0wO2UubWFyZ2luUmlnaHQ9MDtrLmFwcGVuZENoaWxkKGEpO2suYXBwZW5kQ2hpbGQoYyk7YnJlYWs7Y2FzZSAicmlnaHQiOmcucG9zaXRpb249InJlbGF0aXZlIjtmLnBvc2l0aW9uPSJhYnNvbHV0ZSI7ay5hcHBlbmRDaGlsZChhKTtrLmFwcGVuZENoaWxkKGMpO2JyZWFrO2Nhc2UgImxlZnQiOmcucG9zaXRpb249ImFic29sdXRlIjtmLnBvc2l0aW9uPSJyZWxhdGl2ZSI7ay5hcHBlbmRDaGlsZChhKTtrLmFwcGVuZENoaWxkKGMpO2JyZWFrO2Nhc2UgIm91dHNpZGUiOmsuYXBwZW5kQ2hpbGQoYSl9ZWxzZSBrLmFwcGVuZENoaWxkKGEpO3RoaXMucHJldkxlZ2VuZFBvc2l0aW9uPQ0KZS5wb3NpdGlvbn1lbHNlIGsuYXBwZW5kQ2hpbGQoYSk7dGhpcy5saXN0ZW5lcnNBZGRlZHx8KHRoaXMuYWRkTGlzdGVuZXJzKCksdGhpcy5saXN0ZW5lcnNBZGRlZD0hMCk7KHRoaXMubW91c2VXaGVlbFNjcm9sbEVuYWJsZWR8fHRoaXMubW91c2VXaGVlbFpvb21FbmFibGVkKSYmZC5hZGRXaGVlbExpc3RlbmVycygpO3RoaXMuaW5pdENoYXJ0KCl9fSxjcmVhdGVMYWJlbHNTZXQ6ZnVuY3Rpb24oKXtkLnJlbW92ZSh0aGlzLmxhYmVsc1NldCk7dGhpcy5sYWJlbHNTZXQ9dGhpcy5jb250YWluZXIuc2V0KCk7dGhpcy5mcmVlTGFiZWxzU2V0LnB1c2godGhpcy5sYWJlbHNTZXQpfSxpbml0Q2hhcnQ6ZnVuY3Rpb24oKXt0aGlzLmJhbGxvb249ZC5wcm9jZXNzT2JqZWN0KHRoaXMuYmFsbG9vbixkLkFtQmFsbG9vbix0aGlzLnRoZW1lKTt3aW5kb3cuQW1DaGFydHNfcGF0aCYmKHRoaXMucGF0aD13aW5kb3cuQW1DaGFydHNfcGF0aCk7dm9pZCAwPT09dGhpcy5wYXRoJiYodGhpcy5wYXRoPQ0KZC5nZXRQYXRoKCkpO3ZvaWQgMD09PXRoaXMucGF0aCYmKHRoaXMucGF0aD0iYW1jaGFydHMvIik7dGhpcy5wYXRoPWQubm9ybWFsaXplVXJsKHRoaXMucGF0aCk7dm9pZCAwPT09dGhpcy5wYXRoVG9JbWFnZXMmJih0aGlzLnBhdGhUb0ltYWdlcz10aGlzLnBhdGgrImltYWdlcy8iKTt0aGlzLmluaXRIQ3x8KGQuY2FsbEluaXRIYW5kbGVyKHRoaXMpLHRoaXMuaW5pdEhDPSEwKTtkLmFwcGx5TGFuZyh0aGlzLmxhbmd1YWdlLHRoaXMpO3ZhciBhPXRoaXMubnVtYmVyRm9ybWF0dGVyO2EmJihpc05hTihhLnByZWNpc2lvbil8fCh0aGlzLnByZWNpc2lvbj1hLnByZWNpc2lvbiksdm9pZCAwIT09YS50aG91c2FuZHNTZXBhcmF0b3ImJih0aGlzLnRob3VzYW5kc1NlcGFyYXRvcj1hLnRob3VzYW5kc1NlcGFyYXRvciksdm9pZCAwIT09YS5kZWNpbWFsU2VwYXJhdG9yJiYodGhpcy5kZWNpbWFsU2VwYXJhdG9yPWEuZGVjaW1hbFNlcGFyYXRvcikpOyhhPXRoaXMucGVyY2VudEZvcm1hdHRlcikmJg0KIWlzTmFOKGEucHJlY2lzaW9uKSYmKHRoaXMucGVyY2VudFByZWNpc2lvbj1hLnByZWNpc2lvbik7dGhpcy5uZj17cHJlY2lzaW9uOnRoaXMucHJlY2lzaW9uLHRob3VzYW5kc1NlcGFyYXRvcjp0aGlzLnRob3VzYW5kc1NlcGFyYXRvcixkZWNpbWFsU2VwYXJhdG9yOnRoaXMuZGVjaW1hbFNlcGFyYXRvcn07dGhpcy5wZj17cHJlY2lzaW9uOnRoaXMucGVyY2VudFByZWNpc2lvbix0aG91c2FuZHNTZXBhcmF0b3I6dGhpcy50aG91c2FuZHNTZXBhcmF0b3IsZGVjaW1hbFNlcGFyYXRvcjp0aGlzLmRlY2ltYWxTZXBhcmF0b3J9O3RoaXMuZGVzdHJveSgpOyhhPXRoaXMuY29udGFpbmVyKT8oYS5jb250YWluZXIuaW5uZXJIVE1MPSIiLGEud2lkdGg9dGhpcy5yZWFsV2lkdGgsYS5oZWlnaHQ9dGhpcy5yZWFsSGVpZ2h0LGEuYWRkRGVmcyh0aGlzKSx0aGlzLmNoYXJ0RGl2LmFwcGVuZENoaWxkKGEuY29udGFpbmVyKSk6YT1uZXcgZC5BbURyYXcodGhpcy5jaGFydERpdix0aGlzLnJlYWxXaWR0aCwNCnRoaXMucmVhbEhlaWdodCx0aGlzKTt0aGlzLmNvbnRhaW5lcj1hO3RoaXMuZXh0ZW5zaW9uPSIucG5nIjt0aGlzLnN2Z0ljb25zJiZkLlNWRyYmKHRoaXMuZXh0ZW5zaW9uPSIuc3ZnIik7dGhpcy5jaGVja0Rpc3BsYXkoKTt0aGlzLmNoZWNrVHJhbnNmb3JtKHRoaXMuZGl2KTthLmNoYXJ0PXRoaXM7ZC5WTUx8fGQuU1ZHPyhhLmhhbmREcmF3bj10aGlzLmhhbmREcmF3bixhLmhhbmREcmF3U2NhdHRlcj10aGlzLmhhbmREcmF3U2NhdHRlcixhLmhhbmREcmF3VGhpY2tuZXNzPXRoaXMuaGFuZERyYXdUaGlja25lc3MsZC5yZW1vdmUodGhpcy5zZXQpLHRoaXMuc2V0PWEuc2V0KCksZC5yZW1vdmUodGhpcy5ncmlkU2V0KSx0aGlzLmdyaWRTZXQ9YS5zZXQoKSxkLnJlbW92ZSh0aGlzLmN1cnNvckxpbmVTZXQpLHRoaXMuY3Vyc29yTGluZVNldD1hLnNldCgpLGQucmVtb3ZlKHRoaXMuZ3JhcGhzQmVoaW5kU2V0KSx0aGlzLmdyYXBoc0JlaGluZFNldD1hLnNldCgpLGQucmVtb3ZlKHRoaXMuYnVsbGV0QmVoaW5kU2V0KSwNCnRoaXMuYnVsbGV0QmVoaW5kU2V0PWEuc2V0KCksZC5yZW1vdmUodGhpcy5jb2x1bW5TZXQpLHRoaXMuY29sdW1uU2V0PWEuc2V0KCksZC5yZW1vdmUodGhpcy5ncmFwaHNTZXQpLHRoaXMuZ3JhcGhzU2V0PWEuc2V0KCksZC5yZW1vdmUodGhpcy50cmVuZExpbmVzU2V0KSx0aGlzLnRyZW5kTGluZXNTZXQ9YS5zZXQoKSxkLnJlbW92ZSh0aGlzLmF4ZXNTZXQpLHRoaXMuYXhlc1NldD1hLnNldCgpLGQucmVtb3ZlKHRoaXMuY3Vyc29yU2V0KSx0aGlzLmN1cnNvclNldD1hLnNldCgpLGQucmVtb3ZlKHRoaXMuc2Nyb2xsYmFyc1NldCksdGhpcy5zY3JvbGxiYXJzU2V0PWEuc2V0KCksZC5yZW1vdmUodGhpcy5idWxsZXRTZXQpLHRoaXMuYnVsbGV0U2V0PWEuc2V0KCksZC5yZW1vdmUodGhpcy5mcmVlTGFiZWxzU2V0KSx0aGlzLmZyZWVMYWJlbHNTZXQ9YS5zZXQoKSxkLnJlbW92ZSh0aGlzLmF4ZXNMYWJlbHNTZXQpLHRoaXMuYXhlc0xhYmVsc1NldD1hLnNldCgpLGQucmVtb3ZlKHRoaXMuYmFsbG9vbnNTZXQpLA0KdGhpcy5iYWxsb29uc1NldD1hLnNldCgpLGQucmVtb3ZlKHRoaXMucGxvdEJhbGxvb25zU2V0KSx0aGlzLnBsb3RCYWxsb29uc1NldD1hLnNldCgpLGQucmVtb3ZlKHRoaXMuem9vbUJ1dHRvblNldCksdGhpcy56b29tQnV0dG9uU2V0PWEuc2V0KCksZC5yZW1vdmUodGhpcy56YlNldCksdGhpcy56YlNldD1udWxsLGQucmVtb3ZlKHRoaXMubGlua1NldCksdGhpcy5saW5rU2V0PWEuc2V0KCkpOnRoaXMuZmlyZSh7dHlwZToiZmFpbGVkIixjaGFydDp0aGlzfSl9LHByZW1lYXN1cmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRpdjtpZihhKXt0cnl7dGhpcy5ib3VuZGluZ1JlY3Q9dGhpcy5jaGFydERpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaChlKXt9dmFyIGI9YS5vZmZzZXRXaWR0aCxjPWEub2Zmc2V0SGVpZ2h0O2EuY2xpZW50SGVpZ2h0JiYoYj1hLmNsaWVudFdpZHRoLGM9YS5jbGllbnRIZWlnaHQpO2lmKGIhPXRoaXMubXd8fGMhPXRoaXMubWgpdGhpcy5tdz1iLHRoaXMubWg9DQpjLHRoaXMubWVhc3VyZSgpfX0sbWVhc3VyZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGl2O2lmKGEpe3ZhciBiPXRoaXMuY2hhcnREaXYsYz1hLm9mZnNldFdpZHRoLGU9YS5vZmZzZXRIZWlnaHQsZz10aGlzLmNvbnRhaW5lcjthLmNsaWVudEhlaWdodCYmKGM9YS5jbGllbnRXaWR0aCxlPWEuY2xpZW50SGVpZ2h0KTt2YXIgZT1NYXRoLnJvdW5kKGUpLGM9TWF0aC5yb3VuZChjKSxhPU1hdGgucm91bmQoZC50b0Nvb3JkaW5hdGUodGhpcy53aWR0aCxjKSksZj1NYXRoLnJvdW5kKGQudG9Db29yZGluYXRlKHRoaXMuaGVpZ2h0LGUpKTsoYyE9dGhpcy5wcmV2aW91c1dpZHRofHxlIT10aGlzLnByZXZpb3VzSGVpZ2h0KSYmMDxhJiYwPGYmJihiLnN0eWxlLndpZHRoPWErInB4IixiLnN0eWxlLmhlaWdodD1mKyJweCIsYi5zdHlsZS5wYWRkaW5nPTAsZyYmZy5zZXRTaXplKGEsZiksdGhpcy5iYWxsb29uPWQucHJvY2Vzc09iamVjdCh0aGlzLmJhbGxvb24sZC5BbUJhbGxvb24sdGhpcy50aGVtZSkpOw0KdGhpcy5iYWxsb29uJiZ0aGlzLmJhbGxvb24uc2V0Qm91bmRzJiZ0aGlzLmJhbGxvb24uc2V0Qm91bmRzKDIsMixhLTIsZik7dGhpcy51cGRhdGVXaWR0aCgpO3RoaXMuYmFsbG9vbi5jaGFydD10aGlzO3RoaXMucmVhbFdpZHRoPWE7dGhpcy5yZWFsSGVpZ2h0PWY7dGhpcy5kaXZSZWFsV2lkdGg9Yzt0aGlzLmRpdlJlYWxIZWlnaHQ9ZX19LGNoZWNrRGlzcGxheTpmdW5jdGlvbigpe2lmKHRoaXMuYXV0b0Rpc3BsYXkmJnRoaXMuY29udGFpbmVyKXt2YXIgYT1kLnJlY3QodGhpcy5jb250YWluZXIsMTAsMTApLGI9YS5nZXRCQm94KCk7MD09PWIud2lkdGgmJjA9PT1iLmhlaWdodCYmKHRoaXMuZGl2UmVhbEhlaWdodD10aGlzLmRpdlJlYWxXaWR0aD10aGlzLnJlYWxIZWlnaHQ9dGhpcy5yZWFsV2lkdGg9MCx0aGlzLnByZXZpb3VzV2lkdGg9dGhpcy5wcmV2aW91c0hlaWdodD1OYU4pO2EucmVtb3ZlKCl9fSxjaGVja1RyYW5zZm9ybTpmdW5jdGlvbihhKXtpZih0aGlzLmF1dG9UcmFuc2Zvcm0mJg0Kd2luZG93LmdldENvbXB1dGVkU3R5bGUmJmEpe2lmKGEuc3R5bGUpe3ZhciBiPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCk7aWYoYiYmKGI9Yi5nZXRQcm9wZXJ0eVZhbHVlKCItd2Via2l0LXRyYW5zZm9ybSIpfHxiLmdldFByb3BlcnR5VmFsdWUoIi1tb3otdHJhbnNmb3JtIil8fGIuZ2V0UHJvcGVydHlWYWx1ZSgiLW1zLXRyYW5zZm9ybSIpfHxiLmdldFByb3BlcnR5VmFsdWUoIi1vLXRyYW5zZm9ybSIpfHxiLmdldFByb3BlcnR5VmFsdWUoInRyYW5zZm9ybSIpKSYmIm5vbmUiIT09Yil7dmFyIGM9Yi5zcGxpdCgiKCIpWzFdLnNwbGl0KCIpIilbMF0uc3BsaXQoIiwiKSxiPWNbMF0sYz1jWzFdLGI9TWF0aC5zcXJ0KGIqYitjKmMpO2lzTmFOKGIpfHwodGhpcy5jc3NTY2FsZSo9Yil9fWEucGFyZW50Tm9kZSYmdGhpcy5jaGVja1RyYW5zZm9ybShhLnBhcmVudE5vZGUpfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2hhcnREaXYuaW5uZXJIVE1MPSIiO3RoaXMuY2xlYXJUaW1lT3V0cygpOw0KdGhpcy5sZWdlbmQmJnRoaXMubGVnZW5kLmRlc3Ryb3koKX0sY2xlYXJUaW1lT3V0czpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGltZU91dHM7aWYoYSl7dmFyIGI7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKyljbGVhclRpbWVvdXQoYVtiXSl9dGhpcy50aW1lT3V0cz1bXX0sY2xlYXI6ZnVuY3Rpb24oYSl7dHJ5e2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLHRoaXMuZG9jZm4xLCEwKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsdGhpcy5kb2NmbjIsITApfWNhdGNoKGIpe31kLmNhbGxNZXRob2QoImNsZWFyIixbdGhpcy5jaGFydFNjcm9sbGJhcix0aGlzLnNjcm9sbGJhclYsdGhpcy5zY3JvbGxiYXJILHRoaXMuY2hhcnRDdXJzb3JdKTt0aGlzLmNoYXJ0Q3Vyc29yPXRoaXMuc2Nyb2xsYmFySD10aGlzLnNjcm9sbGJhclY9dGhpcy5jaGFydFNjcm9sbGJhcj1udWxsO3RoaXMuY2xlYXJUaW1lT3V0cygpO3RoaXMuY29udGFpbmVyJiYNCih0aGlzLmNvbnRhaW5lci5yZW1vdmUodGhpcy5jaGFydERpdiksdGhpcy5jb250YWluZXIucmVtb3ZlKHRoaXMubGVnZW5kRGl2KSk7YXx8ZC5yZW1vdmVDaGFydCh0aGlzKTtpZihhPXRoaXMuZGl2KWZvcig7YS5maXJzdENoaWxkOylhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCk7dGhpcy5sZWdlbmQmJnRoaXMubGVnZW5kLmRlc3Ryb3koKTt0aGlzLkFtRXhwb3J0JiZ0aGlzLkFtRXhwb3J0LmNsZWFyJiZ0aGlzLkFtRXhwb3J0LmNsZWFyKCl9LHNldE1vdXNlQ3Vyc29yOmZ1bmN0aW9uKGEpeyJhdXRvIj09YSYmZC5pc05OJiYoYT0iZGVmYXVsdCIpO3RoaXMuY2hhcnREaXYuc3R5bGUuY3Vyc29yPWE7dGhpcy5sZWdlbmREaXYuc3R5bGUuY3Vyc29yPWF9LHJlZHJhd0xhYmVsczpmdW5jdGlvbigpe3RoaXMubGFiZWxzPVtdO3ZhciBhPXRoaXMuYWxsTGFiZWxzO3RoaXMuY3JlYXRlTGFiZWxzU2V0KCk7dmFyIGI7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLmRyYXdMYWJlbChhW2JdKX0sDQpkcmF3TGFiZWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihiLmNvbnRhaW5lciYmITEhPT1hLmVuYWJsZWQpe2E9ZC5wcm9jZXNzT2JqZWN0KGEsZC5MYWJlbCxiLnRoZW1lKTt2YXIgYz1hLnksZT1hLnRleHQsZz1hLmFsaWduLGY9YS5zaXplLGg9YS5jb2xvcixrPWEucm90YXRpb24sbD1hLmFscGhhLG09YS5ib2xkLG49ZC50b0Nvb3JkaW5hdGUoYS54LGIucmVhbFdpZHRoKSxjPWQudG9Db29yZGluYXRlKGMsYi5yZWFsSGVpZ2h0KTtufHwobj0wKTtjfHwoYz0wKTt2b2lkIDA9PT1oJiYoaD1iLmNvbG9yKTtpc05hTihmKSYmKGY9Yi5mb250U2l6ZSk7Z3x8KGc9InN0YXJ0Iik7ImxlZnQiPT1nJiYoZz0ic3RhcnQiKTsicmlnaHQiPT1nJiYoZz0iZW5kIik7ImNlbnRlciI9PWcmJihnPSJtaWRkbGUiLGs/Yz1iLnJlYWxIZWlnaHQtYytjLzI6bj1iLnJlYWxXaWR0aC8yLW4pO3ZvaWQgMD09PWwmJihsPTEpO3ZvaWQgMD09PWsmJihrPTApO2MrPWYvMjtlPWQudGV4dChiLmNvbnRhaW5lciwNCmUsaCxiLmZvbnRGYW1pbHksZixnLG0sbCk7ZS50cmFuc2xhdGUobixjKTt2b2lkIDAhPT1hLnRhYkluZGV4JiZlLnNldEF0dHIoInRhYmluZGV4IixhLnRhYkluZGV4KTtkLnNldENOKGIsZSwibGFiZWwiKTthLmlkJiZkLnNldENOKGIsZSwibGFiZWwtIithLmlkKTswIT09ayYmZS5yb3RhdGUoayk7YS51cmw/KGUuc2V0QXR0cigiY3Vyc29yIiwicG9pbnRlciIpLGUuY2xpY2soZnVuY3Rpb24oKXtkLmdldFVSTChhLnVybCxiLnVybFRhcmdldCl9KSk6ZS5ub2RlLnN0eWxlLnBvaW50ZXJFdmVudHM9Im5vbmUiO2IubGFiZWxzU2V0LnB1c2goZSk7Yi5sYWJlbHMucHVzaChlKX19LGFkZExhYmVsOmZ1bmN0aW9uKGEsYixjLGUsZCxmLGgsayxsLG0pe2E9e3g6YSx5OmIsdGV4dDpjLGFsaWduOmUsc2l6ZTpkLGNvbG9yOmYsYWxwaGE6ayxyb3RhdGlvbjpoLGJvbGQ6bCx1cmw6bSxlbmFibGVkOiEwfTt0aGlzLmNvbnRhaW5lciYmdGhpcy5kcmF3TGFiZWwoYSk7dGhpcy5hbGxMYWJlbHMucHVzaChhKX0sDQpjbGVhckxhYmVsczpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGFiZWxzLGI7Zm9yKGI9YS5sZW5ndGgtMTswPD1iO2ItLSlhW2JdLnJlbW92ZSgpO3RoaXMubGFiZWxzPVtdO3RoaXMuYWxsTGFiZWxzPVtdfSx1cGRhdGVIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRpdlJlYWxIZWlnaHQsYj10aGlzLmxlZ2VuZDtpZihiKXt2YXIgYz10aGlzLmxlZ2VuZERpdi5vZmZzZXRIZWlnaHQsYj1iLnBvc2l0aW9uO2lmKCJ0b3AiPT1ifHwiYm90dG9tIj09Yil7YS09YztpZigwPmF8fGlzTmFOKGEpKWE9MDt0aGlzLmNoYXJ0RGl2LnN0eWxlLmhlaWdodD1hKyJweCJ9fXJldHVybiBhfSx1cGRhdGVXaWR0aDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGl2UmVhbFdpZHRoLGI9dGhpcy5kaXZSZWFsSGVpZ2h0LGM9dGhpcy5sZWdlbmQ7aWYoYyl7dmFyIGU9dGhpcy5sZWdlbmREaXYsZD1lLm9mZnNldFdpZHRoO2lzTmFOKGMud2lkdGgpfHwoZD1jLndpZHRoKTtjLmllVyYmKGQ9Yy5pZVcpO3ZhciBmPQ0KZS5vZmZzZXRIZWlnaHQsZT1lLnN0eWxlLGg9dGhpcy5jaGFydERpdi5zdHlsZSxrPWMucG9zaXRpb247aWYoKCJyaWdodCI9PWt8fCJsZWZ0Ij09aykmJnZvaWQgMD09PWMuZGl2SWQpe2EtPWQ7aWYoMD5hfHxpc05hTihhKSlhPTA7aC53aWR0aD1hKyJweCI7dGhpcy5iYWxsb29uJiZ0aGlzLmJhbGxvb24uc2V0Qm91bmRzJiZ0aGlzLmJhbGxvb24uc2V0Qm91bmRzKDIsMixhLTIsdGhpcy5yZWFsSGVpZ2h0KTsibGVmdCI9PWs/KGgubGVmdD1kKyJweCIsZS5sZWZ0PSIwcHgiKTooaC5sZWZ0PSIwcHgiLGUubGVmdD1hKyJweCIpO2I+ZiYmKGUudG9wPShiLWYpLzIrInB4Iil9fXJldHVybiBhfSxnZXRUaXRsZUhlaWdodDpmdW5jdGlvbigpe3RoaXMuZHJhd1RpdGxlcyghMCk7cmV0dXJuIHRoaXMudGl0bGVIZWlnaHR9LGFkZFRpdGxlOmZ1bmN0aW9uKGEsYixjLGUsZCl7aXNOYU4oYikmJihiPXRoaXMuZm9udFNpemUrMik7YT17dGV4dDphLHNpemU6Yixjb2xvcjpjLGFscGhhOmUsDQpib2xkOmQsZW5hYmxlZDohMH07dGhpcy50aXRsZXMucHVzaChhKTtyZXR1cm4gYX0saGFuZGxlV2hlZWw6ZnVuY3Rpb24oYSl7dmFyIGI9MDthfHwoYT13aW5kb3cuZXZlbnQpO2Eud2hlZWxEZWx0YT9iPWEud2hlZWxEZWx0YS8xMjA6YS5kZXRhaWwmJihiPS1hLmRldGFpbC8zKTtiJiZ0aGlzLmhhbmRsZVdoZWVsUmVhbChiLGEuc2hpZnRLZXkpO2EucHJldmVudERlZmF1bHQmJmEucHJldmVudERlZmF1bHQoKX0saGFuZGxlV2hlZWxSZWFsOmZ1bmN0aW9uKCl7fSxoYW5kbGVEb2NUb3VjaFN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVNb3VzZU1vdmUoKTt0aGlzLnRteD10aGlzLm1vdXNlWDt0aGlzLnRteT10aGlzLm1vdXNlWTt0aGlzLnRvdWNoU3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpfSxoYW5kbGVEb2NUb3VjaEVuZDpmdW5jdGlvbigpey0uNTx0aGlzLnRteCYmdGhpcy50bXg8dGhpcy5kaXZSZWFsV2lkdGgrMSYmMDx0aGlzLnRteSYmdGhpcy50bXk8dGhpcy5kaXZSZWFsSGVpZ2h0Pw0KKHRoaXMuaGFuZGxlTW91c2VNb3ZlKCksND5NYXRoLmFicyh0aGlzLm1vdXNlWC10aGlzLnRteCkmJjQ+TWF0aC5hYnModGhpcy5tb3VzZVktdGhpcy50bXkpPyh0aGlzLnRhcHBlZD0hMCx0aGlzLnBhblJlcXVpcmVkJiZ0aGlzLnBhbkV2ZW50c0VuYWJsZWQmJnRoaXMuY2hhcnREaXYmJih0aGlzLmNoYXJ0RGl2LnN0eWxlLm1zVG91Y2hBY3Rpb249Im5vbmUiLHRoaXMuY2hhcnREaXYuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiKSk6dGhpcy5tb3VzZUlzT3Zlcnx8dGhpcy5yZXNldFRvdWNoU3R5bGUoKSk6KHRoaXMudGFwcGVkPSExLHRoaXMucmVzZXRUb3VjaFN0eWxlKCkpfSxyZXNldFRvdWNoU3R5bGU6ZnVuY3Rpb24oKXt0aGlzLnBhbkV2ZW50c0VuYWJsZWQmJnRoaXMuY2hhcnREaXYmJih0aGlzLmNoYXJ0RGl2LnN0eWxlLm1zVG91Y2hBY3Rpb249ImF1dG8iLHRoaXMuY2hhcnREaXYuc3R5bGUudG91Y2hBY3Rpb249ImF1dG8iKX0sY2hlY2tUb3VjaER1cmF0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPQ0KdGhpcyxjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2lmKGEpaWYoYS50b3VjaGVzKWIuaXNUb3VjaEV2ZW50PSEwO2Vsc2UgaWYoIWIuaXNUb3VjaEV2ZW50KXJldHVybiEwO2lmKGMtYi50b3VjaFN0YXJ0VGltZT5iLnRvdWNoQ2xpY2tEdXJhdGlvbilyZXR1cm4hMDtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5yZXNldFRvdWNoRHVyYXRpb24oKX0sMzAwKX0scmVzZXRUb3VjaER1cmF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc1RvdWNoRXZlbnQ9ITF9LGNoZWNrVG91Y2hNb3ZlZDpmdW5jdGlvbigpe2lmKDQ8TWF0aC5hYnModGhpcy5tb3VzZVgtdGhpcy50bXgpfHw0PE1hdGguYWJzKHRoaXMubW91c2VZLXRoaXMudG15KSlyZXR1cm4hMH0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2hhcnREaXY7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oIm9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJihiLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLA0KZnVuY3Rpb24oYil7YS5oYW5kbGVUb3VjaFN0YXJ0LmNhbGwoYSxiKX0sITApLGIuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2htb3ZlIixmdW5jdGlvbihiKXthLmhhbmRsZU1vdXNlTW92ZS5jYWxsKGEsYil9LCEwKSxiLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIixmdW5jdGlvbihiKXthLmhhbmRsZVRvdWNoRW5kLmNhbGwoYSxiKX0sITApLGEuZG9jZm4xPWZ1bmN0aW9uKGIpe2EuaGFuZGxlRG9jVG91Y2hTdGFydC5jYWxsKGEsYil9LGEuZG9jZm4yPWZ1bmN0aW9uKGIpe2EuaGFuZGxlRG9jVG91Y2hFbmQuY2FsbChhLGIpfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IixhLmRvY2ZuMSwhMCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLGEuZG9jZm4yLCEwKSksYi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGIpe2EubW91c2VJc092ZXI9ITA7YS5oYW5kbGVNb3VzZU1vdmUuY2FsbChhLGIpO2EuaGFuZGxlTW91c2VEb3duLmNhbGwoYSwNCmIpO2EuaGFuZGxlRG9jVG91Y2hTdGFydC5jYWxsKGEsYil9LCEwKSxiLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsZnVuY3Rpb24oYil7YS5oYW5kbGVNb3VzZU92ZXIuY2FsbChhLGIpfSwhMCksYi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsZnVuY3Rpb24oYil7YS5oYW5kbGVNb3VzZU91dC5jYWxsKGEsYil9LCEwKSxiLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLGZ1bmN0aW9uKGIpe2EuaGFuZGxlRG9jVG91Y2hFbmQuY2FsbChhLGIpfSwhMCkpOihiLmF0dGFjaEV2ZW50KCJvbm1vdXNlZG93biIsZnVuY3Rpb24oYil7YS5oYW5kbGVNb3VzZURvd24uY2FsbChhLGIpfSksYi5hdHRhY2hFdmVudCgib25tb3VzZW92ZXIiLGZ1bmN0aW9uKGIpe2EuaGFuZGxlTW91c2VPdmVyLmNhbGwoYSxiKX0pLGIuYXR0YWNoRXZlbnQoIm9ubW91c2VvdXQiLGZ1bmN0aW9uKGIpe2EuaGFuZGxlTW91c2VPdXQuY2FsbChhLGIpfSkpfSxkaXNwRFVwZDpmdW5jdGlvbigpe3RoaXMuc2tpcEV2ZW50c3x8DQoodGhpcy5kaXNwYXRjaERhdGFVcGRhdGVkJiYodGhpcy5kaXNwYXRjaERhdGFVcGRhdGVkPSExLHRoaXMuZmlyZSh7dHlwZToiZGF0YVVwZGF0ZWQiLGNoYXJ0OnRoaXN9KSksdGhpcy5jaGFydENyZWF0ZWR8fCh0aGlzLmNoYXJ0Q3JlYXRlZD0hMCx0aGlzLmZpcmUoe3R5cGU6ImluaXQiLGNoYXJ0OnRoaXN9KSksdGhpcy5jaGFydFJlbmRlcmVkfHwodGhpcy5maXJlKHt0eXBlOiJyZW5kZXJlZCIsY2hhcnQ6dGhpc30pLHRoaXMuY2hhcnRSZW5kZXJlZD0hMCksdGhpcy5maXJlKHt0eXBlOiJkcmF3biIsY2hhcnQ6dGhpc30pKTt0aGlzLnNraXBFdmVudHM9ITF9LHZhbGlkYXRlU2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5wcmVtZWFzdXJlKCk7YS5jaGVja0Rpc3BsYXkoKTthLmNzc1NjYWxlPTE7YS5jc3NBbmdsZT0wO2EuY2hlY2tUcmFuc2Zvcm0oYS5kaXYpO2lmKGEuZGl2UmVhbFdpZHRoIT1hLnByZXZpb3VzV2lkdGh8fGEuZGl2UmVhbEhlaWdodCE9YS5wcmV2aW91c0hlaWdodCl7dmFyIGI9DQphLmxlZ2VuZDtpZigwPGEucmVhbFdpZHRoJiYwPGEucmVhbEhlaWdodCl7YS5zaXplQ2hhbmdlZD0hMDtpZihiKXthLmxlZ2VuZEluaXRUTyYmY2xlYXJUaW1lb3V0KGEubGVnZW5kSW5pdFRPKTt2YXIgYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5pbnZhbGlkYXRlU2l6ZSgpfSwxMCk7YS50aW1lT3V0cy5wdXNoKGMpO2EubGVnZW5kSW5pdFRPPWN9YS5tYXJnaW5zVXBkYXRlZD0hMTtjbGVhclRpbWVvdXQoYS5pbml0VE8pO2M9c2V0VGltZW91dChmdW5jdGlvbigpe2EuaW5pdENoYXJ0KCl9LDEwKTthLnRpbWVPdXRzLnB1c2goYyk7YS5pbml0VE89Y31hLnJlbmRlckZpeCgpO2ImJmIucmVuZGVyRml4JiZiLnJlbmRlckZpeCgpO2EucG9zaXRpb25DcmVkKCk7Y2xlYXJUaW1lb3V0KGEucmVzaXplZFRPKTthLnJlc2l6ZWRUTz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5maXJlKHt0eXBlOiJyZXNpemVkIixjaGFydDphfSl9LDEwKTthLnByZXZpb3VzSGVpZ2h0PWEuZGl2UmVhbEhlaWdodDsNCmEucHJldmlvdXNXaWR0aD1hLmRpdlJlYWxXaWR0aH19LGludmFsaWRhdGVTaXplOmZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91c0hlaWdodD10aGlzLnByZXZpb3VzV2lkdGg9TmFOO3RoaXMuaW52YWxpZGF0ZVNpemVSZWFsKCl9LGludmFsaWRhdGVTaXplUmVhbDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5tYXJnaW5zVXBkYXRlZD0hMTtjbGVhclRpbWVvdXQoYS52YWxpZGF0ZVRPKTt2YXIgYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS52YWxpZGF0ZVNpemUoKX0sNSk7YS50aW1lT3V0cy5wdXNoKGIpO2EudmFsaWRhdGVUTz1ifSx2YWxpZGF0ZURhdGE6ZnVuY3Rpb24oYSl7dGhpcy5jaGFydENyZWF0ZWQmJih0aGlzLmRhdGFDaGFuZ2VkPSEwLHRoaXMubWFyZ2luc1VwZGF0ZWQ9ITEsdGhpcy5pbml0Q2hhcnQoYSkpfSx2YWxpZGF0ZU5vdzpmdW5jdGlvbihhLGIpe3RoaXMuaW5pdFRPJiZjbGVhclRpbWVvdXQodGhpcy5pbml0VE8pO2EmJih0aGlzLmRhdGFDaGFuZ2VkPSEwLHRoaXMubWFyZ2luc1VwZGF0ZWQ9DQohMSk7dGhpcy5za2lwRXZlbnRzPWI7dGhpcy5jaGFydFJlbmRlcmVkPSExO3ZhciBjPXRoaXMubGVnZW5kO2MmJmMucG9zaXRpb24hPXRoaXMucHJldkxlZ2VuZFBvc2l0aW9uJiYodGhpcy5wcmV2aW91c1dpZHRoPXRoaXMubXc9MCxjLmludmFsaWRhdGVTaXplJiYoYy5pbnZhbGlkYXRlU2l6ZSgpLHRoaXMudmFsaWRhdGVTaXplKCkpKTt0aGlzLndyaXRlKHRoaXMuZGl2KX0sc2hvd0l0ZW06ZnVuY3Rpb24oYSl7YS5oaWRkZW49ITE7dGhpcy5pbml0Q2hhcnQoKX0saGlkZUl0ZW06ZnVuY3Rpb24oYSl7YS5oaWRkZW49ITA7dGhpcy5pbml0Q2hhcnQoKX0saGlkZUJhbGxvb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2NsZWFyVGltZW91dChhLmhvdmVySW50KTtjbGVhclRpbWVvdXQoYS5iYWxsb29uVE8pO2EuaG92ZXJJbnQ9c2V0VGltZW91dChmdW5jdGlvbigpe2EuaGlkZUJhbGxvb25SZWFsLmNhbGwoYSl9LGEuaGlkZUJhbGxvb25UaW1lKX0sY2xlYW5DaGFydDpmdW5jdGlvbigpe30sDQpoaWRlQmFsbG9vblJlYWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmJhbGxvb247YSYmYS5oaWRlJiZhLmhpZGUoKX0sc2hvd0JhbGxvb246ZnVuY3Rpb24oYSxiLGMsZSxkKXt2YXIgZj10aGlzO2NsZWFyVGltZW91dChmLmJhbGxvb25UTyk7Y2xlYXJUaW1lb3V0KGYuaG92ZXJJbnQpO2YuYmFsbG9vblRPPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtmLnNob3dCYWxsb29uUmVhbC5jYWxsKGYsYSxiLGMsZSxkKX0sMSl9LHNob3dCYWxsb29uUmVhbDpmdW5jdGlvbihhLGIsYyxlLGQpe3RoaXMuaGFuZGxlTW91c2VNb3ZlKCk7dmFyIGY9dGhpcy5iYWxsb29uO2YuZW5hYmxlZCYmKGYuZm9sbG93Q3Vyc29yKCExKSxmLmNoYW5nZUNvbG9yKGIpLCFjfHxmLmZpeGVkUG9zaXRpb24/KGYuc2V0UG9zaXRpb24oZSxkKSxpc05hTihlKXx8aXNOYU4oZCk/Zi5mb2xsb3dDdXJzb3IoITApOmYuZm9sbG93Q3Vyc29yKCExKSk6Zi5mb2xsb3dDdXJzb3IoITApLGEmJmYuc2hvd0JhbGxvb24oYSkpfSwNCmhhbmRsZU1vdXNlT3ZlcjpmdW5jdGlvbigpe3RoaXMub3V0VE8mJmNsZWFyVGltZW91dCh0aGlzLm91dFRPKTtkLnJlc2V0TW91c2VPdmVyKCk7dGhpcy5tb3VzZUlzT3Zlcj0hMH0saGFuZGxlTW91c2VPdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2QucmVzZXRNb3VzZU92ZXIoKTthLm91dFRPJiZjbGVhclRpbWVvdXQoYS5vdXRUTyk7YS5vdXRUTz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5oYW5kbGVNb3VzZU91dFJlYWwoKX0sMTApfSxoYW5kbGVNb3VzZU91dFJlYWw6ZnVuY3Rpb24oKXt0aGlzLm1vdXNlSXNPdmVyPSExfSxoYW5kbGVNb3VzZU1vdmU6ZnVuY3Rpb24oYSl7YXx8KGE9d2luZG93LmV2ZW50KTt0aGlzLm1vdXNlMlk9dGhpcy5tb3VzZTJYPU5hTjt2YXIgYixjLGUsZDtpZihhKXtpZihhLnRvdWNoZXMpe3ZhciBmPWEudG91Y2hlcy5pdGVtKDEpO2YmJnRoaXMucGFuRXZlbnRzRW5hYmxlZCYmdGhpcy5ib3VuZGluZ1JlY3QmJihlPWYuY2xpZW50WC10aGlzLmJvdW5kaW5nUmVjdC5sZWZ0LA0KZD1mLmNsaWVudFktdGhpcy5ib3VuZGluZ1JlY3QudG9wKTthPWEudG91Y2hlcy5pdGVtKDApO2lmKCFhKXJldHVybn1lbHNlIHRoaXMud2FzVG91Y2hlZD0hMTt0aGlzLmJvdW5kaW5nUmVjdCYmYS5jbGllbnRYJiYoYj1hLmNsaWVudFgtdGhpcy5ib3VuZGluZ1JlY3QubGVmdCxjPWEuY2xpZW50WS10aGlzLmJvdW5kaW5nUmVjdC50b3ApO2lzTmFOKGUpP3RoaXMubW91c2VYPWI6KHRoaXMubW91c2VYPU1hdGgubWluKGIsZSksdGhpcy5tb3VzZTJYPU1hdGgubWF4KGIsZSkpO2lzTmFOKGQpP3RoaXMubW91c2VZPWM6KHRoaXMubW91c2VZPU1hdGgubWluKGMsZCksdGhpcy5tb3VzZTJZPU1hdGgubWF4KGMsZCkpO3RoaXMuYXV0b1RyYW5zZm9ybSYmKHRoaXMubW91c2VYLz10aGlzLmNzc1NjYWxlLHRoaXMubW91c2VZLz10aGlzLmNzc1NjYWxlKX19LGhhbmRsZVRvdWNoU3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy5oaWRlQmFsbG9vblJlYWwoKTthJiYoYS50b3VjaGVzJiZ0aGlzLnRhcFRvQWN0aXZhdGUmJg0KIXRoaXMudGFwcGVkfHwhdGhpcy5wYW5SZXF1aXJlZCl8fCh0aGlzLmhhbmRsZU1vdXNlTW92ZShhKSx0aGlzLmhhbmRsZU1vdXNlRG93bihhKSl9LGhhbmRsZVRvdWNoRW5kOmZ1bmN0aW9uKGEpe3RoaXMud2FzVG91Y2hlZD0hMDt0aGlzLmhhbmRsZU1vdXNlTW92ZShhKTtkLnJlc2V0TW91c2VPdmVyKCk7dGhpcy5oYW5kbGVSZWxlYXNlT3V0c2lkZShhKX0saGFuZGxlUmVsZWFzZU91dHNpZGU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZURvY1RvdWNoRW5kLmNhbGwodGhpcyl9LGhhbmRsZU1vdXNlRG93bjpmdW5jdGlvbihhKXtkLnJlc2V0TW91c2VPdmVyKCk7dGhpcy5tb3VzZUlzT3Zlcj0hMDthJiZhLnByZXZlbnREZWZhdWx0JiYodGhpcy5wYW5FdmVudHNFbmFibGVkP2EucHJldmVudERlZmF1bHQoKTphLnRvdWNoZXN8fGEucHJldmVudERlZmF1bHQoKSl9LGFkZExlZ2VuZDpmdW5jdGlvbihhLGIpe2E9ZC5wcm9jZXNzT2JqZWN0KGEsZC5BbUxlZ2VuZCx0aGlzLnRoZW1lKTthLmRpdklkPQ0KYjthLmllVz0wO3ZhciBjO2M9Im9iamVjdCIhPXR5cGVvZiBiJiZiP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGIpOmI7dGhpcy5sZWdlbmQ9YTthLmNoYXJ0PXRoaXM7Yz8oYS5kaXY9YyxhLnBvc2l0aW9uPSJvdXRzaWRlIixhLmF1dG9NYXJnaW5zPSExKTphLmRpdj10aGlzLmxlZ2VuZERpdjtyZXR1cm4gYX0scmVtb3ZlTGVnZW5kOmZ1bmN0aW9uKCl7dGhpcy5sZWdlbmQ9dm9pZCAwO3RoaXMucHJldmlvdXNXaWR0aD0wO3RoaXMubGVnZW5kRGl2LmlubmVySFRNTD0iIn0saGFuZGxlUmVzaXplOmZ1bmN0aW9uKCl7KGQuaXNQZXJjZW50cyh0aGlzLndpZHRoKXx8ZC5pc1BlcmNlbnRzKHRoaXMuaGVpZ2h0KSkmJnRoaXMuaW52YWxpZGF0ZVNpemVSZWFsKCk7dGhpcy5yZW5kZXJGaXgoKX0scmVuZGVyRml4OmZ1bmN0aW9uKCl7aWYoIWQuVk1MKXt2YXIgYT10aGlzLmNvbnRhaW5lcjthJiZhLnJlbmRlckZpeCgpfX0sZ2V0U1ZHOmZ1bmN0aW9uKCl7aWYoZC5oYXNTVkcpcmV0dXJuIHRoaXMuY29udGFpbmVyfSwNCmFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZSxnLGYsaCl7YVsiYW5fIitiXSYmZC5yZW1vdmVGcm9tQXJyYXkodGhpcy5hbmltYXRpb25zLGFbImFuXyIrYl0pO2M9e29iajphLGZyYW1lOjAsYXR0cmlidXRlOmIsZnJvbTpjLHRvOmUsdGltZTpnLGVmZmVjdDpmLHN1ZmZpeDpofTthWyJhbl8iK2JdPWM7dGhpcy5hbmltYXRpb25zLnB1c2goYyk7cmV0dXJuIGN9LHNldExlZ2VuZERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZWdlbmQ7YiYmYi5zZXREYXRhKGEpfSxzdG9wQW5pbTpmdW5jdGlvbihhKXtkLnJlbW92ZUZyb21BcnJheSh0aGlzLmFuaW1hdGlvbnMsYSl9LHVwZGF0ZUFuaW1hdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmNvbnRhaW5lciYmdGhpcy5jb250YWluZXIudXBkYXRlKCk7aWYodGhpcy5hbmltYXRpb25zKWZvcihhPXRoaXMuYW5pbWF0aW9ucy5sZW5ndGgtMTswPD1hO2EtLSl7dmFyIGI9dGhpcy5hbmltYXRpb25zW2FdLGM9ZC51cGRhdGVSYXRlKmIudGltZSwNCmU9Yi5mcmFtZSsxLGc9Yi5vYmosZj1iLmF0dHJpYnV0ZTtpZihlPD1jKXtiLmZyYW1lKys7dmFyIGg9TnVtYmVyKGIuZnJvbSksaz1OdW1iZXIoYi50byktaCxjPWRbYi5lZmZlY3RdKDAsZSxoLGssYyk7MD09PWs/KHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UoYSwxKSxnLm5vZGUuc3R5bGVbZl09TnVtYmVyKGIudG8pK2Iuc3VmZml4KTpnLm5vZGUuc3R5bGVbZl09YytiLnN1ZmZpeH1lbHNlIGcubm9kZS5zdHlsZVtmXT1OdW1iZXIoYi50bykrYi5zdWZmaXgsZy5hbmltYXRpb25GaW5pc2hlZD0hMCx0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKGEsMSl9fSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUFuaW1hdGlvbnMoKTt2YXIgYT10aGlzLmFuaW1hdGFibGU7aWYoMDxhLmxlbmd0aCl7Zm9yKHZhciBiPSEwLGM9YS5sZW5ndGgtMTswPD1jO2MtLSl7dmFyIGU9YVtjXTtlJiYoZS5hbmltYXRpb25GaW5pc2hlZD9hLnNwbGljZShjLDEpOmI9ITEpfWImJih0aGlzLmZpcmUoe3R5cGU6ImFuaW1hdGlvbkZpbmlzaGVkIiwNCmNoYXJ0OnRoaXN9KSx0aGlzLmFuaW1hdGFibGU9W10pfX0saW5JZnJhbWU6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy5zZWxmIT09d2luZG93LnRvcH1jYXRjaChhKXtyZXR1cm4hMH19LGJycjpmdW5jdGlvbigpe2lmKCF0aGlzLmhpZGVDcmVkaXRzKXt2YXIgYT0iYW1jaGFydHMuY29tIixiPXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5zcGxpdCgiLiIpLGM7Mjw9Yi5sZW5ndGgmJihjPWJbYi5sZW5ndGgtMl0rIi4iK2JbYi5sZW5ndGgtMV0pO3RoaXMuYW1MaW5rJiYoYj10aGlzLmFtTGluay5wYXJlbnROb2RlKSYmYi5yZW1vdmVDaGlsZCh0aGlzLmFtTGluayk7aWYoYyE9YXx8ITA9PT10aGlzLmluSWZyYW1lKCkpe2M9YT0iaHR0cDovL3d3dy4iK2E7dmFyIGI9IkphdmFTY3JpcHQgY2hhcnRzIixlPSJKUyBjaGFydCBieSBhbUNoYXJ0cyI7ImFtbWFwIj09dGhpcy5wcm9kdWN0JiYoYz1hKyIvamF2YXNjcmlwdC1tYXBzLyIsYj0iSW50ZXJhY3RpdmUgSmF2YVNjcmlwdCBtYXBzIiwNCmU9IkpTIG1hcCBieSBhbUNoYXJ0cyIpO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2U9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk7YS5zZXRBdHRyaWJ1dGUoImhyZWYiLGMpO2Euc2V0QXR0cmlidXRlKCJ0aXRsZSIsYik7dGhpcy51cmxUYXJnZXQmJmEuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLHRoaXMudXJsVGFyZ2V0KTthLmFwcGVuZENoaWxkKGUpO3RoaXMuY2hhcnREaXYuYXBwZW5kQ2hpbGQoYSk7dGhpcy5hbUxpbms9YTthPWEuc3R5bGU7YS5wb3NpdGlvbj0iYWJzb2x1dGUiO2EudGV4dERlY29yYXRpb249Im5vbmUiO2EuY29sb3I9dGhpcy5jb2xvcjthLmZvbnRGYW1pbHk9dGhpcy5mb250RmFtaWx5O2EuZm9udFNpemU9IjdweCI7YS5vcGFjaXR5PS43O2EuZGlzcGxheT0iYmxvY2siO3RoaXMucG9zaXRpb25DcmVkKCl9fX0scG9zaXRpb25DcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hbUxpbms7aWYoYSl7dmFyIGI9dGhpcy5jcmVkaXRzUG9zaXRpb24sDQpjPWEuc3R5bGUsZT1hLm9mZnNldFdpZHRoLGE9YS5vZmZzZXRIZWlnaHQsZD0wLGY9MCxoPXRoaXMucmVhbFdpZHRoLGs9dGhpcy5yZWFsSGVpZ2h0LGw9dGhpcy50eXBlO2lmKCJzZXJpYWwiPT1sfHwieHkiPT1sfHwiZ2FudHQiPT1sKWQ9dGhpcy5tYXJnaW5MZWZ0UmVhbCxmPXRoaXMubWFyZ2luVG9wUmVhbCxoPWQrdGhpcy5wbG90QXJlYVdpZHRoLGs9Zit0aGlzLnBsb3RBcmVhSGVpZ2h0O3ZhciBsPTUrZCxtPWYrNTsiYm90dG9tLWxlZnQiPT1iJiYobD01K2QsbT1rLWEtMyk7ImJvdHRvbS1yaWdodCI9PWImJihsPWgtZS01LG09ay1hLTMpOyJ0b3AtcmlnaHQiPT1iJiYobD1oLWUtNSxtPWYrNSk7Yy5sZWZ0PWwrInB4IjtjLnRvcD1tKyJweCJ9fX0pO2QuU2xpY2U9ZC5DbGFzcyh7Y29uc3RydWN0OmZ1bmN0aW9uKCl7fX0pO2QuU2VyaWFsRGF0YUl0ZW09ZC5DbGFzcyh7Y29uc3RydWN0OmZ1bmN0aW9uKCl7fX0pO2QuR3JhcGhEYXRhSXRlbT1kLkNsYXNzKHtjb25zdHJ1Y3Q6ZnVuY3Rpb24oKXt9fSk7DQpkLkd1aWRlPWQuQ2xhc3Moe2NvbnN0cnVjdDpmdW5jdGlvbihhKXt0aGlzLmNuYW1lPSJHdWlkZSI7ZC5hcHBseVRoZW1lKHRoaXMsYSx0aGlzLmNuYW1lKX19KTtkLlRpdGxlPWQuQ2xhc3Moe2NvbnN0cnVjdDpmdW5jdGlvbihhKXt0aGlzLmNuYW1lPSJUaXRsZSI7ZC5hcHBseVRoZW1lKHRoaXMsYSx0aGlzLmNuYW1lKX19KTtkLkxhYmVsPWQuQ2xhc3Moe2NvbnN0cnVjdDpmdW5jdGlvbihhKXt0aGlzLmNuYW1lPSJMYWJlbCI7ZC5hcHBseVRoZW1lKHRoaXMsYSx0aGlzLmNuYW1lKX19KX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGQ9d2luZG93LkFtQ2hhcnRzO2QuQW1HcmFwaD1kLkNsYXNzKHtjb25zdHJ1Y3Q6ZnVuY3Rpb24oYSl7dGhpcy5jbmFtZT0iQW1HcmFwaCI7dGhpcy5jcmVhdGVFdmVudHMoInJvbGxPdmVyR3JhcGhJdGVtIiwicm9sbE91dEdyYXBoSXRlbSIsImNsaWNrR3JhcGhJdGVtIiwiZG91YmxlQ2xpY2tHcmFwaEl0ZW0iLCJyaWdodENsaWNrR3JhcGhJdGVtIiwiY2xpY2tHcmFwaCIsInJvbGxPdmVyR3JhcGgiLCJyb2xsT3V0R3JhcGgiKTt0aGlzLnR5cGU9ImxpbmUiO3RoaXMuc3RhY2thYmxlPSEwO3RoaXMuY29sdW1uQ291bnQ9MTt0aGlzLmNvbHVtbkluZGV4PTA7dGhpcy5jZW50ZXJDdXN0b21CdWxsZXRzPXRoaXMuc2hvd0JhbGxvb249ITA7dGhpcy5tYXhCdWxsZXRTaXplPTUwO3RoaXMubWluQnVsbGV0U2l6ZT00O3RoaXMuYmFsbG9vblRleHQ9IltbdmFsdWVdXSI7dGhpcy5oaWRkZW49dGhpcy5zY3JvbGxiYXI9dGhpcy5hbmltYXRpb25QbGF5ZWQ9ITE7DQp0aGlzLnBvaW50UG9zaXRpb249Im1pZGRsZSI7dGhpcy5kZXB0aENvdW50PTE7dGhpcy5pbmNsdWRlSW5NaW5NYXg9ITA7dGhpcy5uZWdhdGl2ZUJhc2U9MDt0aGlzLnZpc2libGVJbkxlZ2VuZD0hMDt0aGlzLnNob3dBbGxWYWx1ZUxhYmVscz0hMTt0aGlzLnNob3dCdWxsZXRzQXQ9dGhpcy5zaG93QmFsbG9vbkF0PSJjbG9zZSI7dGhpcy5saW5lVGhpY2tuZXNzPTE7dGhpcy5kYXNoTGVuZ3RoPTA7dGhpcy5jb25uZWN0PSEwO3RoaXMubGluZUFscGhhPTE7dGhpcy5idWxsZXQ9Im5vbmUiO3RoaXMuYnVsbGV0Qm9yZGVyVGhpY2tuZXNzPTI7dGhpcy5idWxsZXRCb3JkZXJBbHBoYT0wO3RoaXMuYnVsbGV0QWxwaGE9MTt0aGlzLmJ1bGxldFNpemU9ODt0aGlzLmNvcm5lclJhZGl1c1RvcD10aGlzLmhpZGVCdWxsZXRzQ291bnQ9dGhpcy5idWxsZXRPZmZzZXQ9MDt0aGlzLmN1cnNvckJ1bGxldEFscGhhPTE7dGhpcy5ncmFkaWVudE9yaWVudGF0aW9uPSJ2ZXJ0aWNhbCI7dGhpcy5keT0NCnRoaXMuZHg9MDt0aGlzLnBlcmlvZFZhbHVlPSIiO3RoaXMuY2x1c3RlcmVkPSEwO3RoaXMucGVyaW9kU3Bhbj0xO3RoaXMuYWNjZXNzaWJsZUxhYmVsPSJbW3RpdGxlXV0gW1tjYXRlZ29yeV1dIFtbdmFsdWVdXSI7dGhpcy5hY2Nlc3NpYmxlU2tpcFRleHQ9IlByZXNzIGVudGVyIHRvIHNraXAgW1t0aXRsZV1dIjt0aGlzLnk9dGhpcy54PTA7dGhpcy5zd2l0Y2hhYmxlPSEwO3RoaXMubWluRGlzdGFuY2U9Ljg7dGhpcy50Y2M9MTt0aGlzLmxhYmVsUm90YXRpb249MDt0aGlzLmxhYmVsQW5jaG9yPSJhdXRvIjt0aGlzLmxhYmVsT2Zmc2V0PTM7dGhpcy5iY249ImdyYXBoLSI7dGhpcy5kYXRlRm9ybWF0PSJNTU0gREQsIFlZWVkiO3RoaXMubm9Sb3VuZGluZz0hMDtkLmFwcGx5VGhlbWUodGhpcyxhLHRoaXMuY25hbWUpfSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVCYWxsb29uKCl9LGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0O2EuaXNSb2xsZWRPdmVyQnVsbGV0PQ0KITE7dmFyIGI9YS50eXBlO2lmKGEuZHJhd0dyYXBocyl7aXNOYU4odGhpcy5wcmVjaXNpb24pfHwodGhpcy5udW1iZXJGb3JtYXR0ZXI/dGhpcy5udW1iZXJGb3JtYXR0ZXIucHJlY2lzaW9uPXRoaXMucHJlY2lzaW9uOnRoaXMubnVtYmVyRm9ybWF0dGVyPXtwcmVjaXNpb246dGhpcy5wcmVjaXNpb24sZGVjaW1hbFNlcGFyYXRvcjphLmRlY2ltYWxTZXBhcmF0b3IsdGhvdXNhbmRzU2VwYXJhdG9yOmEudGhvdXNhbmRzU2VwYXJhdG9yfSk7dmFyIGM9YS5jb250YWluZXI7dGhpcy5jb250YWluZXI9Yzt0aGlzLmRlc3Ryb3koKTt2YXIgZT1jLnNldCgpO3RoaXMuc2V0PWU7ZS50cmFuc2xhdGUodGhpcy54LHRoaXMueSk7dmFyIGc9Yy5zZXQoKTt0aGlzLmJ1bGxldFNldD1nO2cudHJhbnNsYXRlKHRoaXMueCx0aGlzLnkpO3RoaXMuYmVoaW5kQ29sdW1ucz8oYS5ncmFwaHNCZWhpbmRTZXQucHVzaChlKSxhLmJ1bGxldEJlaGluZFNldC5wdXNoKGcpKTooYS5ncmFwaHNTZXQucHVzaChlKSwNCmEuYnVsbGV0U2V0LnB1c2goZykpO3ZhciBmPXRoaXMuYnVsbGV0QXhpcztkLmlzU3RyaW5nKGYpJiYodGhpcy5idWxsZXRBeGlzPWEuZ2V0VmFsdWVBeGlzQnlJZChmKSk7Yz1jLnNldCgpO2QucmVtb3ZlKHRoaXMuY29sdW1uc1NldCk7dGhpcy5jb2x1bW5zU2V0PWM7ZC5zZXRDTihhLGUsImdyYXBoLSIrdGhpcy50eXBlKTtkLnNldENOKGEsZSwiZ3JhcGgtIit0aGlzLmlkKTtkLnNldENOKGEsZywiZ3JhcGgtIit0aGlzLnR5cGUpO2Quc2V0Q04oYSxnLCJncmFwaC0iK3RoaXMuaWQpO3RoaXMuY29sdW1uc0FycmF5PVtdO3RoaXMub3duQ29sdW1ucz1bXTt0aGlzLmFsbEJ1bGxldHM9W107dGhpcy5hbmltYXRpb25BcnJheT1bXTtnPXRoaXMubGFiZWxQb3NpdGlvbjtnfHwoZj10aGlzLnZhbHVlQXhpcy5zdGFja1R5cGUsZz0idG9wIiwiY29sdW1uIj09dGhpcy50eXBlJiYoYS5yb3RhdGUmJihnPSJyaWdodCIpLCIxMDAlIj09Znx8InJlZ3VsYXIiPT1mKSYmKGc9Im1pZGRsZSIpLA0KdGhpcy5sYWJlbFBvc2l0aW9uPWcpO2QuaWZBcnJheSh0aGlzLmRhdGEpJiYoYT0hMSwieHkiPT1iP3RoaXMueEF4aXMuYXhpc0NyZWF0ZWQmJnRoaXMueUF4aXMuYXhpc0NyZWF0ZWQmJihhPSEwKTp0aGlzLnZhbHVlQXhpcy5heGlzQ3JlYXRlZCYmKGE9ITApLCF0aGlzLmhpZGRlbiYmYSYmdGhpcy5jcmVhdGVHcmFwaCgpKTtlLnB1c2goYyl9fSxjcmVhdGVHcmFwaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNoYXJ0O2Euc3RhcnRBbHBoYT1iLnN0YXJ0QWxwaGE7YS5zZXFBbj1iLnNlcXVlbmNlZEFuaW1hdGlvbjthLmJhc2VDb29yZD1hLnZhbHVlQXhpcy5iYXNlQ29vcmQ7dm9pZCAwPT09YS5maWxsQWxwaGFzJiYoYS5maWxsQWxwaGFzPTApO2EuYnVsbGV0Q29sb3JSPWEuYnVsbGV0Q29sb3I7dm9pZCAwPT09YS5idWxsZXRDb2xvclImJihhLmJ1bGxldENvbG9yUj1hLmxpbmVDb2xvclIsYS5idWxsZXRDb2xvck5lZ2F0aXZlPWEubmVnYXRpdmVMaW5lQ29sb3IpO3ZvaWQgMD09PQ0KYS5idWxsZXRBbHBoYSYmKGEuYnVsbGV0QWxwaGE9YS5saW5lQWxwaGEpO2lmKCJzdGVwIj09Y3x8ZC5WTUwpYS5ub1JvdW5kaW5nPSExO3ZhciBjPWIudHlwZTsiZ2FudHQiPT1jJiYoYz0ic2VyaWFsIik7Y2xlYXJUaW1lb3V0KGEucGxheWVkVE8pO2lmKCFpc05hTihhLnZhbHVlQXhpcy5taW4pJiYhaXNOYU4oYS52YWx1ZUF4aXMubWF4KSl7c3dpdGNoKGMpe2Nhc2UgInNlcmlhbCI6YS5jYXRlZ29yeUF4aXMmJihhLmNyZWF0ZVNlcmlhbEdyYXBoKCksImNhbmRsZXN0aWNrIj09YS50eXBlJiYxPmEudmFsdWVBeGlzLm1pbk1heE11bHRpcGxpZXImJmEucG9zaXRpdmVDbGlwKGEuc2V0KSk7YnJlYWs7Y2FzZSAicmFkYXIiOmEuY3JlYXRlUmFkYXJHcmFwaCgpO2JyZWFrO2Nhc2UgInh5IjphLmNyZWF0ZVhZR3JhcGgoKX1hLnBsYXllZFRPPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnNldEFuaW1hdGlvblBsYXllZC5jYWxsKGEpfSw1MDAqYS5jaGFydC5zdGFydER1cmF0aW9uKX19LA0Kc2V0QW5pbWF0aW9uUGxheWVkOmZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb25QbGF5ZWQ9ITB9LGNyZWF0ZVhZR3JhcGg6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPVtdLGM9dGhpcy54QXhpcyxlPXRoaXMueUF4aXM7dGhpcy5wbWg9ZS5oZWlnaHQ7dGhpcy5wbXc9Yy53aWR0aDt0aGlzLnBteT10aGlzLnBteD0wO3ZhciBkO2ZvcihkPXRoaXMuc3RhcnQ7ZDw9dGhpcy5lbmQ7ZCsrKXt2YXIgZj10aGlzLmRhdGFbZF0uYXhlc1tjLmlkXS5ncmFwaHNbdGhpcy5pZF0saD1mLnZhbHVlcyxrPWgueCxsPWgueSxoPWMuZ2V0Q29vcmRpbmF0ZShrLHRoaXMubm9Sb3VuZGluZyksbT1lLmdldENvb3JkaW5hdGUobCx0aGlzLm5vUm91bmRpbmcpO2lmKCFpc05hTihrKSYmIWlzTmFOKGwpJiYoYS5wdXNoKGgpLGIucHVzaChtKSxmLng9aCxmLnk9bSxrPXRoaXMuY3JlYXRlQnVsbGV0KGYsaCxtLGQpLGw9dGhpcy5sYWJlbFRleHQpKXt2YXIgbD10aGlzLmNyZWF0ZUxhYmVsKGYsbCksbj0wO2smJihuPQ0Kay5zaXplKTt0aGlzLnBvc2l0aW9uTGFiZWwoZixoLG0sbCxuKX19dGhpcy5kcmF3TGluZUdyYXBoKGEsYik7dGhpcy5sYXVuY2hBbmltYXRpb24oKX0sY3JlYXRlUmFkYXJHcmFwaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudmFsdWVBeGlzLnN0YWNrVHlwZSxiPVtdLGM9W10sZT1bXSxkPVtdLGYsaCxrLGwsbTtmb3IobT10aGlzLnN0YXJ0O208PXRoaXMuZW5kO20rKyl7dmFyIG49dGhpcy5kYXRhW21dLmF4ZXNbdGhpcy52YWx1ZUF4aXMuaWRdLmdyYXBoc1t0aGlzLmlkXSxxLHA7Im5vbmUiPT1hfHwiM2QiPT1hP3E9bi52YWx1ZXMudmFsdWU6KHE9bi52YWx1ZXMuY2xvc2UscD1uLnZhbHVlcy5vcGVuKTtpZihpc05hTihxKSl0aGlzLmNvbm5lY3R8fCh0aGlzLmRyYXdMaW5lR3JhcGgoYixjLGUsZCksYj1bXSxjPVtdLGU9W10sZD1bXSk7ZWxzZXt2YXIgdD10aGlzLnZhbHVlQXhpcy5nZXRDb29yZGluYXRlKHEsdGhpcy5ub1JvdW5kaW5nKS10aGlzLmhlaWdodCx0PXQqdGhpcy52YWx1ZUF4aXMuck11bHRpcGxpZXIsDQpyPS0zNjAvKHRoaXMuZW5kLXRoaXMuc3RhcnQrMSkqbTsibWlkZGxlIj09dGhpcy52YWx1ZUF4aXMucG9pbnRQb3NpdGlvbiYmKHItPTE4MC8odGhpcy5lbmQtdGhpcy5zdGFydCsxKSk7cT10Kk1hdGguc2luKHIvMTgwKk1hdGguUEkpO3QqPU1hdGguY29zKHIvMTgwKk1hdGguUEkpO2IucHVzaChxKTtjLnB1c2godCk7aWYoIWlzTmFOKHApKXt2YXIgdz10aGlzLnZhbHVlQXhpcy5nZXRDb29yZGluYXRlKHAsdGhpcy5ub1JvdW5kaW5nKS10aGlzLmhlaWdodCx3PXcqdGhpcy52YWx1ZUF4aXMuck11bHRpcGxpZXIsej13Kk1hdGguc2luKHIvMTgwKk1hdGguUEkpLHI9dypNYXRoLmNvcyhyLzE4MCpNYXRoLlBJKTtlLnB1c2goeik7ZC5wdXNoKHIpO2lzTmFOKGspJiYoaz16KTtpc05hTihsKSYmKGw9cil9cj10aGlzLmNyZWF0ZUJ1bGxldChuLHEsdCxtKTtuLng9cTtuLnk9dDtpZih6PXRoaXMubGFiZWxUZXh0KXo9dGhpcy5jcmVhdGVMYWJlbChuLHopLHc9MCxyJiYodz1yLnNpemUpLA0KdGhpcy5wb3NpdGlvbkxhYmVsKG4scSx0LHosdyk7aXNOYU4oZikmJihmPXEpO2lzTmFOKGgpJiYoaD10KX19Yi5wdXNoKGYpO2MucHVzaChoKTtpc05hTihrKXx8KGUucHVzaChrKSxkLnB1c2gobCkpO3RoaXMuZHJhd0xpbmVHcmFwaChiLGMsZSxkKTt0aGlzLmxhdW5jaEFuaW1hdGlvbigpfSxwb3NpdGlvbkxhYmVsOmZ1bmN0aW9uKGEsYixjLGUsZCl7aWYoZSl7dmFyIGY9dGhpcy5jaGFydCxoPXRoaXMudmFsdWVBeGlzLGs9Im1pZGRsZSIsbD0hMSxtPXRoaXMubGFiZWxQb3NpdGlvbixuPWUuZ2V0QkJveCgpLHE9dGhpcy5jaGFydC5yb3RhdGUscD1hLmlzTmVnYXRpdmUsdD10aGlzLmZvbnRTaXplO3ZvaWQgMD09PXQmJih0PXRoaXMuY2hhcnQuZm9udFNpemUpO2MtPW4uaGVpZ2h0LzItdC8yLTE7dm9pZCAwIT09YS5sYWJlbElzTmVnYXRpdmUmJihwPWEubGFiZWxJc05lZ2F0aXZlKTtzd2l0Y2gobSl7Y2FzZSAicmlnaHQiOm09cT9wPyJsZWZ0IjoicmlnaHQiOiJyaWdodCI7DQpicmVhaztjYXNlICJ0b3AiOm09cT8idG9wIjpwPyJib3R0b20iOiJ0b3AiO2JyZWFrO2Nhc2UgImJvdHRvbSI6bT1xPyJib3R0b20iOnA/InRvcCI6ImJvdHRvbSI7YnJlYWs7Y2FzZSAibGVmdCI6bT1xP3A/InJpZ2h0IjoibGVmdCI6ImxlZnQifXZhciB0PWEuY29sdW1uR3JhcGhpY3Mscj0wLHc9MDt0JiYocj10Lngsdz10LnkpO3ZhciB6PXRoaXMubGFiZWxPZmZzZXQ7c3dpdGNoKG0pe2Nhc2UgInJpZ2h0IjprPSJzdGFydCI7Yis9ZC8yK3o7YnJlYWs7Y2FzZSAidG9wIjpjPWgucmV2ZXJzZWQ/YysoZC8yK24uaGVpZ2h0LzIreik6Yy0oZC8yK24uaGVpZ2h0LzIreik7YnJlYWs7Y2FzZSAiYm90dG9tIjpjPWgucmV2ZXJzZWQ/Yy0oZC8yK24uaGVpZ2h0LzIreik6YysoZC8yK24uaGVpZ2h0LzIreik7YnJlYWs7Y2FzZSAibGVmdCI6az0iZW5kIjtiLT1kLzIrejticmVhaztjYXNlICJpbnNpZGUiOiJjb2x1bW4iPT10aGlzLnR5cGUmJihsPSEwLHE/cD8oaz0iZW5kIixiPXItMy0NCnopOihrPSJzdGFydCIsYj1yKzMreik6Yz1wP3crNyt6OnctMTAteik7YnJlYWs7Y2FzZSAibWlkZGxlIjoiY29sdW1uIj09dGhpcy50eXBlJiYobD0hMCxxP2ItPShiLXIpLzIrei0zOmMtPShjLXcpLzIrei0zKX0iYXV0byIhPXRoaXMubGFiZWxBbmNob3ImJihrPXRoaXMubGFiZWxBbmNob3IpO2UuYXR0cih7InRleHQtYW5jaG9yIjprfSk7dGhpcy5sYWJlbFJvdGF0aW9uJiZlLnJvdGF0ZSh0aGlzLmxhYmVsUm90YXRpb24pO2UudHJhbnNsYXRlKGIsYyk7IXRoaXMuc2hvd0FsbFZhbHVlTGFiZWxzJiZ0JiZsJiYobj1lLmdldEJCb3goKSxuLmhlaWdodD5hLmNvbHVtbkhlaWdodHx8bi53aWR0aD5hLmNvbHVtbldpZHRoKSYmKGUucmVtb3ZlKCksZT1udWxsKTtpZihlJiYicmFkYXIiIT1mLnR5cGUpaWYocSl7aWYoMD5jfHxjPnRoaXMuaGVpZ2h0KWUucmVtb3ZlKCksZT1udWxsOyF0aGlzLnNob3dBbGxWYWx1ZUxhYmVscyYmZSYmKDA+Ynx8Yj50aGlzLndpZHRoKSYmKGUucmVtb3ZlKCksDQplPW51bGwpfWVsc2V7aWYoMD5ifHxiPnRoaXMud2lkdGgpZS5yZW1vdmUoKSxlPW51bGw7IXRoaXMuc2hvd0FsbFZhbHVlTGFiZWxzJiZlJiYoMD5jfHxjPnRoaXMuaGVpZ2h0KSYmKGUucmVtb3ZlKCksZT1udWxsKX1lJiZ0aGlzLmFsbEJ1bGxldHMucHVzaChlKTtyZXR1cm4gZX19LGdldEdyYWRSb3RhdGlvbjpmdW5jdGlvbigpe3ZhciBhPTI3MDsiaG9yaXpvbnRhbCI9PXRoaXMuZ3JhZGllbnRPcmllbnRhdGlvbiYmKGE9MCk7cmV0dXJuIHRoaXMuZ3JhZGllbnRSb3RhdGlvbj1hfSxjcmVhdGVTZXJpYWxHcmFwaDpmdW5jdGlvbigpe3RoaXMuZGFzaExlbmd0aFN3aXRjaGVkPXRoaXMuZmlsbENvbG9yc1N3aXRjaGVkPXRoaXMubGluZUNvbG9yU3dpdGNoZWQ9dm9pZCAwO3ZhciBhPXRoaXMuY2hhcnQsYj10aGlzLmlkLGM9dGhpcy5pbmRleCxlPXRoaXMuZGF0YSxnPXRoaXMuY2hhcnQuY29udGFpbmVyLGY9dGhpcy52YWx1ZUF4aXMsaD10aGlzLnR5cGUsaz10aGlzLmNvbHVtbldpZHRoUmVhbCwNCmw9dGhpcy5zaG93QnVsbGV0c0F0O2lzTmFOKHRoaXMuY29sdW1uV2lkdGgpfHwoaz10aGlzLmNvbHVtbldpZHRoKTtpc05hTihrKSYmKGs9LjgpO3ZhciBtPXRoaXMudXNlTmVnYXRpdmVDb2xvcklmRG93bixuPXRoaXMud2lkdGgscT10aGlzLmhlaWdodCxwPXRoaXMueSx0PXRoaXMucm90YXRlLHI9dGhpcy5jb2x1bW5Db3VudCx3PWQudG9Db29yZGluYXRlKHRoaXMuY29ybmVyUmFkaXVzVG9wLGsvMiksej10aGlzLmNvbm5lY3QseD1bXSx1PVtdLEEseSxCLEQsQz10aGlzLmNoYXJ0LmdyYXBocy5sZW5ndGgsSSxIPXRoaXMuZHgvdGhpcy50Y2MsUT10aGlzLmR5L3RoaXMudGNjLE09Zi5zdGFja1R5cGUsUD10aGlzLnN0YXJ0LGlhPXRoaXMuZW5kLEo9dGhpcy5zY3JvbGxiYXIsYWE9ImdyYXBoLWNvbHVtbi0iO0omJihhYT0ic2Nyb2xsYmFyLWdyYXBoLWNvbHVtbi0iKTt2YXIgbWE9dGhpcy5jYXRlZ29yeUF4aXMsbmE9dGhpcy5iYXNlQ29vcmQsUGE9dGhpcy5uZWdhdGl2ZUJhc2UsDQpaPXRoaXMuY29sdW1uSW5kZXgsZGE9dGhpcy5saW5lVGhpY2tuZXNzLFg9dGhpcy5saW5lQWxwaGEseGE9dGhpcy5saW5lQ29sb3JSLGVhPXRoaXMuZGFzaExlbmd0aCxmYT10aGlzLnNldCxCYSxnYT10aGlzLmdldEdyYWRSb3RhdGlvbigpLFY9dGhpcy5jaGFydC5jb2x1bW5TcGFjaW5nLFk9bWEuY2VsbFdpZHRoLERhPShZKmstcikvcjtWPkRhJiYoVj1EYSk7dmFyIEcsdixvYSxoYT1xLFFhPW4sY2E9MCx0Yj0wLHViPTAsdmI9MCxsYj0wLG1iPTAsd2I9dGhpcy5maWxsQ29sb3JzUixSYT10aGlzLm5lZ2F0aXZlRmlsbENvbG9ycyxKYT10aGlzLm5lZ2F0aXZlTGluZUNvbG9yLGJiPXRoaXMuZmlsbEFscGhhcyxjYj10aGlzLm5lZ2F0aXZlRmlsbEFscGhhczsib2JqZWN0Ij09dHlwZW9mIGJiJiYoYmI9YmJbMF0pOyJvYmplY3QiPT10eXBlb2YgY2ImJihjYj1jYlswXSk7dmFyIHhiPXRoaXMubm9Sb3VuZGluZzsic3RlcCI9PWgmJih4Yj0hMSk7dmFyIG5iPWYuZ2V0Q29vcmRpbmF0ZShmLm1pbik7DQpmLmxvZ2FyaXRobWljJiYobmI9Zi5nZXRDb29yZGluYXRlKGYubWluUmVhbCkpO3RoaXMubWluQ29vcmQ9bmI7dGhpcy5yZXNldEJ1bGxldCYmKHRoaXMuYnVsbGV0PSJub25lIik7aWYoIShKfHwibGluZSIhPWgmJiJzbW9vdGhlZExpbmUiIT1oJiYic3RlcCIhPWh8fCgxPT1lLmxlbmd0aCYmInN0ZXAiIT1oJiYibm9uZSI9PXRoaXMuYnVsbGV0JiYodGhpcy5idWxsZXQ9InJvdW5kIix0aGlzLnJlc2V0QnVsbGV0PSEwKSwhUmEmJnZvaWQgMD09SmF8fG0pKSl7dmFyIFVhPVBhO1VhPmYubWF4JiYoVWE9Zi5tYXgpO1VhPGYubWluJiYoVWE9Zi5taW4pO2YubG9nYXJpdGhtaWMmJihVYT1mLm1pblJlYWwpO3ZhciBLYT1mLmdldENvb3JkaW5hdGUoVWEpKy41LE1iPWYuZ2V0Q29vcmRpbmF0ZShmLm1heCk7dD8oaGE9cSxRYT1NYXRoLmFicyhNYi1LYSksdWI9cSx2Yj1NYXRoLmFicyhuYi1LYSksbWI9dGI9MCxmLnJldmVyc2VkPyhjYT0wLGxiPUthKTooY2E9S2EsbGI9MCkpOihRYT0NCm4saGE9TWF0aC5hYnMoTWItS2EpLHZiPW4sdWI9TWF0aC5hYnMobmItS2EpLGxiPWNhPTAsZi5yZXZlcnNlZD8obWI9cCx0Yj1LYSk6bWI9S2EpfXZhciBMYT1NYXRoLnJvdW5kO3RoaXMucG14PUxhKGNhKTt0aGlzLnBteT1MYSh0Yik7dGhpcy5wbWg9TGEoaGEpO3RoaXMucG13PUxhKFFhKTt0aGlzLm5teD1MYShsYik7dGhpcy5ubXk9TGEobWIpO3RoaXMubm1oPUxhKHViKTt0aGlzLm5tdz1MYSh2Yik7ZC5pc01vZGVybnx8KHRoaXMubm15PXRoaXMubm14PTAsdGhpcy5ubWg9dGhpcy5oZWlnaHQpO3RoaXMuY2x1c3RlcmVkfHwocj0xKTtrPSJjb2x1bW4iPT1oPyhZKmstViooci0xKSkvcjpZKms7MT5rJiYoaz0xKTt2YXIgTmI9dGhpcy5maXhlZENvbHVtbldpZHRoO2lzTmFOKE5iKXx8KGs9TmIpO3ZhciBMO2lmKCJsaW5lIj09aHx8InN0ZXAiPT1ofHwic21vb3RoZWRMaW5lIj09aCl7aWYoMDxQKXtmb3IoTD1QLTE7LTE8TDtMLS0paWYoRz1lW0xdLHY9Ry5heGVzW2YuaWRdLmdyYXBoc1tiXSwNCm9hPXYudmFsdWVzLnZhbHVlLCFpc05hTihvYSkpe1A9TDticmVha31pZih0aGlzLmxpbmVDb2xvckZpZWxkKWZvcihMPVA7LTE8TDtMLS0paWYoRz1lW0xdLHY9Ry5heGVzW2YuaWRdLmdyYXBoc1tiXSx2LmxpbmVDb2xvcil7dGhpcy5saW5lQ29sb3JTd2l0Y2hlZD12LmxpbmVDb2xvcjt2b2lkIDA9PT10aGlzLmJ1bGxldENvbG9yJiYodGhpcy5idWxsZXRDb2xvclN3aXRjaGVkPXRoaXMubGluZUNvbG9yU3dpdGNoZWQpO2JyZWFrfWlmKHRoaXMuZmlsbENvbG9yc0ZpZWxkKWZvcihMPVA7LTE8TDtMLS0paWYoRz1lW0xdLHY9Ry5heGVzW2YuaWRdLmdyYXBoc1tiXSx2LmZpbGxDb2xvcnMpe3RoaXMuZmlsbENvbG9yc1N3aXRjaGVkPXYuZmlsbENvbG9yczticmVha31pZih0aGlzLmRhc2hMZW5ndGhGaWVsZClmb3IoTD1QOy0xPEw7TC0tKWlmKEc9ZVtMXSx2PUcuYXhlc1tmLmlkXS5ncmFwaHNbYl0sIWlzTmFOKHYuZGFzaExlbmd0aCkpe3RoaXMuZGFzaExlbmd0aFN3aXRjaGVkPQ0Kdi5kYXNoTGVuZ3RoO2JyZWFrfX1pZihpYTxlLmxlbmd0aC0xKWZvcihMPWlhKzE7TDxlLmxlbmd0aDtMKyspaWYoRz1lW0xdLHY9Ry5heGVzW2YuaWRdLmdyYXBoc1tiXSxvYT12LnZhbHVlcy52YWx1ZSwhaXNOYU4ob2EpKXtpYT1MO2JyZWFrfX1pYTxlLmxlbmd0aC0xJiZpYSsrO3ZhciBUPVtdLFU9W10sTWE9ITE7aWYoImxpbmUiPT1ofHwic3RlcCI9PWh8fCJzbW9vdGhlZExpbmUiPT1oKWlmKHRoaXMuc3RhY2thYmxlJiYicmVndWxhciI9PU18fCIxMDAlIj09TXx8dGhpcy5maWxsVG9HcmFwaClNYT0hMDt2YXIgT2I9dGhpcy5ub1N0ZXBSaXNlcnMsZGI9LTFFMyxlYj0tMUUzLG9iPXRoaXMubWluRGlzdGFuY2UsU2E9ITAsVmE9ITE7Zm9yKEw9UDtMPD1pYTtMKyspe0c9ZVtMXTt2PUcuYXhlc1tmLmlkXS5ncmFwaHNbYl07di5pbmRleD1MO3ZhciBmYixUYT1OYU47aWYobSYmdm9pZCAwPT10aGlzLm9wZW5GaWVsZClmb3IodmFyIHliPUwrMTt5YjxlLmxlbmd0aCYmKCFlW3liXXx8DQohKGZiPWVbTCsxXS5heGVzW2YuaWRdLmdyYXBoc1tiXSl8fCFmYi52YWx1ZXN8fChUYT1mYi52YWx1ZXMudmFsdWUsaXNOYU4oVGEpKSk7eWIrKyk7dmFyIFMsUixLLGJhLGphPU5hTixFPU5hTixGPU5hTixPPU5hTixOPU5hTixxYT1OYU4scmE9TmFOLHNhPU5hTix0YT1OYU4seWE9TmFOLEVhPU5hTixrYT1OYU4sbGE9TmFOLFc9TmFOLHpiPU5hTixBYj1OYU4sdWE9TmFOLHZhPXZvaWQgMCxOYT13YixXYT1iYixIYT14YSxDYSx6YSxCYj10aGlzLnByb0NhbmRsZXN0aWNrcyxwYj10aGlzLnRvcFJhZGl1cyxGYT1xLTEscGE9bi0xLGdiPXRoaXMucGF0dGVybjt2b2lkIDAhPXYucGF0dGVybiYmKGdiPXYucGF0dGVybik7aXNOYU4odi5hbHBoYSl8fChXYT12LmFscGhhKTtpc05hTih2LmRhc2hMZW5ndGgpfHwoZWE9di5kYXNoTGVuZ3RoKTt2YXIgSWE9di52YWx1ZXM7Zi5yZWNhbGN1bGF0ZVRvUGVyY2VudHMmJihJYT12LnBlcmNlbnRzKTsibm9uZSI9PU0mJihaPWlzTmFOKHYuY29sdW1uSW5kZXgpPw0KdGhpcy5jb2x1bW5JbmRleDp2LmNvbHVtbkluZGV4KTtpZihJYSl7Vz10aGlzLnN0YWNrYWJsZSYmIm5vbmUiIT1NJiYiM2QiIT1NP0lhLmNsb3NlOklhLnZhbHVlO2lmKCJjYW5kbGVzdGljayI9PWh8fCJvaGxjIj09aClXPUlhLmNsb3NlLEFiPUlhLmxvdyxyYT1mLmdldENvb3JkaW5hdGUoQWIpLHpiPUlhLmhpZ2gsdGE9Zi5nZXRDb29yZGluYXRlKHpiKTt1YT1JYS5vcGVuO0Y9Zi5nZXRDb29yZGluYXRlKFcseGIpO2lzTmFOKHVhKXx8KE49Zi5nZXRDb29yZGluYXRlKHVhLHhiKSxtJiYicmVndWxhciIhPU0mJiIxMDAlIiE9TSYmKFRhPXVhLHVhPU49TmFOKSk7bSYmKHZvaWQgMD09dGhpcy5vcGVuRmllbGQ/ZmImJihmYi5pc05lZ2F0aXZlPVRhPFc/ITA6ITEsaXNOYU4oVGEpJiYodi5pc05lZ2F0aXZlPSFTYSkpOnYuaXNOZWdhdGl2ZT1UYT5XPyEwOiExKTtpZighSilzd2l0Y2godGhpcy5zaG93QmFsbG9vbkF0KXtjYXNlICJjbG9zZSI6di55PUY7YnJlYWs7Y2FzZSAib3BlbiI6di55PQ0KTjticmVhaztjYXNlICJoaWdoIjp2Lnk9dGE7YnJlYWs7Y2FzZSAibG93Ijp2Lnk9cmF9dmFyIGphPUcueFttYS5pZF0sWGE9dGhpcy5wZXJpb2RTcGFuLTE7InN0ZXAiIT1ofHxpc05hTihHLmNlbGxXaWR0aCl8fChZPUcuY2VsbFdpZHRoKTt2YXIgd2E9TWF0aC5mbG9vcihZLzIpK01hdGguZmxvb3IoWGEqWS8yKSxHYT13YSxxYj0wOyJsZWZ0Ij09dGhpcy5zdGVwRGlyZWN0aW9uJiYocWI9KDIqWStYYSpZKS8yLGphLT1xYik7ImNlbnRlciI9PXRoaXMuc3RlcERpcmVjdGlvbiYmKHFiPVkvMixqYS09cWIpOyJzdGFydCI9PXRoaXMucG9pbnRQb3NpdGlvbiYmKGphLT1ZLzIrTWF0aC5mbG9vcihYYSpZLzIpLHdhPTAsR2E9TWF0aC5mbG9vcihZKStNYXRoLmZsb29yKFhhKlkpKTsiZW5kIj09dGhpcy5wb2ludFBvc2l0aW9uJiYoamErPVkvMitNYXRoLmZsb29yKFhhKlkvMiksd2E9TWF0aC5mbG9vcihZKStNYXRoLmZsb29yKFhhKlkpLEdhPTApO2lmKE9iKXt2YXIgQ2I9dGhpcy5jb2x1bW5XaWR0aDsNCmlzTmFOKENiKXx8KHdhKj1DYixHYSo9Q2IpfUp8fCh2Lng9amEpOy0xRTU+amEmJihqYT0tMUU1KTtqYT5uKzFFNSYmKGphPW4rMUU1KTt0PyhFPUYsTz1OLE49Rj1qYSxpc05hTih1YSkmJiF0aGlzLmZpbGxUb0dyYXBoJiYoTz1uYSkscWE9cmEsc2E9dGEpOihPPUU9amEsaXNOYU4odWEpJiYhdGhpcy5maWxsVG9HcmFwaCYmKE49bmEpKTtpZighQmImJlc8dWF8fEJiJiZXPEJhKXYuaXNOZWdhdGl2ZT0hMCxSYSYmKE5hPVJhKSxjYiYmKFdhPWNiKSx2b2lkIDAhPUphJiYoSGE9SmEpO1ZhPSExO2lzTmFOKFcpfHwobT9XPlRhPyhTYSYmKFZhPSEwKSxTYT0hMSk6KFNhfHwoVmE9ITApLFNhPSEwKTp2LmlzTmVnYXRpdmU9VzxQYT8hMDohMSxCYT1XKTt2YXIgUGI9ITE7SiYmYS5jaGFydFNjcm9sbGJhci5pZ25vcmVDdXN0b21Db2xvcnMmJihQYj0hMCk7UGJ8fCh2b2lkIDAhPXYuY29sb3ImJihOYT12LmNvbG9yKSx2LmZpbGxDb2xvcnMmJihOYT12LmZpbGxDb2xvcnMpKTtGPWQuZml0VG9Cb3VuZHMoRiwNCi0zRTQsM0U0KTtzd2l0Y2goaCl7Y2FzZSAibGluZSI6aWYoaXNOYU4oVykpenx8KHRoaXMuZHJhd0xpbmVHcmFwaCh4LHUsVCxVKSx4PVtdLHU9W10sVD1bXSxVPVtdKTtlbHNle2lmKE1hdGguYWJzKEUtZGIpPj1vYnx8TWF0aC5hYnMoRi1lYik+PW9iKXgucHVzaChFKSx1LnB1c2goRiksZGI9RSxlYj1GO3lhPUU7RWE9RjtrYT1FO2xhPUY7IU1hfHxpc05hTihOKXx8aXNOYU4oTyl8fChULnB1c2goTyksVS5wdXNoKE4pKTtpZihWYXx8dm9pZCAwIT12LmxpbmVDb2xvciYmdi5saW5lQ29sb3IhPXRoaXMubGluZUNvbG9yU3dpdGNoZWR8fHZvaWQgMCE9di5maWxsQ29sb3JzJiZ2LmZpbGxDb2xvcnMhPXRoaXMuZmlsbENvbG9yc1N3aXRjaGVkfHwhaXNOYU4odi5kYXNoTGVuZ3RoKSl0aGlzLmRyYXdMaW5lR3JhcGgoeCx1LFQsVSkseD1bRV0sdT1bRl0sVD1bXSxVPVtdLCFNYXx8aXNOYU4oTil8fGlzTmFOKE8pfHwoVC5wdXNoKE8pLFUucHVzaChOKSksbT8oU2E/KHRoaXMubGluZUNvbG9yU3dpdGNoZWQ9DQp4YSx0aGlzLmZpbGxDb2xvcnNTd2l0Y2hlZD13Yik6KHRoaXMubGluZUNvbG9yU3dpdGNoZWQ9SmEsdGhpcy5maWxsQ29sb3JzU3dpdGNoZWQ9UmEpLHZvaWQgMD09PXRoaXMuYnVsbGV0Q29sb3ImJih0aGlzLmJ1bGxldENvbG9yU3dpdGNoZWQ9eGEpKToodGhpcy5saW5lQ29sb3JTd2l0Y2hlZD12LmxpbmVDb2xvcix0aGlzLmZpbGxDb2xvcnNTd2l0Y2hlZD12LmZpbGxDb2xvcnMsdm9pZCAwPT09dGhpcy5idWxsZXRDb2xvciYmKHRoaXMuYnVsbGV0Q29sb3JTd2l0Y2hlZD10aGlzLmxpbmVDb2xvclN3aXRjaGVkKSksdGhpcy5kYXNoTGVuZ3RoU3dpdGNoZWQ9di5kYXNoTGVuZ3RoO3YuZ2FwJiYodGhpcy5kcmF3TGluZUdyYXBoKHgsdSxULFUpLHg9W10sdT1bXSxUPVtdLFU9W10sZWI9ZGI9LTFFMyl9YnJlYWs7Y2FzZSAic21vb3RoZWRMaW5lIjppZihpc05hTihXKSl6fHwodGhpcy5kcmF3U21vb3RoZWRHcmFwaCh4LHUsVCxVKSx4PVtdLHU9W10sVD1bXSxVPVtdKTtlbHNle2lmKE1hdGguYWJzKEUtDQpkYik+PW9ifHxNYXRoLmFicyhGLWViKT49b2IpeC5wdXNoKEUpLHUucHVzaChGKSxkYj1FLGViPUY7eWE9RTtFYT1GO2thPUU7bGE9RjshTWF8fGlzTmFOKE4pfHxpc05hTihPKXx8KFQucHVzaChPKSxVLnB1c2goTikpO2lmKFZhfHx2b2lkIDAhPXYubGluZUNvbG9yJiZ2LmxpbmVDb2xvciE9dGhpcy5saW5lQ29sb3JTd2l0Y2hlZHx8dm9pZCAwIT12LmZpbGxDb2xvcnMmJnYuZmlsbENvbG9ycyE9dGhpcy5maWxsQ29sb3JzU3dpdGNoZWR8fCFpc05hTih2LmRhc2hMZW5ndGgpKXRoaXMuZHJhd1Ntb290aGVkR3JhcGgoeCx1LFQsVSkseD1bRV0sdT1bRl0sVD1bXSxVPVtdLCFNYXx8aXNOYU4oTil8fGlzTmFOKE8pfHwoVC5wdXNoKE8pLFUucHVzaChOKSksdGhpcy5saW5lQ29sb3JTd2l0Y2hlZD12LmxpbmVDb2xvcix0aGlzLmZpbGxDb2xvcnNTd2l0Y2hlZD12LmZpbGxDb2xvcnMsdGhpcy5kYXNoTGVuZ3RoU3dpdGNoZWQ9di5kYXNoTGVuZ3RoO3YuZ2FwJiYodGhpcy5kcmF3U21vb3RoZWRHcmFwaCh4LA0KdSxULFUpLHg9W10sdT1bXSxUPVtdLFU9W10pfWJyZWFrO2Nhc2UgInN0ZXAiOmlmKCFpc05hTihXKSl7dD8oaXNOYU4oQSl8fCh4LnB1c2goQSksdS5wdXNoKEYtd2EpKSx1LnB1c2goRi13YSkseC5wdXNoKEUpLHUucHVzaChGK0dhKSx4LnB1c2goRSksIU1hfHxpc05hTihOKXx8aXNOYU4oTyl8fChpc05hTihCKXx8KFQucHVzaChCKSxVLnB1c2goTi13YSkpLFQucHVzaChPKSxVLnB1c2goTi13YSksVC5wdXNoKE8pLFUucHVzaChOK0dhKSkpOihpc05hTih5KXx8KHUucHVzaCh5KSx4LnB1c2goRS13YSkpLHgucHVzaChFLXdhKSx1LnB1c2goRikseC5wdXNoKEUrR2EpLHUucHVzaChGKSwhTWF8fGlzTmFOKE4pfHxpc05hTihPKXx8KGlzTmFOKEQpfHwoVC5wdXNoKE8td2EpLFUucHVzaChEKSksVC5wdXNoKE8td2EpLFUucHVzaChOKSxULnB1c2goTytHYSksVS5wdXNoKE4pKSk7QT1FO3k9RjtCPU87RD1OO3lhPUU7RWE9RjtrYT1FO2xhPUY7aWYoVmF8fHZvaWQgMCE9di5saW5lQ29sb3J8fA0Kdm9pZCAwIT12LmZpbGxDb2xvcnN8fCFpc05hTih2LmRhc2hMZW5ndGgpKXt2YXIgRGI9eFt4Lmxlbmd0aC0yXSxkYz11W3UubGVuZ3RoLTJdO3gucG9wKCk7dS5wb3AoKTtULnBvcCgpO1UucG9wKCk7dGhpcy5kcmF3TGluZUdyYXBoKHgsdSxULFUpO3g9W0RiXTt1PVtkY107VD1bXTtVPVtdO01hJiYoVD1bRGIsRGIrd2ErR2FdLFU9W0QsRF0pO3Q/KHUucHVzaChGK0dhKSx4LnB1c2goRSkpOih4LnB1c2goRStHYSksdS5wdXNoKEYpKTt0aGlzLmxpbmVDb2xvclN3aXRjaGVkPXYubGluZUNvbG9yO3RoaXMuZmlsbENvbG9yc1N3aXRjaGVkPXYuZmlsbENvbG9yczt0aGlzLmRhc2hMZW5ndGhTd2l0Y2hlZD12LmRhc2hMZW5ndGg7bSYmKFNhPyh0aGlzLmxpbmVDb2xvclN3aXRjaGVkPXhhLHRoaXMuZmlsbENvbG9yc1N3aXRjaGVkPXdiKToodGhpcy5saW5lQ29sb3JTd2l0Y2hlZD1KYSx0aGlzLmZpbGxDb2xvcnNTd2l0Y2hlZD1SYSkpfWlmKE9ifHx2LmdhcClBPXk9TmFOLHRoaXMuZHJhd0xpbmVHcmFwaCh4LA0KdSxULFUpLHg9W10sdT1bXSxUPVtdLFU9W119ZWxzZSBpZigheil7aWYoMT49dGhpcy5wZXJpb2RTcGFufHwxPHRoaXMucGVyaW9kU3BhbiYmRS1BPndhK0dhKUE9eT1OYU47dGhpcy5kcmF3TGluZUdyYXBoKHgsdSxULFUpO3g9W107dT1bXTtUPVtdO1U9W119YnJlYWs7Y2FzZSAiY29sdW1uIjpDYT1IYTt2b2lkIDAhPXYubGluZUNvbG9yJiYoQ2E9di5saW5lQ29sb3IpO2lmKCFpc05hTihXKSl7bXx8KHYuaXNOZWdhdGl2ZT1XPFBhPyEwOiExKTt2LmlzTmVnYXRpdmUmJihSYSYmKE5hPVJhKSx2b2lkIDAhPUphJiYoQ2E9SmEpKTt2YXIgUWI9Zi5taW4sUmI9Zi5tYXgscmI9dWE7aXNOYU4ocmIpJiYocmI9UGEpO2lmKCEoVzxRYiYmcmI8UWJ8fFc+UmImJnJiPlJiKSl7dmFyIEFhO2lmKHQpeyIzZCI9PU0/KFI9Ri0oci8yLXRoaXMuZGVwdGhDb3VudCsxKSooaytWKStWLzIrUSpaLFM9TytIKlosQWE9Wik6KFI9TWF0aC5mbG9vcihGLShyLzItWikqKGsrVikrVi8yKSxTPU8sQWE9DQowKTtLPWs7eWE9RTtFYT1SK2svMjtrYT1FO2xhPVIray8yO1IrSz5xK0FhKlEmJihLPXEtUitBYSpRKTtSPEFhKlEmJihLKz1SLFI9QWEqUSk7YmE9RS1PO3ZhciBlYz1TO1M9ZC5maXRUb0JvdW5kcyhTLDAsbik7YmErPWVjLVM7YmE9ZC5maXRUb0JvdW5kcyhiYSwtUyxuLVMrSCpaKTt2LmxhYmVsSXNOZWdhdGl2ZT0wPmJhPyEwOiExOzA9PT1iYSYmMS9XPT09MS8tMCYmKHYubGFiZWxJc05lZ2F0aXZlPSEwKTtpc05hTihHLnBlcmNlbnRXaWR0aFZhbHVlKXx8KEs9dGhpcy5oZWlnaHQqRy5wZXJjZW50V2lkdGhWYWx1ZS8xMDAsUj1qYS1LLzIsRWE9UitLLzIpO0s9ZC5yb3VuZFRvKEssMik7YmE9ZC5yb3VuZFRvKGJhLDIpO1I8cSYmMDxLJiYodmE9bmV3IGQuQ3Vib2lkKGcsYmEsSyxILWEuZDN4LFEtYS5kM3ksTmEsV2EsZGEsQ2EsWCxnYSx3LHQsZWEsZ2IscGIsYWEpLHYuY29sdW1uV2lkdGg9TWF0aC5hYnMoYmEpLHYuY29sdW1uSGVpZ2h0PU1hdGguYWJzKEspKX1lbHNleyIzZCI9PQ0KTT8oUz1FLShyLzItdGhpcy5kZXB0aENvdW50KzEpKihrK1YpK1YvMitIKlosUj1OK1EqWixBYT1aKTooUz1FLShyLzItWikqKGsrVikrVi8yLFI9TixBYT0wKTtLPWs7eWE9UytrLzI7RWE9RjtrYT1TK2svMjtsYT1GO1MrSz5uK0FhKkgmJihLPW4tUytBYSpIKTtTPEFhKkgmJihLKz1TLUFhKkgsUz1BYSpIKTtiYT1GLU47di5sYWJlbElzTmVnYXRpdmU9MDxiYT8hMDohMTswPT09YmEmJjEvVyE9PTEvTWF0aC5hYnMoVykmJih2LmxhYmVsSXNOZWdhdGl2ZT0hMCk7dmFyIGZjPVI7Uj1kLmZpdFRvQm91bmRzKFIsdGhpcy5keSxxKTtiYSs9ZmMtUjtiYT1kLmZpdFRvQm91bmRzKGJhLC1SK1EqQWEscS1SKTtpc05hTihHLnBlcmNlbnRXaWR0aFZhbHVlKXx8KEs9dGhpcy53aWR0aCpHLnBlcmNlbnRXaWR0aFZhbHVlLzEwMCxTPWphLUsvMix5YT1TK0svMik7Sz1kLnJvdW5kVG8oSywyKTtiYT1kLnJvdW5kVG8oYmEsMik7UzxuK1oqSCYmMDxLJiYodGhpcy5zaG93T25BeGlzJiYoUi09DQpRLzIpLHZhPW5ldyBkLkN1Ym9pZChnLEssYmEsSC1hLmQzeCxRLWEuZDN5LE5hLFdhLGRhLENhLHRoaXMubGluZUFscGhhLGdhLHcsdCxlYSxnYixwYixhYSksdi5jb2x1bW5IZWlnaHQ9TWF0aC5hYnMoYmEpLHYuY29sdW1uV2lkdGg9TWF0aC5hYnMoSykpfX1pZih2YSl7emE9dmEuc2V0O2Quc2V0Q04oYSx2YS5zZXQsImdyYXBoLSIrdGhpcy50eXBlKTtkLnNldENOKGEsdmEuc2V0LCJncmFwaC0iK3RoaXMuaWQpO3YuY2xhc3NOYW1lJiZkLnNldENOKGEsdmEuc2V0LHYuY2xhc3NOYW1lLCEwKTt2LmNvbHVtbkdyYXBoaWNzPXphO1M9ZC5yb3VuZFRvKFMsMik7Uj1kLnJvdW5kVG8oUiwyKTt6YS50cmFuc2xhdGUoUyxSKTsodi51cmx8fHRoaXMuc2hvd0hhbmRPbkhvdmVyKSYmemEuc2V0QXR0cigiY3Vyc29yIiwicG9pbnRlciIpO2lmKCFKKXsibm9uZSI9PU0mJihJPXQ/KHRoaXMuZW5kKzEtTCkqQy1jOkMqTCtjKTsiM2QiPT1NJiYodD8oST0odGhpcy5lbmQrMS1MKSpDLWMtMUUzKg0KdGhpcy5kZXB0aENvdW50LHlhKz1IKlosa2ErPUgqWix2LnkrPUgqWik6KEk9KEMtYykqKEwrMSkrMUUzKnRoaXMuZGVwdGhDb3VudCxFYSs9USpaLGxhKz1RKlosdi55Kz1RKlopKTtpZigicmVndWxhciI9PU18fCIxMDAlIj09TSlJPXQ/MDxJYS52YWx1ZT8odGhpcy5lbmQrMS1MKSpDK2MrMUUzKnRoaXMuZGVwdGhDb3VudDoodGhpcy5lbmQrMS1MKSpDLWMrMUUzKnRoaXMuZGVwdGhDb3VudDowPElhLnZhbHVlP0MqTCtjOkMqTC1jO3RoaXMuY29sdW1uc0FycmF5LnB1c2goe2NvbHVtbjp2YSxkZXB0aDpJfSk7di54PXQ/UitLLzI6UytLLzI7dGhpcy5vd25Db2x1bW5zLnB1c2godmEpO3RoaXMuYW5pbWF0ZUNvbHVtbnModmEsTCxFLE8sRixOKTt0aGlzLmFkZExpc3RlbmVycyh6YSx2KTt2b2lkIDAhPT10aGlzLnRhYkluZGV4JiZ6YS5zZXRBdHRyKCJ0YWJpbmRleCIsdGhpcy50YWJJbmRleCl9dGhpcy5jb2x1bW5zU2V0LnB1c2goemEpfX1icmVhaztjYXNlICJjYW5kbGVzdGljayI6aWYoIWlzTmFOKHVhKSYmDQohaXNOYU4oVykpe3ZhciBZYSxoYjtDYT1IYTt2b2lkIDAhPXYubGluZUNvbG9yJiYoQ2E9di5saW5lQ29sb3IpO3lhPUU7bGE9RWE9RjtrYT1FO2lmKHQpeyJvcGVuIj09bCYmKGthPU8pOyJoaWdoIj09bCYmKGthPXNhKTsibG93Ij09bCYmKGthPXFhKTtFPWQuZml0VG9Cb3VuZHMoRSwwLHBhKTtPPWQuZml0VG9Cb3VuZHMoTywwLHBhKTtxYT1kLmZpdFRvQm91bmRzKHFhLDAscGEpO3NhPWQuZml0VG9Cb3VuZHMoc2EsMCxwYSk7aWYoMD09PUUmJjA9PT1PJiYwPT09cWEmJjA9PT1zYSljb250aW51ZTtpZihFPT1wYSYmTz09cGEmJnFhPT1wYSYmc2E9PXBhKWNvbnRpbnVlO1I9Ri1rLzI7Uz1PO0s9aztSK0s+cSYmKEs9cS1SKTswPlImJihLKz1SLFI9MCk7aWYoUjxxJiYwPEspe3ZhciBFYixGYjtXPnVhPyhFYj1bRSxzYV0sRmI9W08scWFdKTooRWI9W08sc2FdLEZiPVtFLHFhXSk7IWlzTmFOKHNhKSYmIWlzTmFOKHFhKSYmRjxxJiYwPEYmJihZYT1kLmxpbmUoZyxFYixbRixGXSwNCkNhLFgsZGEpLGhiPWQubGluZShnLEZiLFtGLEZdLENhLFgsZGEpKTtiYT1FLU87dmE9bmV3IGQuQ3Vib2lkKGcsYmEsSyxILFEsTmEsYmIsZGEsQ2EsWCxnYSx3LHQsZWEsZ2IscGIsYWEpfX1lbHNleyJvcGVuIj09bCYmKGxhPU4pOyJoaWdoIj09bCYmKGxhPXRhKTsibG93Ij09bCYmKGxhPXJhKTtGPWQuZml0VG9Cb3VuZHMoRiwwLEZhKTtOPWQuZml0VG9Cb3VuZHMoTiwwLEZhKTtyYT1kLmZpdFRvQm91bmRzKHJhLDAsRmEpO3RhPWQuZml0VG9Cb3VuZHModGEsMCxGYSk7aWYoMD09PUYmJjA9PT1OJiYwPT09cmEmJjA9PT10YSljb250aW51ZTtpZihGPT1GYSYmTj09RmEmJnJhPT1GYSYmdGE9PUZhKWNvbnRpbnVlO1M9RS1rLzI7Uj1OK2RhLzI7Sz1rO1MrSz5uJiYoSz1uLVMpOzA+UyYmKEsrPVMsUz0wKTtiYT1GLU47aWYoUzxuJiYwPEspe0JiJiZXPj11YSYmKFdhPTApO3ZhciB2YT1uZXcgZC5DdWJvaWQoZyxLLGJhLEgsUSxOYSxXYSxkYSxDYSxYLGdhLHcsdCxlYSxnYixwYiwNCmFhKSxHYixIYjtXPnVhPyhHYj1bRix0YV0sSGI9W04scmFdKTooR2I9W04sdGFdLEhiPVtGLHJhXSk7IWlzTmFOKHRhKSYmIWlzTmFOKHJhKSYmRTxuJiYwPEUmJihZYT1kLmxpbmUoZyxbRSxFXSxHYixDYSxYLGRhKSxoYj1kLmxpbmUoZyxbRSxFXSxIYixDYSxYLGRhKSxkLnNldENOKGEsWWEsdGhpcy5iY24rImxpbmUtaGlnaCIpLHYuY2xhc3NOYW1lJiZkLnNldENOKGEsWWEsdi5jbGFzc05hbWUsITApLGQuc2V0Q04oYSxoYix0aGlzLmJjbisibGluZS1sb3ciKSx2LmNsYXNzTmFtZSYmZC5zZXRDTihhLGhiLHYuY2xhc3NOYW1lLCEwKSl9fXZhJiYoemE9dmEuc2V0LHYuY29sdW1uR3JhcGhpY3M9emEsZmEucHVzaCh6YSksemEudHJhbnNsYXRlKFMsUi1kYS8yKSwodi51cmx8fHRoaXMuc2hvd0hhbmRPbkhvdmVyKSYmemEuc2V0QXR0cigiY3Vyc29yIiwicG9pbnRlciIpLFlhJiYoZmEucHVzaChZYSksZmEucHVzaChoYikpLEp8fCh2Lng9dD9SK0svMjpTK0svMix0aGlzLmFuaW1hdGVDb2x1bW5zKHZhLA0KTCxFLE8sRixOKSx0aGlzLmFkZExpc3RlbmVycyh6YSx2KSx2b2lkIDAhPT10aGlzLnRhYkluZGV4JiZ6YS5zZXRBdHRyKCJ0YWJpbmRleCIsdGhpcy50YWJJbmRleCkpKX1icmVhaztjYXNlICJvaGxjIjppZighKGlzTmFOKHVhKXx8aXNOYU4oemIpfHxpc05hTihBYil8fGlzTmFOKFcpKSl7dmFyIFNiPWcuc2V0KCk7ZmEucHVzaChTYik7Vzx1YSYmKHYuaXNOZWdhdGl2ZT0hMCx2b2lkIDAhPUphJiYoSGE9SmEpKTt2b2lkIDAhPXYubGluZUNvbG9yJiYoSGE9di5saW5lQ29sb3IpO3ZhciBaYSwkYSxhYjtpZih0KXtsYT1GO2thPUU7Im9wZW4iPT1sJiYoa2E9Tyk7ImhpZ2giPT1sJiYoa2E9c2EpOyJsb3ciPT1sJiYoa2E9cWEpO3FhPWQuZml0VG9Cb3VuZHMocWEsMCxwYSk7c2E9ZC5maXRUb0JvdW5kcyhzYSwwLHBhKTtpZigwPT09RSYmMD09PU8mJjA9PT1xYSYmMD09PXNhKWNvbnRpbnVlO2lmKEU9PXBhJiZPPT1wYSYmcWE9PXBhJiZzYT09cGEpY29udGludWU7dmFyIEliPUYtDQprLzIsSWI9ZC5maXRUb0JvdW5kcyhJYiwwLHEpLFRiPWQuZml0VG9Cb3VuZHMoRiwwLHEpLEpiPUYray8yLEpiPWQuZml0VG9Cb3VuZHMoSmIsMCxxKTswPD1PJiZPPD1wYSYmKCRhPWQubGluZShnLFtPLE9dLFtJYixUYl0sSGEsWCxkYSxlYSkpOzA8RiYmRjxxJiYoWmE9ZC5saW5lKGcsW3FhLHNhXSxbRixGXSxIYSxYLGRhLGVhKSk7MDw9RSYmRTw9cGEmJihhYj1kLmxpbmUoZyxbRSxFXSxbVGIsSmJdLEhhLFgsZGEsZWEpKX1lbHNle2xhPUY7Im9wZW4iPT1sJiYobGE9Tik7ImhpZ2giPT1sJiYobGE9dGEpOyJsb3ciPT1sJiYobGE9cmEpO3ZhciBrYT1FLHJhPWQuZml0VG9Cb3VuZHMocmEsMCxGYSksdGE9ZC5maXRUb0JvdW5kcyh0YSwwLEZhKSxLYj1FLWsvMixLYj1kLmZpdFRvQm91bmRzKEtiLDAsbiksVWI9ZC5maXRUb0JvdW5kcyhFLDAsbiksTGI9RStrLzIsTGI9ZC5maXRUb0JvdW5kcyhMYiwwLG4pOzA8PU4mJk48PUZhJiYoJGE9ZC5saW5lKGcsW0tiLFViXSxbTixOXSwNCkhhLFgsZGEsZWEpKTswPEUmJkU8biYmKFphPWQubGluZShnLFtFLEVdLFtyYSx0YV0sSGEsWCxkYSxlYSkpOzA8PUYmJkY8PUZhJiYoYWI9ZC5saW5lKGcsW1ViLExiXSxbRixGXSxIYSxYLGRhLGVhKSl9ZmEucHVzaCgkYSk7ZmEucHVzaChaYSk7ZmEucHVzaChhYik7ZC5zZXRDTihhLCRhLHRoaXMuYmNuKyJzdHJva2Utb3BlbiIpO2Quc2V0Q04oYSxhYix0aGlzLmJjbisic3Ryb2tlLWNsb3NlIik7ZC5zZXRDTihhLFphLHRoaXMuYmNuKyJzdHJva2UiKTt2LmNsYXNzTmFtZSYmZC5zZXRDTihhLFNiLHYuY2xhc3NOYW1lLCEwKTtaYSYmdGhpcy5hZGRMaXN0ZW5lcnMoWmEsdik7YWImJnRoaXMuYWRkTGlzdGVuZXJzKGFiLHYpOyRhJiZ0aGlzLmFkZExpc3RlbmVycygkYSx2KTt5YT1FO0VhPUZ9fWlmKCFKJiYhaXNOYU4oVykpe3ZhciBWYj10aGlzLmhpZGVCdWxsZXRzQ291bnQ7aWYodGhpcy5lbmQtdGhpcy5zdGFydDw9VmJ8fDA9PT1WYil7dmFyIFdiPXRoaXMuY3JlYXRlQnVsbGV0KHYsDQprYSxsYSxMKSxYYj10aGlzLmxhYmVsVGV4dDtpZihYYiYmIWlzTmFOKHlhKSYmIWlzTmFOKHlhKSl7dmFyIGdjPXRoaXMuY3JlYXRlTGFiZWwodixYYiksWWI9MDtXYiYmKFliPVdiLnNpemUpO3RoaXMucG9zaXRpb25MYWJlbCh2LHlhLEVhLGdjLFliKX1pZigicmVndWxhciI9PU18fCIxMDAlIj09TSl7dmFyIFpiPWYudG90YWxUZXh0O2lmKFpiKXt2YXIgT2E9dGhpcy5jcmVhdGVMYWJlbCh2LFpiLGYudG90YWxUZXh0Q29sb3IpO2Quc2V0Q04oYSxPYSx0aGlzLmJjbisibGFiZWwtdG90YWwiKTt0aGlzLmFsbEJ1bGxldHMucHVzaChPYSk7aWYoT2Epe3ZhciAkYj1PYS5nZXRCQm94KCksYWM9JGIud2lkdGgsYmM9JGIuaGVpZ2h0LGliLGpiLHNiPWYudG90YWxUZXh0T2Zmc2V0LGNjPWYudG90YWxzW0xdO2NjJiZjYy5yZW1vdmUoKTt2YXIga2I9MDsiY29sdW1uIiE9aCYmKGtiPXRoaXMuYnVsbGV0U2l6ZSk7dD8oamI9RWEsaWI9MD5XP0UtYWMvMi0yLWtiLXNiOkUrYWMvMiszK2tiKw0Kc2IpOihpYj15YSxqYj0wPlc/RitiYy8yK2tiK3NiOkYtYmMvMi0zLWtiLXNiKTtPYS50cmFuc2xhdGUoaWIsamIpO2YudG90YWxzW0xdPU9hO3Q/KDA+amJ8fGpiPnEpJiZPYS5yZW1vdmUoKTooMD5pYnx8aWI+bikmJk9hLnJlbW92ZSgpfX19fX19fXRoaXMubGFzdERhdGFJdGVtPXY7aWYoImxpbmUiPT1ofHwic3RlcCI9PWh8fCJzbW9vdGhlZExpbmUiPT1oKSJzbW9vdGhlZExpbmUiPT1oP3RoaXMuZHJhd1Ntb290aGVkR3JhcGgoeCx1LFQsVSk6dGhpcy5kcmF3TGluZUdyYXBoKHgsdSxULFUpLEp8fHRoaXMubGF1bmNoQW5pbWF0aW9uKCk7dGhpcy5idWxsZXRzSGlkZGVuJiZ0aGlzLmhpZGVCdWxsZXRzKCk7dGhpcy5jdXN0b21CdWxsZXRzSGlkZGVuJiZ0aGlzLmhpZGVDdXN0b21CdWxsZXRzKCl9LGFuaW1hdGVDb2x1bW5zOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxlPWMuY2hhcnQuc3RhcnREdXJhdGlvbjswPGUmJiFjLmFuaW1hdGlvblBsYXllZCYmKGMuc2VxQW4/KGEuc2V0LmhpZGUoKSwNCmMuYW5pbWF0aW9uQXJyYXkucHVzaChhKSxlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmFuaW1hdGUuY2FsbChjKX0sZS8oYy5lbmQtYy5zdGFydCsxKSooYi1jLnN0YXJ0KSoxRTMpLGMudGltZU91dHMucHVzaChlKSk6Yy5hbmltYXRlKGEpLGMuY2hhcnQuYW5pbWF0YWJsZS5wdXNoKGEpKX0sY3JlYXRlTGFiZWw6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMuY2hhcnQsZz1hLmxhYmVsQ29sb3I7Z3x8KGc9dGhpcy5jb2xvcik7Z3x8KGc9ZS5jb2xvcik7YyYmKGc9Yyk7Yz10aGlzLmZvbnRTaXplO3ZvaWQgMD09PWMmJih0aGlzLmZvbnRTaXplPWM9ZS5mb250U2l6ZSk7dmFyIGY9dGhpcy5sYWJlbEZ1bmN0aW9uO2I9ZS5mb3JtYXRTdHJpbmcoYixhKTtiPWQuY2xlYW5Gcm9tRW1wdHkoYik7ZiYmKGI9ZihhLGIpKTtpZih2b2lkIDAhPT1iJiYiIiE9PWIpcmV0dXJuIGE9ZC50ZXh0KHRoaXMuY29udGFpbmVyLGIsZyxlLmZvbnRGYW1pbHksYyksYS5ub2RlLnN0eWxlLnBvaW50ZXJFdmVudHM9DQoibm9uZSIsZC5zZXRDTihlLGEsdGhpcy5iY24rImxhYmVsIiksdGhpcy5idWxsZXRTZXQucHVzaChhKSxhfSxwb3NpdGl2ZUNsaXA6ZnVuY3Rpb24oYSl7YS5jbGlwUmVjdCh0aGlzLnBteCx0aGlzLnBteSx0aGlzLnBtdyx0aGlzLnBtaCl9LG5lZ2F0aXZlQ2xpcDpmdW5jdGlvbihhKXthLmNsaXBSZWN0KHRoaXMubm14LHRoaXMubm15LHRoaXMubm13LHRoaXMubm1oKX0sZHJhd0xpbmVHcmFwaDpmdW5jdGlvbihhLGIsYyxlKXt2YXIgZz10aGlzO2lmKDE8YS5sZW5ndGgpe3ZhciBmPWcubm9Sb3VuZGluZyxoPWcuc2V0LGs9Zy5jaGFydCxsPWcuY29udGFpbmVyLG09bC5zZXQoKSxuPWwuc2V0KCk7aC5wdXNoKG4pO2gucHVzaChtKTt2YXIgcT1nLmxpbmVBbHBoYSxwPWcubGluZVRoaWNrbmVzcyxoPWcuZmlsbEFscGhhcyx0PWcubGluZUNvbG9yUixyPWcubmVnYXRpdmVMaW5lQWxwaGE7aXNOYU4ocikmJihyPXEpO3ZhciB3PWcubGluZUNvbG9yU3dpdGNoZWQ7dyYmKHQ9dyk7dmFyIHc9DQpnLmZpbGxDb2xvcnNSLHo9Zy5maWxsQ29sb3JzU3dpdGNoZWQ7eiYmKHc9eik7dmFyIHg9Zy5kYXNoTGVuZ3RoOyh6PWcuZGFzaExlbmd0aFN3aXRjaGVkKSYmKHg9eik7dmFyIHo9Zy5uZWdhdGl2ZUxpbmVDb2xvcix1PWcubmVnYXRpdmVGaWxsQ29sb3JzLEE9Zy5uZWdhdGl2ZUZpbGxBbHBoYXMseT1nLmJhc2VDb29yZDswIT09Zy5uZWdhdGl2ZUJhc2UmJih5PWcudmFsdWVBeGlzLmdldENvb3JkaW5hdGUoZy5uZWdhdGl2ZUJhc2UsZikseT5nLmhlaWdodCYmKHk9Zy5oZWlnaHQpLDA+eSYmKHk9MCkpO3E9ZC5saW5lKGwsYSxiLHQscSxwLHgsITEsITEsZik7cS5ub2RlLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWxpbmVqb2luIiwicm91bmQiKTtkLnNldENOKGsscSxnLmJjbisic3Ryb2tlIik7bS5wdXNoKHEpO20uY2xpY2soZnVuY3Rpb24oYSl7Zy5oYW5kbGVHcmFwaEV2ZW50KGEsImNsaWNrR3JhcGgiKX0pLm1vdXNlb3ZlcihmdW5jdGlvbihhKXtnLmhhbmRsZUdyYXBoRXZlbnQoYSwNCiJyb2xsT3ZlckdyYXBoIil9KS5tb3VzZW91dChmdW5jdGlvbihhKXtnLmhhbmRsZUdyYXBoRXZlbnQoYSwicm9sbE91dEdyYXBoIil9KS50b3VjaG1vdmUoZnVuY3Rpb24oYSl7Zy5jaGFydC5oYW5kbGVNb3VzZU1vdmUoYSl9KS50b3VjaGVuZChmdW5jdGlvbihhKXtnLmNoYXJ0LmhhbmRsZVRvdWNoRW5kKGEpfSk7dm9pZCAwPT09enx8Zy51c2VOZWdhdGl2ZUNvbG9ySWZEb3dufHwocD1kLmxpbmUobCxhLGIseixyLHAseCwhMSwhMSxmKSxwLm5vZGUuc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWpvaW4iLCJyb3VuZCIpLGQuc2V0Q04oayxwLGcuYmNuKyJzdHJva2UiKSxkLnNldENOKGsscCxnLmJjbisic3Ryb2tlLW5lZ2F0aXZlIiksbi5wdXNoKHApKTtpZigwPGh8fDA8QSlpZihwPWEuam9pbigiOyIpLnNwbGl0KCI7Iikscj1iLmpvaW4oIjsiKS5zcGxpdCgiOyIpLHE9ay50eXBlLCJzZXJpYWwiPT1xfHwicmFkYXIiPT1xPzA8Yy5sZW5ndGg/KGMucmV2ZXJzZSgpLGUucmV2ZXJzZSgpLA0KcD1hLmNvbmNhdChjKSxyPWIuY29uY2F0KGUpKToicmFkYXIiPT1xPyhyLnB1c2goMCkscC5wdXNoKDApKTpnLnJvdGF0ZT8oci5wdXNoKHJbci5sZW5ndGgtMV0pLHAucHVzaCh5KSxyLnB1c2goclswXSkscC5wdXNoKHkpLHIucHVzaChyWzBdKSxwLnB1c2gocFswXSkpOihwLnB1c2gocFtwLmxlbmd0aC0xXSksci5wdXNoKHkpLHAucHVzaChwWzBdKSxyLnB1c2goeSkscC5wdXNoKGFbMF0pLHIucHVzaChyWzBdKSk6Inh5Ij09cSYmKGI9Zy5maWxsVG9BeGlzKSYmKGQuaXNTdHJpbmcoYikmJihiPWsuZ2V0VmFsdWVBeGlzQnlJZChiKSksIkgiPT1iLm9yaWVudGF0aW9uPyh5PSJ0b3AiPT1iLnBvc2l0aW9uPzA6Yi5oZWlnaHQscC5wdXNoKHBbcC5sZW5ndGgtMV0pLHIucHVzaCh5KSxwLnB1c2gocFswXSksci5wdXNoKHkpLHAucHVzaChhWzBdKSxyLnB1c2goclswXSkpOih5PSJsZWZ0Ij09Yi5wb3NpdGlvbj8wOmIud2lkdGgsci5wdXNoKHJbci5sZW5ndGgtMV0pLHAucHVzaCh5KSwNCnIucHVzaChyWzBdKSxwLnB1c2goeSksci5wdXNoKHJbMF0pLHAucHVzaChwWzBdKSkpLGE9Zy5ncmFkaWVudFJvdGF0aW9uLDA8aCYmKGI9ZC5wb2x5Z29uKGwscCxyLHcsaCwxLCIjMDAwIiwwLGEsZiksYi5wYXR0ZXJuKGcucGF0dGVybixOYU4say5wYXRoKSxkLnNldENOKGssYixnLmJjbisiZmlsbCIpLG0ucHVzaChiKSxiLnRvQmFjaygpKSx1fHx2b2lkIDAhPT16KWlzTmFOKEEpJiYoQT1oKSx1fHwodT16KSxmPWQucG9seWdvbihsLHAscix1LEEsMSwiIzAwMCIsMCxhLGYpLGQuc2V0Q04oayxmLGcuYmNuKyJmaWxsIiksZC5zZXRDTihrLGYsZy5iY24rImZpbGwtbmVnYXRpdmUiKSxmLnBhdHRlcm4oZy5wYXR0ZXJuLE5hTixrLnBhdGgpLG4ucHVzaChmKSxmLnRvQmFjaygpLG4uY2xpY2soZnVuY3Rpb24oYSl7Zy5oYW5kbGVHcmFwaEV2ZW50KGEsImNsaWNrR3JhcGgiKX0pLm1vdXNlb3ZlcihmdW5jdGlvbihhKXtnLmhhbmRsZUdyYXBoRXZlbnQoYSwicm9sbE92ZXJHcmFwaCIpfSkubW91c2VvdXQoZnVuY3Rpb24oYSl7Zy5oYW5kbGVHcmFwaEV2ZW50KGEsDQoicm9sbE91dEdyYXBoIil9KS50b3VjaG1vdmUoZnVuY3Rpb24oYSl7Zy5jaGFydC5oYW5kbGVNb3VzZU1vdmUoYSl9KS50b3VjaGVuZChmdW5jdGlvbihhKXtnLmNoYXJ0LmhhbmRsZVRvdWNoRW5kKGEpfSk7Zy5hcHBseU1hc2sobixtKX19LGFwcGx5TWFzazpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoKCk7InNlcmlhbCIhPXRoaXMuY2hhcnQudHlwZXx8dGhpcy5zY3JvbGxiYXJ8fCh0aGlzLnBvc2l0aXZlQ2xpcChiKSwwPGMmJnRoaXMubmVnYXRpdmVDbGlwKGEpKX0sZHJhd1Ntb290aGVkR3JhcGg6ZnVuY3Rpb24oYSxiLGMsZSl7aWYoMTxhLmxlbmd0aCl7dmFyIGc9dGhpcy5zZXQsZj10aGlzLmNoYXJ0LGg9dGhpcy5jb250YWluZXIsaz1oLnNldCgpLGw9aC5zZXQoKTtnLnB1c2gobCk7Zy5wdXNoKGspO3ZhciBtPXRoaXMubGluZUFscGhhLG49dGhpcy5saW5lVGhpY2tuZXNzLGc9dGhpcy5kYXNoTGVuZ3RoLHE9dGhpcy5maWxsQWxwaGFzLHA9dGhpcy5saW5lQ29sb3JSLA0KdD10aGlzLmZpbGxDb2xvcnNSLHI9dGhpcy5uZWdhdGl2ZUxpbmVDb2xvcix3PXRoaXMubmVnYXRpdmVGaWxsQ29sb3JzLHo9dGhpcy5uZWdhdGl2ZUZpbGxBbHBoYXMseD10aGlzLmJhc2VDb29yZCx1PXRoaXMubGluZUNvbG9yU3dpdGNoZWQ7dSYmKHA9dSk7KHU9dGhpcy5maWxsQ29sb3JzU3dpdGNoZWQpJiYodD11KTt2YXIgQT10aGlzLm5lZ2F0aXZlTGluZUFscGhhO2lzTmFOKEEpJiYoQT1tKTt1PXRoaXMuZ2V0R3JhZFJvdGF0aW9uKCk7bT1uZXcgZC5CZXppZXIoaCxhLGIscCxtLG4sdCwwLGcsdm9pZCAwLHUpO2Quc2V0Q04oZixtLHRoaXMuYmNuKyJzdHJva2UiKTtrLnB1c2gobS5wYXRoKTt2b2lkIDAhPT1yJiYobj1uZXcgZC5CZXppZXIoaCxhLGIscixBLG4sdCwwLGcsdm9pZCAwLHUpLGQuc2V0Q04oZixuLHRoaXMuYmNuKyJzdHJva2UiKSxkLnNldENOKGYsbix0aGlzLmJjbisic3Ryb2tlLW5lZ2F0aXZlIiksbC5wdXNoKG4ucGF0aCkpOzA8cSYmKG49YS5qb2luKCI7Iikuc3BsaXQoIjsiKSwNCm09Yi5qb2luKCI7Iikuc3BsaXQoIjsiKSxwPSIiLDA8Yy5sZW5ndGg/KGMucHVzaCgiTSIpLGUucHVzaCgiTSIpLGMucmV2ZXJzZSgpLGUucmV2ZXJzZSgpLG49YS5jb25jYXQoYyksbT1iLmNvbmNhdChlKSk6KHRoaXMucm90YXRlPyhwKz0iIEwiK3grIiwiK2JbYi5sZW5ndGgtMV0scCs9IiBMIit4KyIsIitiWzBdKToocCs9IiBMIithW2EubGVuZ3RoLTFdKyIsIit4LHArPSIgTCIrYVswXSsiLCIreCkscCs9IiBMIithWzBdKyIsIitiWzBdKSxhPW5ldyBkLkJlemllcihoLG4sbSxOYU4sMCwwLHQscSxnLHAsdSksZC5zZXRDTihmLGEsdGhpcy5iY24rImZpbGwiKSxhLnBhdGgucGF0dGVybih0aGlzLnBhdHRlcm4sTmFOLGYucGF0aCksay5wdXNoKGEucGF0aCksd3x8dm9pZCAwIT09cikmJih6fHwoej1xKSx3fHwodz1yKSxoPW5ldyBkLkJlemllcihoLG4sbSxOYU4sMCwwLHcseixnLHAsdSksaC5wYXRoLnBhdHRlcm4odGhpcy5wYXR0ZXJuLE5hTixmLnBhdGgpLGQuc2V0Q04oZiwNCmgsdGhpcy5iY24rImZpbGwiKSxkLnNldENOKGYsaCx0aGlzLmJjbisiZmlsbC1uZWdhdGl2ZSIpLGwucHVzaChoLnBhdGgpKTt0aGlzLmFwcGx5TWFzayhsLGspfX0sbGF1bmNoQW5pbWF0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2hhcnQuc3RhcnREdXJhdGlvbjtpZigwPGImJiFhLmFuaW1hdGlvblBsYXllZCl7dmFyIGM9YS5zZXQsZT1hLmJ1bGxldFNldDtkLlZNTHx8KGMuYXR0cih7b3BhY2l0eTphLnN0YXJ0QWxwaGF9KSxlLmF0dHIoe29wYWNpdHk6YS5zdGFydEFscGhhfSkpO2MuaGlkZSgpO2UuaGlkZSgpO2Euc2VxQW4/KGI9c2V0VGltZW91dChmdW5jdGlvbigpe2EuYW5pbWF0ZUdyYXBocy5jYWxsKGEpfSxhLmluZGV4KmIqMUUzKSxhLnRpbWVPdXRzLnB1c2goYikpOmEuYW5pbWF0ZUdyYXBocygpfX0sYW5pbWF0ZUdyYXBoczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQsYj10aGlzLnNldCxjPXRoaXMuYnVsbGV0U2V0LGU9dGhpcy54LGQ9dGhpcy55Ow0KYi5zaG93KCk7Yy5zaG93KCk7dmFyIGY9YS5zdGFydER1cmF0aW9uLGg9YS5zdGFydEVmZmVjdDtiJiYodGhpcy5yb3RhdGU/KGIudHJhbnNsYXRlKC0xRTMsZCksYy50cmFuc2xhdGUoLTFFMyxkKSk6KGIudHJhbnNsYXRlKGUsLTFFMyksYy50cmFuc2xhdGUoZSwtMUUzKSksYi5hbmltYXRlKHtvcGFjaXR5OjEsdHJhbnNsYXRlOmUrIiwiK2R9LGYsaCksYy5hbmltYXRlKHtvcGFjaXR5OjEsdHJhbnNsYXRlOmUrIiwiK2R9LGYsaCksYS5hbmltYXRhYmxlLnB1c2goYikpfSxhbmltYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQsYz10aGlzLmFuaW1hdGlvbkFycmF5OyFhJiYwPGMubGVuZ3RoJiYoYT1jWzBdLGMuc2hpZnQoKSk7Yz1kW2QuZ2V0RWZmZWN0KGIuc3RhcnRFZmZlY3QpXTtiPWIuc3RhcnREdXJhdGlvbjthJiYodGhpcy5yb3RhdGU/YS5hbmltYXRlV2lkdGgoYixjKTphLmFuaW1hdGVIZWlnaHQoYixjKSxhLnNldC5zaG93KCkpfSxsZWdlbmRLZXlDb2xvcjpmdW5jdGlvbigpe3ZhciBhPQ0KdGhpcy5sZWdlbmRDb2xvcixiPXRoaXMubGluZUFscGhhO3ZvaWQgMD09PWEmJihhPXRoaXMubGluZUNvbG9yUiwwPT09YiYmKGI9dGhpcy5maWxsQ29sb3JzUikmJihhPSJvYmplY3QiPT10eXBlb2YgYj9iWzBdOmIpKTtyZXR1cm4gYX0sbGVnZW5kS2V5QWxwaGE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxlZ2VuZEFscGhhO3ZvaWQgMD09PWEmJihhPXRoaXMubGluZUFscGhhLHRoaXMuZmlsbEFscGhhcz5hJiYoYT10aGlzLmZpbGxBbHBoYXMpLDA9PT1hJiYoYT10aGlzLmJ1bGxldEFscGhhKSwwPT09YSYmKGE9MSkpO3JldHVybiBhfSxjcmVhdGVCdWxsZXQ6ZnVuY3Rpb24oYSxiLGMpe2lmKCFpc05hTihiKSYmIWlzTmFOKGMpJiYoIm5vbmUiIT10aGlzLmJ1bGxldHx8dGhpcy5jdXN0b21CdWxsZXR8fGEuYnVsbGV0fHxhLmN1c3RvbUJ1bGxldCkpe3ZhciBlPXRoaXMuY2hhcnQsZz10aGlzLmNvbnRhaW5lcixmPXRoaXMuYnVsbGV0T2Zmc2V0LGg9dGhpcy5idWxsZXRTaXplO2lzTmFOKGEuYnVsbGV0U2l6ZSl8fA0KKGg9YS5idWxsZXRTaXplKTt2YXIgaz1hLnZhbHVlcy52YWx1ZSxsPXRoaXMubWF4VmFsdWUsbT10aGlzLm1pblZhbHVlLG49dGhpcy5tYXhCdWxsZXRTaXplLHE9dGhpcy5taW5CdWxsZXRTaXplO2lzTmFOKGwpfHwoaXNOYU4oayl8fChoPShrLW0pLyhsLW0pKihuLXEpK3EpLG09PWwmJihoPW4pKTtsPWg7dGhpcy5idWxsZXRBeGlzJiYoaD1hLnZhbHVlcy5lcnJvcixpc05hTihoKXx8KGs9aCksaD10aGlzLmJ1bGxldEF4aXMuc3RlcFdpZHRoKmspO2g8dGhpcy5taW5CdWxsZXRTaXplJiYoaD10aGlzLm1pbkJ1bGxldFNpemUpO3RoaXMucm90YXRlP2I9YS5pc05lZ2F0aXZlP2ItZjpiK2Y6Yz1hLmlzTmVnYXRpdmU/YytmOmMtZjtxPXRoaXMuYnVsbGV0Q29sb3JSO2EubGluZUNvbG9yJiZ2b2lkIDA9PT10aGlzLmJ1bGxldENvbG9yJiYodGhpcy5idWxsZXRDb2xvclN3aXRjaGVkPWEubGluZUNvbG9yKTt0aGlzLmJ1bGxldENvbG9yU3dpdGNoZWQmJihxPXRoaXMuYnVsbGV0Q29sb3JTd2l0Y2hlZCk7DQphLmlzTmVnYXRpdmUmJnZvaWQgMCE9PXRoaXMuYnVsbGV0Q29sb3JOZWdhdGl2ZSYmKHE9dGhpcy5idWxsZXRDb2xvck5lZ2F0aXZlKTt2b2lkIDAhPT1hLmNvbG9yJiYocT1hLmNvbG9yKTt2YXIgcDsieHkiPT1lLnR5cGUmJnRoaXMudmFsdWVGaWVsZCYmKHA9dGhpcy5wYXR0ZXJuLGEucGF0dGVybiYmKHA9YS5wYXR0ZXJuKSk7Zj10aGlzLmJ1bGxldDthLmJ1bGxldCYmKGY9YS5idWxsZXQpO3ZhciBrPXRoaXMuYnVsbGV0Qm9yZGVyVGhpY2tuZXNzLG09dGhpcy5idWxsZXRCb3JkZXJDb2xvclIsbj10aGlzLmJ1bGxldEJvcmRlckFscGhhLHQ9dGhpcy5idWxsZXRBbHBoYTttfHwobT1xKTt0aGlzLnVzZUxpbmVDb2xvckZvckJ1bGxldEJvcmRlciYmKG09dGhpcy5saW5lQ29sb3JSLGEuaXNOZWdhdGl2ZSYmdGhpcy5uZWdhdGl2ZUxpbmVDb2xvciYmKG09dGhpcy5uZWdhdGl2ZUxpbmVDb2xvciksdGhpcy5saW5lQ29sb3JTd2l0Y2hlZCYmKG09dGhpcy5saW5lQ29sb3JTd2l0Y2hlZCkpOw0KdmFyIHI9YS5hbHBoYTtpc05hTihyKXx8KHQ9cik7cD1kLmJ1bGxldChnLGYsaCxxLHQsayxtLG4sbCwwLHAsZS5wYXRoKTtsPXRoaXMuY3VzdG9tQnVsbGV0O2EuY3VzdG9tQnVsbGV0JiYobD1hLmN1c3RvbUJ1bGxldCk7bCYmKHAmJnAucmVtb3ZlKCksImZ1bmN0aW9uIj09dHlwZW9mIGw/KGw9bmV3IGwsbC5jaGFydD1lLGEuYnVsbGV0Q29uZmlnJiYobC5hdmFpbGFibGVTcGFjZT1jLGwuZ3JhcGg9dGhpcyxsLmdyYXBoRGF0YUl0ZW09YSxsLmJ1bGxldFk9YyxhLmJ1bGxldENvbmZpZy5taW5Db29yZD10aGlzLm1pbkNvb3JkLWMsbC5idWxsZXRDb25maWc9YS5idWxsZXRDb25maWcpLGwud3JpdGUoZykscCYmbC5zaG93QnVsbGV0JiZsLnNldC5wdXNoKHApLGEuY3VzdG9tQnVsbGV0R3JhcGhpY3M9bC5jc2V0LHA9bC5zZXQpOihwPWcuc2V0KCksbD1nLmltYWdlKGwsMCwwLGgsaCkscC5wdXNoKGwpLHRoaXMuY2VudGVyQ3VzdG9tQnVsbGV0cyYmbC50cmFuc2xhdGUoLWgvMiwtaC8NCjIpKSk7aWYocCl7KGEudXJsfHx0aGlzLnNob3dIYW5kT25Ib3ZlcikmJnAuc2V0QXR0cigiY3Vyc29yIiwicG9pbnRlciIpO2lmKCJzZXJpYWwiPT1lLnR5cGV8fCJnYW50dCI9PWUudHlwZSlpZigtLjU+Ynx8Yj50aGlzLndpZHRofHxjPC1oLzJ8fGM+dGhpcy5oZWlnaHQpcC5yZW1vdmUoKSxwPW51bGw7cCYmKHRoaXMuYnVsbGV0U2V0LnB1c2gocCkscC50cmFuc2xhdGUoYixjKSx0aGlzLmFkZExpc3RlbmVycyhwLGEpLHRoaXMuYWxsQnVsbGV0cy5wdXNoKHApKTthLmJ4PWI7YS5ieT1jO2Quc2V0Q04oZSxwLHRoaXMuYmNuKyJidWxsZXQiKTthLmNsYXNzTmFtZSYmZC5zZXRDTihlLHAsYS5jbGFzc05hbWUsITApfWlmKHApe3Auc2l6ZT1ofHwwO2lmKGU9dGhpcy5idWxsZXRIaXRBcmVhU2l6ZSlnPWQuY2lyY2xlKGcsZSwiI0ZGRkZGRiIsLjAwMSwwKSxnLnRyYW5zbGF0ZShiLGMpLGEuaGl0QnVsbGV0PWcsdGhpcy5idWxsZXRTZXQucHVzaChnKSx0aGlzLmFkZExpc3RlbmVycyhnLA0KYSk7YS5idWxsZXRHcmFwaGljcz1wO3ZvaWQgMCE9PXRoaXMudGFiSW5kZXgmJnAuc2V0QXR0cigidGFiaW5kZXgiLHRoaXMudGFiSW5kZXgpfWVsc2UgcD17c2l6ZTowfTtwLmdyYXBoRGF0YUl0ZW09YTtyZXR1cm4gcH19LHNob3dCdWxsZXRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hbGxCdWxsZXRzLGI7dGhpcy5idWxsZXRzSGlkZGVuPSExO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5zaG93KCl9LGhpZGVCdWxsZXRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hbGxCdWxsZXRzLGI7dGhpcy5idWxsZXRzSGlkZGVuPSEwO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5oaWRlKCl9LHNob3dDdXN0b21CdWxsZXRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hbGxCdWxsZXRzLGI7dGhpcy5jdXN0b21CdWxsZXRzSGlkZGVuPSExO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl0uZ3JhcGhEYXRhSXRlbTtjJiZjLmN1c3RvbUJ1bGxldEdyYXBoaWNzJiZjLmN1c3RvbUJ1bGxldEdyYXBoaWNzLnNob3coKX19LA0KaGlkZUN1c3RvbUJ1bGxldHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmFsbEJ1bGxldHMsYjt0aGlzLmN1c3RvbUJ1bGxldHNIaWRkZW49ITA7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXS5ncmFwaERhdGFJdGVtO2MmJmMuY3VzdG9tQnVsbGV0R3JhcGhpY3MmJmMuY3VzdG9tQnVsbGV0R3JhcGhpY3MuaGlkZSgpfX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczthLm1vdXNlb3ZlcihmdW5jdGlvbihhKXtjLmhhbmRsZVJvbGxPdmVyKGIsYSl9KS5tb3VzZW91dChmdW5jdGlvbihhKXtjLmhhbmRsZVJvbGxPdXQoYixhKX0pLnRvdWNoZW5kKGZ1bmN0aW9uKGEpe2MuaGFuZGxlUm9sbE92ZXIoYixhKTtjLmNoYXJ0LnBhbkV2ZW50c0VuYWJsZWQmJmMuaGFuZGxlQ2xpY2soYixhKX0pLnRvdWNoc3RhcnQoZnVuY3Rpb24oYSl7Yy5oYW5kbGVSb2xsT3ZlcihiLGEpfSkuY2xpY2soZnVuY3Rpb24oYSl7Yy5oYW5kbGVDbGljayhiLGEpfSkuZGJsY2xpY2soZnVuY3Rpb24oYSl7Yy5oYW5kbGVEb3VibGVDbGljayhiLA0KYSl9KS5jb250ZXh0bWVudShmdW5jdGlvbihhKXtjLmhhbmRsZVJpZ2h0Q2xpY2soYixhKX0pO3ZhciBlPWMuY2hhcnQ7aWYoZS5hY2Nlc3NpYmxlJiZjLmFjY2Vzc2libGVMYWJlbCl7dmFyIGQ9ZS5mb3JtYXRTdHJpbmcoYy5hY2Nlc3NpYmxlTGFiZWwsYik7ZS5tYWtlQWNjZXNzaWJsZShhLGQpfX0saGFuZGxlUm9sbE92ZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLmhhbmRsZUdyYXBoRXZlbnQoYiwicm9sbE92ZXJHcmFwaCIpO2lmKGEpe3ZhciBjPXRoaXMuY2hhcnQ7YS5idWxsZXRDb25maWcmJihjLmlzUm9sbGVkT3ZlckJ1bGxldD0hMCk7dmFyIGU9e3R5cGU6InJvbGxPdmVyR3JhcGhJdGVtIixpdGVtOmEsaW5kZXg6YS5pbmRleCxncmFwaDp0aGlzLHRhcmdldDp0aGlzLGNoYXJ0OnRoaXMuY2hhcnQsZXZlbnQ6Yn07dGhpcy5maXJlKGUpO2MuZmlyZShlKTtjbGVhclRpbWVvdXQoYy5ob3ZlckludCk7KGM9Yy5jaGFydEN1cnNvcikmJmMudmFsdWVCYWxsb29uc0VuYWJsZWR8fHRoaXMuc2hvd0dyYXBoQmFsbG9vbihhLA0KIlYiLCEwKX19LGhhbmRsZVJvbGxPdXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNoYXJ0O2lmKGEpe3ZhciBlPXt0eXBlOiJyb2xsT3V0R3JhcGhJdGVtIixpdGVtOmEsaW5kZXg6YS5pbmRleCxncmFwaDp0aGlzLHRhcmdldDp0aGlzLGNoYXJ0OnRoaXMuY2hhcnQsZXZlbnQ6Yn07dGhpcy5maXJlKGUpO2MuZmlyZShlKTtjLmlzUm9sbGVkT3ZlckJ1bGxldD0hMX10aGlzLmhhbmRsZUdyYXBoRXZlbnQoYiwicm9sbE91dEdyYXBoIik7KGM9Yy5jaGFydEN1cnNvcikmJmMudmFsdWVCYWxsb29uc0VuYWJsZWR8fHRoaXMuaGlkZUJhbGxvb24oKX0saGFuZGxlQ2xpY2s6ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5jaGFydC5jaGVja1RvdWNoTW92ZWQoKSYmdGhpcy5jaGFydC5jaGVja1RvdWNoRHVyYXRpb24oYikpe2lmKGEpe3ZhciBjPXt0eXBlOiJjbGlja0dyYXBoSXRlbSIsaXRlbTphLGluZGV4OmEuaW5kZXgsZ3JhcGg6dGhpcyx0YXJnZXQ6dGhpcyxjaGFydDp0aGlzLmNoYXJ0LA0KZXZlbnQ6Yn07dGhpcy5maXJlKGMpO3RoaXMuY2hhcnQuZmlyZShjKTtkLmdldFVSTChhLnVybCx0aGlzLnVybFRhcmdldCl9dGhpcy5oYW5kbGVHcmFwaEV2ZW50KGIsImNsaWNrR3JhcGgiKX19LGhhbmRsZUdyYXBoRXZlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZTpiLGdyYXBoOnRoaXMsdGFyZ2V0OnRoaXMsY2hhcnQ6dGhpcy5jaGFydCxldmVudDphfTt0aGlzLmZpcmUoYyk7dGhpcy5jaGFydC5maXJlKGMpfSxoYW5kbGVSaWdodENsaWNrOmZ1bmN0aW9uKGEsYil7aWYoYSl7dmFyIGM9e3R5cGU6InJpZ2h0Q2xpY2tHcmFwaEl0ZW0iLGl0ZW06YSxpbmRleDphLmluZGV4LGdyYXBoOnRoaXMsdGFyZ2V0OnRoaXMsY2hhcnQ6dGhpcy5jaGFydCxldmVudDpifTt0aGlzLmZpcmUoYyk7dGhpcy5jaGFydC5maXJlKGMpfX0saGFuZGxlRG91YmxlQ2xpY2s6ZnVuY3Rpb24oYSxiKXtpZihhKXt2YXIgYz17dHlwZToiZG91YmxlQ2xpY2tHcmFwaEl0ZW0iLGl0ZW06YSxpbmRleDphLmluZGV4LA0KZ3JhcGg6dGhpcyx0YXJnZXQ6dGhpcyxjaGFydDp0aGlzLmNoYXJ0LGV2ZW50OmJ9O3RoaXMuZmlyZShjKTt0aGlzLmNoYXJ0LmZpcmUoYyl9fSx6b29tOmZ1bmN0aW9uKGEsYil7dGhpcy5zdGFydD1hO3RoaXMuZW5kPWI7dGhpcy5kcmF3KCl9LGNoYW5nZU9wYWNpdHk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zZXQ7YiYmYi5zZXRBdHRyKCJvcGFjaXR5IixhKTtpZihiPXRoaXMub3duQ29sdW1ucyl7dmFyIGM7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9YltjXS5zZXQ7ZSYmZS5zZXRBdHRyKCJvcGFjaXR5IixhKX19KGI9dGhpcy5idWxsZXRTZXQpJiZiLnNldEF0dHIoIm9wYWNpdHkiLGEpfSxkZXN0cm95OmZ1bmN0aW9uKCl7ZC5yZW1vdmUodGhpcy5zZXQpO2QucmVtb3ZlKHRoaXMuYnVsbGV0U2V0KTt2YXIgYT10aGlzLnRpbWVPdXRzO2lmKGEpe3ZhciBiO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspY2xlYXJUaW1lb3V0KGFbYl0pfXRoaXMudGltZU91dHM9W119LGNyZWF0ZUJhbGxvb246ZnVuY3Rpb24oKXt2YXIgYT0NCnRoaXMuY2hhcnQ7dGhpcy5iYWxsb29uP3RoaXMuYmFsbG9vbi5kZXN0cm95JiZ0aGlzLmJhbGxvb24uZGVzdHJveSgpOnRoaXMuYmFsbG9vbj17fTt2YXIgYj10aGlzLmJhbGxvb247ZC5leHRlbmQoYixhLmJhbGxvb24sITApO2IuY2hhcnQ9YTtiLm1haW5TZXQ9YS5wbG90QmFsbG9vbnNTZXQ7Yi5jbGFzc05hbWU9dGhpcy5pZH0saGlkZUJhbGxvb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jaGFydDtiLmNoYXJ0Q3Vyc29yP2IuY2hhcnRDdXJzb3IudmFsdWVCYWxsb29uc0VuYWJsZWR8fGIuaGlkZUJhbGxvb24oKTpiLmhpZGVCYWxsb29uKCk7Y2xlYXJUaW1lb3V0KGEuaG92ZXJJbnQpO2EuaG92ZXJJbnQ9c2V0VGltZW91dChmdW5jdGlvbigpe2EuaGlkZUJhbGxvb25SZWFsLmNhbGwoYSl9LGIuaGlkZUJhbGxvb25UaW1lKX0saGlkZUJhbGxvb25SZWFsOmZ1bmN0aW9uKCl7dGhpcy5iYWxsb29uJiZ0aGlzLmJhbGxvb24uaGlkZSgpO3RoaXMuZml4QnVsbGV0U2l6ZSgpfSwNCmZpeEJ1bGxldFNpemU6ZnVuY3Rpb24oKXtpZihkLmlzTW9kZXJuKXt2YXIgYT10aGlzLnJlc2l6ZWRESXRlbTtpZihhKXt2YXIgYj1hLmJ1bGxldEdyYXBoaWNzO2lmKGImJiFiLmRvTm90U2NhbGUpe2IudHJhbnNsYXRlKGEuYngsYS5ieSwxKTt2YXIgYz10aGlzLmJ1bGxldEFscGhhO2lzTmFOKGEuYWxwaGEpfHwoYz1hLmFscGhhKTtiLnNldEF0dHIoImZpbGwtb3BhY2l0eSIsYyk7Yi5zZXRBdHRyKCJzdHJva2Utb3BhY2l0eSIsdGhpcy5idWxsZXRCb3JkZXJBbHBoYSl9fXRoaXMucmVzaXplZERJdGVtPW51bGx9fSxzaG93R3JhcGhCYWxsb29uOmZ1bmN0aW9uKGEsYixjLGUsZyl7aWYoYSl7dmFyIGY9dGhpcy5jaGFydCxoPXRoaXMuYmFsbG9vbixrPTAsbD0wLG09Zi5jaGFydEN1cnNvcixuPSEwO20/bS52YWx1ZUJhbGxvb25zRW5hYmxlZHx8KGg9Zi5iYWxsb29uLGs9dGhpcy54LGw9dGhpcy55LG49ITEpOihoPWYuYmFsbG9vbixrPXRoaXMueCxsPXRoaXMueSxuPSExKTtjbGVhclRpbWVvdXQodGhpcy5ob3ZlckludCk7DQppZihmLmNoYXJ0Q3Vyc29yJiYodGhpcy5jdXJyZW50RGF0YUl0ZW09YSwic2VyaWFsIj09Zi50eXBlJiZmLmlzUm9sbGVkT3ZlckJ1bGxldCYmZi5jaGFydEN1cnNvci52YWx1ZUJhbGxvb25zRW5hYmxlZCkpe3RoaXMuaGlkZUJhbGxvb25SZWFsKCk7cmV0dXJufXRoaXMucmVzaXplQnVsbGV0KGEsZSxnKTtpZihoJiZoLmVuYWJsZWQmJnRoaXMuc2hvd0JhbGxvb24mJiF0aGlzLmhpZGRlbil7dmFyIG09Zi5mb3JtYXRTdHJpbmcodGhpcy5iYWxsb29uVGV4dCxhLCEwKSxxPXRoaXMuYmFsbG9vbkZ1bmN0aW9uO3EmJihtPXEoYSxhLmdyYXBoKSk7bSYmKG09ZC5jbGVhbkZyb21FbXB0eShtKSk7bSYmIiIhPT1tPyhlPWYuZ2V0QmFsbG9vbkNvbG9yKHRoaXMsYSksaC5kcm9wfHwoaC5wb2ludGVyT3JpZW50YXRpb249YiksYj1hLngsZz1hLnksZi5yb3RhdGUmJihiPWEueSxnPWEueCksYis9ayxnKz1sLGlzTmFOKGIpfHxpc05hTihnKT90aGlzLmhpZGVCYWxsb29uUmVhbCgpOihhPXRoaXMud2lkdGgsDQpxPXRoaXMuaGVpZ2h0LG4mJmguc2V0Qm91bmRzKGssbCxhK2sscStsKSxoLmNoYW5nZUNvbG9yKGUpLGguc2V0UG9zaXRpb24oYixnKSxoLmZpeFByZXZpb3VzKCksaC5maXhlZFBvc2l0aW9uJiYoYz0hMSksIWMmJiJyYWRhciIhPWYudHlwZSYmKGI8ay0uNXx8Yj5hK2t8fGc8bC0uNXx8Zz5xK2wpPyhoLnNob3dCYWxsb29uKG0pLGguaGlkZSgwKSk6KGguZm9sbG93Q3Vyc29yKGMpLGguc2hvd0JhbGxvb24obSkpKSk6KHRoaXMuaGlkZUJhbGxvb25SZWFsKCksaC5oaWRlKCksdGhpcy5yZXNpemVCdWxsZXQoYSxlLGcpKX1lbHNlIHRoaXMuaGlkZUJhbGxvb25SZWFsKCl9fSxyZXNpemVCdWxsZXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZml4QnVsbGV0U2l6ZSgpO2lmKGEmJmQuaXNNb2Rlcm4mJigxIT1ifHwhaXNOYU4oYykpKXt2YXIgZT1hLmJ1bGxldEdyYXBoaWNzO2UmJiFlLmRvTm90U2NhbGUmJihlLnRyYW5zbGF0ZShhLmJ4LGEuYnksYiksaXNOYU4oYyl8fChlLnNldEF0dHIoImZpbGwtb3BhY2l0eSIsDQpjKSxlLnNldEF0dHIoInN0cm9rZS1vcGFjaXR5IixjKSksdGhpcy5yZXNpemVkREl0ZW09YSl9fX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5DaGFydEN1cnNvcj1kLkNsYXNzKHtjb25zdHJ1Y3Q6ZnVuY3Rpb24oYSl7dGhpcy5jbmFtZT0iQ2hhcnRDdXJzb3IiO3RoaXMuY3JlYXRlRXZlbnRzKCJjaGFuZ2VkIiwiem9vbWVkIiwib25IaWRlQ3Vyc29yIiwib25TaG93Q3Vyc29yIiwiZHJhdyIsInNlbGVjdGVkIiwibW92ZWQiLCJwYW5uaW5nIiwiem9vbVN0YXJ0ZWQiKTt0aGlzLmVuYWJsZWQ9ITA7dGhpcy5jdXJzb3JBbHBoYT0xO3RoaXMuc2VsZWN0aW9uQWxwaGE9LjI7dGhpcy5jdXJzb3JDb2xvcj0iI0NDMDAwMCI7dGhpcy5jYXRlZ29yeUJhbGxvb25BbHBoYT0xO3RoaXMuY29sb3I9IiNGRkZGRkYiO3RoaXMudHlwZT0iY3Vyc29yIjt0aGlzLnpvb21lZD0hMTt0aGlzLnpvb21hYmxlPSEwO3RoaXMucGFuPSExO3RoaXMuY2F0ZWdvcnlCYWxsb29uRGF0ZUZvcm1hdD0iTU1NIERELCBZWVlZIjt0aGlzLmNhdGVnb3J5QmFsbG9vblRleHQ9IltbY2F0ZWdvcnldXSI7DQp0aGlzLmNhdGVnb3J5QmFsbG9vbkVuYWJsZWQ9dGhpcy52YWx1ZUJhbGxvb25zRW5hYmxlZD0hMDt0aGlzLnJvbGxlZE92ZXI9ITE7dGhpcy5jdXJzb3JQb3NpdGlvbj0ibWlkZGxlIjt0aGlzLmJ1bGxldHNFbmFibGVkPXRoaXMuc2tpcFpvb21EaXNwYXRjaD0hMTt0aGlzLmJ1bGxldFNpemU9ODt0aGlzLnNlbGVjdFdpdGhvdXRab29taW5nPXRoaXMub25lQmFsbG9vbk9ubHk9ITE7dGhpcy5ncmFwaEJ1bGxldFNpemU9MS43O3RoaXMuYW5pbWF0aW9uRHVyYXRpb249LjM7dGhpcy56b29taW5nPSExO3RoaXMuYWRqdXN0bWVudD0wO3RoaXMuYXZvaWRCYWxsb29uT3ZlcmxhcHBpbmc9ITA7dGhpcy5sZWF2ZUN1cnNvcj0hMTt0aGlzLmxlYXZlQWZ0ZXJUb3VjaD0hMDt0aGlzLnZhbHVlWm9vbWFibGU9ITE7dGhpcy5iYWxsb29uUG9pbnRlck9yaWVudGF0aW9uPSJob3Jpem9udGFsIjt0aGlzLmhMaW5lRW5hYmxlZD10aGlzLnZMaW5lRW5hYmxlZD0hMDt0aGlzLnZab29tRW5hYmxlZD0NCnRoaXMuaFpvb21FbmFibGVkPSExO2QuYXBwbHlUaGVtZSh0aGlzLGEsdGhpcy5jbmFtZSl9LGRyYXc6ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3koKTt2YXIgYT10aGlzLmNoYXJ0O2EucGFuUmVxdWlyZWQ9ITA7dmFyIGI9YS5jb250YWluZXI7dGhpcy5yb3RhdGU9YS5yb3RhdGU7dGhpcy5jb250YWluZXI9Yjt0aGlzLnByZXZMaW5lSGVpZ2h0PXRoaXMucHJldkxpbmVXaWR0aD1OYU47Yj1iLnNldCgpO2IudHJhbnNsYXRlKHRoaXMueCx0aGlzLnkpO3RoaXMuc2V0PWI7YS5jdXJzb3JTZXQucHVzaChiKTt0aGlzLmNyZWF0ZUVsZW1lbnRzKCk7ZC5pc1N0cmluZyh0aGlzLmxpbWl0VG9HcmFwaCkmJih0aGlzLmxpbWl0VG9HcmFwaD1kLmdldE9iakJ5SWQoYS5ncmFwaHMsdGhpcy5saW1pdFRvR3JhcGgpLHRoaXMuZnVsbFdpZHRoPSExLHRoaXMuY3Vyc29yUG9zaXRpb249Im1pZGRsZSIpO3RoaXMucG9pbnRlcj10aGlzLmJhbGxvb25Qb2ludGVyT3JpZW50YXRpb24uc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKTsNCnRoaXMuaXNIaWRkZW49ITE7dGhpcy5oaWRlTGluZXMoKTt0aGlzLnZhbHVlTGluZUF4aXN8fCh0aGlzLnZhbHVlTGluZUF4aXM9YS52YWx1ZUF4ZXNbMF0pfSxjcmVhdGVFbGVtZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNoYXJ0LGM9Yi5keCxlPWIuZHksZz1hLndpZHRoLGY9YS5oZWlnaHQsaCxrLGw9YS5jdXJzb3JBbHBoYSxtPWEudmFsdWVMaW5lQWxwaGE7YS5yb3RhdGU/KGg9bSxrPWwpOihrPW0saD1sKTsieHkiPT1iLnR5cGUmJihrPWwsdm9pZCAwIT09bSYmKGs9bSksaD1sKTthLnZ2TGluZT1kLmxpbmUoYS5jb250YWluZXIsW2MsMCwwXSxbZSwwLGZdLGEuY3Vyc29yQ29sb3IsaCwxKTtkLnNldENOKGIsYS52dkxpbmUsImN1cnNvci1saW5lIik7ZC5zZXRDTihiLGEudnZMaW5lLCJjdXJzb3ItbGluZS12ZXJ0aWNhbCIpO2EuaGhMaW5lPWQubGluZShhLmNvbnRhaW5lcixbMCxnLGcrY10sWzAsMCxlXSxhLmN1cnNvckNvbG9yLGssMSk7ZC5zZXRDTihiLGEuaGhMaW5lLA0KImN1cnNvci1saW5lIik7ZC5zZXRDTihiLGEuaGhMaW5lLCJjdXJzb3ItbGluZS1ob3Jpem9udGFsIik7YS52TGluZT1hLnJvdGF0ZT9hLnZ2TGluZTphLmhoTGluZTthLnNldC5wdXNoKGEudnZMaW5lKTthLnNldC5wdXNoKGEuaGhMaW5lKTthLnNldC5ub2RlLnN0eWxlLnBvaW50ZXJFdmVudHM9Im5vbmUiO2EuZnVsbExpbmVzPWEuY29udGFpbmVyLnNldCgpO2I9Yi5jdXJzb3JMaW5lU2V0O2IucHVzaChhLmZ1bGxMaW5lcyk7Yi50cmFuc2xhdGUoYS54LGEueSk7Yi5jbGlwUmVjdCgtMSwtMSxnKzIsZisyKTt2b2lkIDAhPT1hLnRhYkluZGV4JiYoYi5zZXRBdHRyKCJ0YWJpbmRleCIsYS50YWJJbmRleCksYi5rZXl1cChmdW5jdGlvbihiKXthLmhhbmRsZUtleXMoYil9KS5mb2N1cyhmdW5jdGlvbihiKXthLnNob3dDdXJzb3IoKX0pLmJsdXIoZnVuY3Rpb24oYil7YS5oaWRlQ3Vyc29yKCl9KSk7YS5zZXQuY2xpcFJlY3QoMCwwLGcsZil9LGhhbmRsZUtleXM6ZnVuY3Rpb24oYSl7dmFyIGI9DQp0aGlzLnByZXZJbmRleCxjPXRoaXMuY2hhcnQ7aWYoYyl7dmFyIGU9Yy5jaGFydERhdGE7ZSYmKGlzTmFOKGIpJiYoYj1lLmxlbmd0aC0xKSwzNyE9YS5rZXlDb2RlJiY0MCE9YS5rZXlDb2RlfHxiLS0sMzkhPWEua2V5Q29kZSYmMzghPWEua2V5Q29kZXx8YisrLGI9ZC5maXRUb0JvdW5kcyhiLGMuc3RhcnRJbmRleCxjLmVuZEluZGV4KSwoYT10aGlzLmNoYXJ0LmNoYXJ0RGF0YVtiXSkmJnRoaXMuc2V0UG9zaXRpb24oYS54LmNhdGVnb3J5QXhpcyksdGhpcy5wcmV2SW5kZXg9Yil9fSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0O2lmKGEpe3ZhciBiPWEubW91c2VYLXRoaXMueCxjPWEubW91c2VZLXRoaXMueTt0aGlzLm1vdXNlWD1iO3RoaXMubW91c2VZPWM7dGhpcy5tb3VzZTJYPWEubW91c2UyWC10aGlzLng7dGhpcy5tb3VzZTJZPWEubW91c2UyWS10aGlzLnk7dmFyIGU7aWYoYS5jaGFydERhdGEmJjA8YS5jaGFydERhdGEubGVuZ3RoKXt0aGlzLm1vdXNlSXNPdmVyKCk/DQoodGhpcy5oaWRlR3JhcGhCYWxsb29ucz0hMSx0aGlzLnJvbGxlZE92ZXI9ZT0hMCx0aGlzLnVwZGF0ZURyYXdpbmcoKSx0aGlzLnZ2TGluZSYmaXNOYU4odGhpcy5meCkmJihhLnJvdGF0ZXx8IXRoaXMubGltaXRUb0dyYXBoKSYmdGhpcy52dkxpbmUudHJhbnNsYXRlKGIsMCksIXRoaXMuaGhMaW5lfHwhaXNOYU4odGhpcy5meSl8fGEucm90YXRlJiZ0aGlzLmxpbWl0VG9HcmFwaHx8dGhpcy5oaExpbmUudHJhbnNsYXRlKDAsYyksaXNOYU4odGhpcy5tb3VzZTJYKT90aGlzLmRpc3BhdGNoTW92ZWRFdmVudChiLGMpOmU9ITEpOnRoaXMuZm9yY2VTaG93fHx0aGlzLmhpZGVDdXJzb3IoKTtpZih0aGlzLnpvb21pbmcpe2lmKCFpc05hTih0aGlzLm1vdXNlMlgpKXtpc05hTih0aGlzLm1vdXNlMlgwKXx8dGhpcy5kaXNwYXRjaFBhbkV2ZW50KCk7cmV0dXJufWlmKHRoaXMucGFuKXt0aGlzLmRpc3BhdGNoUGFuRXZlbnQoKTtyZXR1cm59KHRoaXMuaFpvb21FbmFibGVkfHx0aGlzLnZab29tRW5hYmxlZCkmJg0KdGhpcy56b29taW5nJiZ0aGlzLnVwZGF0ZVNlbGVjdGlvbigpfWUmJnRoaXMuc2hvd0N1cnNvcigpfX19LHVwZGF0ZURyYXdpbmc6ZnVuY3Rpb24oKXt0aGlzLmRyYXdpbmcmJnRoaXMuY2hhcnQuc2V0TW91c2VDdXJzb3IoImNyb3NzaGFpciIpO2lmKHRoaXMuZHJhd2luZ05vdyYmKGQucmVtb3ZlKHRoaXMuZHJhd2luZ0xpbmUpLDE8TWF0aC5hYnModGhpcy5kcmF3U3RhcnRYLXRoaXMubW91c2VYKXx8MTxNYXRoLmFicyh0aGlzLmRyYXdTdGFydFktdGhpcy5tb3VzZVkpKSl7dmFyIGE9dGhpcy5jaGFydCxiPWEubWFyZ2luVG9wLGE9YS5tYXJnaW5MZWZ0O3RoaXMuZHJhd2luZ0xpbmU9ZC5saW5lKHRoaXMuY29udGFpbmVyLFt0aGlzLmRyYXdTdGFydFgrYSx0aGlzLm1vdXNlWCthXSxbdGhpcy5kcmF3U3RhcnRZK2IsdGhpcy5tb3VzZVkrYl0sdGhpcy5jdXJzb3JDb2xvciwxLDEpfX0sZml4V2lkdGg6ZnVuY3Rpb24oYSl7aWYodGhpcy5mdWxsV2lkdGgmJnRoaXMucHJldkxpbmVXaWR0aCE9DQphKXt2YXIgYj10aGlzLnZ2TGluZSxjPTA7YiYmKGIucmVtb3ZlKCksYz1iLngpO2I9dGhpcy5jb250YWluZXIuc2V0KCk7Yi50cmFuc2xhdGUoYywwKTtjPWQucmVjdCh0aGlzLmNvbnRhaW5lcixhLHRoaXMuaGVpZ2h0LHRoaXMuY3Vyc29yQ29sb3IsdGhpcy5jdXJzb3JBbHBoYSx0aGlzLmN1cnNvckFscGhhLHRoaXMuY3Vyc29yQ29sb3IpO2Quc2V0Q04odGhpcy5jaGFydCxjLCJjdXJzb3ItZmlsbCIpO2MudHJhbnNsYXRlKC1hLzItMSwwKTtiLnB1c2goYyk7dGhpcy52dkxpbmU9Yjt0aGlzLmZ1bGxMaW5lcy5wdXNoKGIpO3RoaXMucHJldkxpbmVXaWR0aD1hfX0sZml4SGVpZ2h0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuZnVsbFdpZHRoJiZ0aGlzLnByZXZMaW5lSGVpZ2h0IT1hKXt2YXIgYj10aGlzLmhoTGluZSxjPTA7YiYmKGIucmVtb3ZlKCksYz1iLnkpO2I9dGhpcy5jb250YWluZXIuc2V0KCk7Yi50cmFuc2xhdGUoMCxjKTtjPWQucmVjdCh0aGlzLmNvbnRhaW5lcix0aGlzLndpZHRoLA0KYSx0aGlzLmN1cnNvckNvbG9yLHRoaXMuY3Vyc29yQWxwaGEpO2MudHJhbnNsYXRlKDAsLWEvMik7Yi5wdXNoKGMpO3RoaXMuZnVsbExpbmVzLnB1c2goYik7dGhpcy5oaExpbmU9Yjt0aGlzLnByZXZMaW5lSGVpZ2h0PWF9fSxmaXhWTGluZTpmdW5jdGlvbihhLGIpe2lmKCFpc05hTihhKSYmdGhpcy52dkxpbmUpe2lmKGlzTmFOKHRoaXMucHJldkxpbmVYKSl7dmFyIGM9MCxlPXRoaXMubW91c2VYO2lmKHRoaXMubGltaXRUb0dyYXBoKXt2YXIgZD10aGlzLmNoYXJ0LmNhdGVnb3J5QXhpcztkJiYodGhpcy5jaGFydC5yb3RhdGV8fChjPSJib3R0b20iPT1kLnBvc2l0aW9uP3RoaXMuaGVpZ2h0Oi10aGlzLmhlaWdodCksZT1hKX10aGlzLnZ2TGluZS50cmFuc2xhdGUoZSxjKX1lbHNlIHRoaXMucHJldkxpbmVYIT1hJiZ0aGlzLnZ2TGluZS50cmFuc2xhdGUodGhpcy5wcmV2TGluZVgsdGhpcy5wcmV2TGluZVkpO3RoaXMuZng9YTt0aGlzLnByZXZMaW5lWCE9YSYmKGM9dGhpcy5hbmltYXRpb25EdXJhdGlvbiwNCnRoaXMuem9vbWluZyYmKGM9MCksdGhpcy52dkxpbmUuc3RvcCgpLHRoaXMudnZMaW5lLmFuaW1hdGUoe3RyYW5zbGF0ZTphKyIsIitifSxjLCJlYXNlT3V0U2luZSIpLHRoaXMucHJldkxpbmVYPWEsdGhpcy5wcmV2TGluZVk9Yil9fSxmaXhITGluZTpmdW5jdGlvbihhLGIpe2lmKCFpc05hTihhKSYmdGhpcy5oaExpbmUpe2lmKGlzTmFOKHRoaXMucHJldkxpbmVZKSl7dmFyIGM9MCxlPXRoaXMubW91c2VZO2lmKHRoaXMubGltaXRUb0dyYXBoKXt2YXIgZD10aGlzLmNoYXJ0LmNhdGVnb3J5QXhpcztkJiYodGhpcy5jaGFydC5yb3RhdGUmJihjPSJyaWdodCI9PWQucG9zaXRpb24/dGhpcy53aWR0aDotdGhpcy53aWR0aCksZT1hKX10aGlzLmhoTGluZS50cmFuc2xhdGUoYyxlKX1lbHNlIHRoaXMucHJldkxpbmVZIT1hJiZ0aGlzLmhoTGluZS50cmFuc2xhdGUodGhpcy5wcmV2TGluZVgsdGhpcy5wcmV2TGluZVkpO3RoaXMuZnk9YTt0aGlzLnByZXZMaW5lWSE9YSYmKGM9dGhpcy5hbmltYXRpb25EdXJhdGlvbiwNCnRoaXMuem9vbWluZyYmKGM9MCksdGhpcy5oaExpbmUuc3RvcCgpLHRoaXMuaGhMaW5lLmFuaW1hdGUoe3RyYW5zbGF0ZTpiKyIsIithfSxjLCJlYXNlT3V0U2luZSIpLHRoaXMucHJldkxpbmVZPWEsdGhpcy5wcmV2TGluZVg9Yil9fSxoaWRlQ3Vyc29yOmZ1bmN0aW9uKGEpe3RoaXMuZm9yY2VTaG93PSExO3RoaXMuY2hhcnQud2FzVG91Y2hlZCYmdGhpcy5sZWF2ZUFmdGVyVG91Y2h8fHRoaXMuaXNIaWRkZW58fHRoaXMubGVhdmVDdXJzb3J8fCh0aGlzLmhpZGVDdXJzb3JSZWFsKCksYT90aGlzLmNoYXJ0LmhhbmRsZUN1cnNvckhpZGUoKTp0aGlzLmZpcmUoe3RhcmdldDp0aGlzLGNoYXJ0OnRoaXMuY2hhcnQsdHlwZToib25IaWRlQ3Vyc29yIn0pLHRoaXMuY2hhcnQuc2V0TW91c2VDdXJzb3IoImF1dG8iKSl9LGhpZGVDdXJzb3JSZWFsOmZ1bmN0aW9uKCl7dGhpcy5oaWRlTGluZXMoKTt0aGlzLmlzSGlkZGVuPSEwO3RoaXMuaW5kZXg9dGhpcy5wcmV2TGluZVk9dGhpcy5wcmV2TGluZVg9DQp0aGlzLm1vdXNlWTA9dGhpcy5tb3VzZVgwPXRoaXMuZnk9dGhpcy5meD1OYU59LGhpZGVMaW5lczpmdW5jdGlvbigpe3RoaXMudnZMaW5lJiZ0aGlzLnZ2TGluZS5oaWRlKCk7dGhpcy5oaExpbmUmJnRoaXMuaGhMaW5lLmhpZGUoKTt0aGlzLmZ1bGxMaW5lcyYmdGhpcy5mdWxsTGluZXMuaGlkZSgpO3RoaXMuaXNIaWRkZW49ITA7dGhpcy5jaGFydC5oYW5kbGVDdXJzb3JIaWRlKCl9LHNob3dDdXJzb3I6ZnVuY3Rpb24oYSl7IXRoaXMuZHJhd2luZyYmdGhpcy5lbmFibGVkJiYodGhpcy52TGluZUVuYWJsZWQmJnRoaXMudnZMaW5lJiZ0aGlzLnZ2TGluZS5zaG93KCksdGhpcy5oTGluZUVuYWJsZWQmJnRoaXMuaGhMaW5lJiZ0aGlzLmhoTGluZS5zaG93KCksdGhpcy5pc0hpZGRlbj0hMSx0aGlzLnVwZGF0ZUZ1bGxMaW5lKCksYXx8dGhpcy5maXJlKHt0YXJnZXQ6dGhpcyxjaGFydDp0aGlzLmNoYXJ0LHR5cGU6Im9uU2hvd0N1cnNvciJ9KSx0aGlzLnBhbiYmdGhpcy5jaGFydC5zZXRNb3VzZUN1cnNvcigibW92ZSIpKX0sDQp1cGRhdGVGdWxsTGluZTpmdW5jdGlvbigpe3RoaXMuem9vbWluZyYmdGhpcy5mdWxsV2lkdGgmJnRoaXMuc2VsZWN0aW9uJiYodGhpcy5yb3RhdGU/MDx0aGlzLnNlbGVjdGlvbi5oZWlnaHQmJnRoaXMuaGhMaW5lLmhpZGUoKTowPHRoaXMuc2VsZWN0aW9uLndpZHRoJiZ0aGlzLnZ2TGluZS5oaWRlKCkpfSx1cGRhdGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtpZighdGhpcy5wYW4mJnRoaXMuZW5hYmxlZCl7dmFyIGE9dGhpcy5tb3VzZVgsYj10aGlzLm1vdXNlWTtpc05hTih0aGlzLmZ4KXx8KGE9dGhpcy5meCk7aXNOYU4odGhpcy5meSl8fChiPXRoaXMuZnkpO3RoaXMuY2xlYXJTZWxlY3Rpb24oKTt2YXIgYz10aGlzLm1vdXNlWDAsZT10aGlzLm1vdXNlWTAsZz10aGlzLndpZHRoLGY9dGhpcy5oZWlnaHQsYT1kLmZpdFRvQm91bmRzKGEsMCxnKSxiPWQuZml0VG9Cb3VuZHMoYiwwLGYpLGg7YTxjJiYoaD1hLGE9YyxjPWgpO2I8ZSYmKGg9YixiPWUsZT1oKTt0aGlzLmhab29tRW5hYmxlZD8NCmc9YS1jOmM9MDt0aGlzLnZab29tRW5hYmxlZD9mPWItZTplPTA7aXNOYU4odGhpcy5tb3VzZTJYKSYmMDxNYXRoLmFicyhnKSYmMDxNYXRoLmFicyhmKSYmKGE9dGhpcy5jaGFydCxiPWQucmVjdCh0aGlzLmNvbnRhaW5lcixnLGYsdGhpcy5jdXJzb3JDb2xvcix0aGlzLnNlbGVjdGlvbkFscGhhKSxkLnNldENOKGEsYiwiY3Vyc29yLXNlbGVjdGlvbiIpLGIud2lkdGg9ZyxiLmhlaWdodD1mLGIudHJhbnNsYXRlKGMsZSksdGhpcy5zZXQucHVzaChiKSx0aGlzLnNlbGVjdGlvbj1iKTt0aGlzLnVwZGF0ZUZ1bGxMaW5lKCl9fSxtb3VzZUlzT3ZlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMubW91c2VYLGI9dGhpcy5tb3VzZVk7aWYodGhpcy5qdXN0UmVsZWFzZWQpcmV0dXJuIHRoaXMuanVzdFJlbGVhc2VkPSExLCEwO2lmKHRoaXMubW91c2VJc0Rvd24pcmV0dXJuITA7aWYoIXRoaXMuY2hhcnQubW91c2VJc092ZXIpcmV0dXJuIHRoaXMuaGFuZGxlTW91c2VPdXQoKSwhMTtpZigwPGEmJg0KYTx0aGlzLndpZHRoJiYwPGImJmI8dGhpcy5oZWlnaHQpcmV0dXJuITA7dGhpcy5oYW5kbGVNb3VzZU91dCgpO3JldHVybiExfSxmaXhQb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMucHJldlk9dGhpcy5wcmV2WD1OYU59LGhhbmRsZU1vdXNlRG93bjpmdW5jdGlvbigpe3RoaXMudXBkYXRlKCk7aWYodGhpcy5tb3VzZUlzT3ZlcigpKWlmKHRoaXMubW91c2VJc0Rvd249ITAsdGhpcy5tb3VzZVgwPXRoaXMubW91c2VYLHRoaXMubW91c2VZMD10aGlzLm1vdXNlWSx0aGlzLm1vdXNlMlgwPXRoaXMubW91c2UyWCx0aGlzLm1vdXNlMlkwPXRoaXMubW91c2UyWSx0aGlzLmRyYXdpbmcpdGhpcy5kcmF3U3RhcnRZPXRoaXMubW91c2VZLHRoaXMuZHJhd1N0YXJ0WD10aGlzLm1vdXNlWCx0aGlzLmRyYXdpbmdOb3c9ITA7ZWxzZSBpZih0aGlzLmRpc3BhdGNoTW92ZWRFdmVudCh0aGlzLm1vdXNlWCx0aGlzLm1vdXNlWSksIXRoaXMucGFuJiZpc05hTih0aGlzLm1vdXNlMlgwKSYmKGlzTmFOKHRoaXMuZngpfHwNCih0aGlzLm1vdXNlWDA9dGhpcy5meCksaXNOYU4odGhpcy5meSl8fCh0aGlzLm1vdXNlWTA9dGhpcy5meSkpLHRoaXMuaFpvb21FbmFibGVkfHx0aGlzLnZab29tRW5hYmxlZCl7dGhpcy56b29taW5nPSEwO3ZhciBhPXtjaGFydDp0aGlzLmNoYXJ0LHRhcmdldDp0aGlzLHR5cGU6Inpvb21TdGFydGVkIn07YS54PXRoaXMubW91c2VYL3RoaXMud2lkdGg7YS55PXRoaXMubW91c2VZL3RoaXMuaGVpZ2h0O3RoaXMuaW5kZXgwPWEuaW5kZXg9dGhpcy5pbmRleDt0aGlzLnRpbWVzdGFtcDA9dGhpcy50aW1lc3RhbXA7dGhpcy5maXJlKGEpfX0scmVnaXN0ZXJJbml0aWFsTW91c2U6ZnVuY3Rpb24oKXt9LGhhbmRsZVJlbGVhc2VPdXRzaWRlOmZ1bmN0aW9uKCl7dGhpcy5tb3VzZUlzRG93bj0hMTtpZih0aGlzLmRyYXdpbmdOb3cpe3RoaXMuZHJhd2luZ05vdz0hMTtkLnJlbW92ZSh0aGlzLmRyYXdpbmdMaW5lKTt2YXIgYT10aGlzLmRyYXdTdGFydFgsYj10aGlzLmRyYXdTdGFydFksYz10aGlzLm1vdXNlWCwNCmU9dGhpcy5tb3VzZVksZz10aGlzLmNoYXJ0OygyPE1hdGguYWJzKGEtYyl8fDI8TWF0aC5hYnMoYi1lKSkmJnRoaXMuZmlyZSh7dHlwZToiZHJhdyIsdGFyZ2V0OnRoaXMsY2hhcnQ6Zyxpbml0aWFsWDphLGluaXRpYWxZOmIsZmluYWxYOmMsZmluYWxZOmV9KX10aGlzLnpvb21pbmcmJih0aGlzLnpvb21pbmc9ITEsdGhpcy5zZWxlY3RXaXRob3V0Wm9vbWluZz90aGlzLmRpc3BhdGNoWm9vbUV2ZW50KCJzZWxlY3RlZCIpOih0aGlzLmhab29tRW5hYmxlZHx8dGhpcy52Wm9vbUVuYWJsZWQpJiZ0aGlzLmRpc3BhdGNoWm9vbUV2ZW50KCJ6b29tZWQiKSx0aGlzLnJvbGxlZE92ZXImJnRoaXMuZGlzcGF0Y2hNb3ZlZEV2ZW50KHRoaXMubW91c2VYLHRoaXMubW91c2VZKSk7dGhpcy5tb3VzZTJZMD10aGlzLm1vdXNlMlgwPXRoaXMubW91c2VZMD10aGlzLm1vdXNlWDA9TmFOfSxkaXNwYXRjaFpvb21FdmVudDpmdW5jdGlvbihhKXtpZighdGhpcy5wYW4pe3ZhciBiPXRoaXMuc2VsZWN0aW9uOw0KaWYoYiYmMzxNYXRoLmFicyhiLndpZHRoKSYmMzxNYXRoLmFicyhiLmhlaWdodCkpe3ZhciBjPU1hdGgubWluKHRoaXMuaW5kZXgsdGhpcy5pbmRleDApLGU9TWF0aC5tYXgodGhpcy5pbmRleCx0aGlzLmluZGV4MCksZD1jLGY9ZSxoPXRoaXMuY2hhcnQsaz1oLmNoYXJ0RGF0YSxsPWguY2F0ZWdvcnlBeGlzO2wmJmwucGFyc2VEYXRlcyYmIWwuZXF1YWxTcGFjaW5nJiYoZD1rW2NdP2tbY10udGltZTpNYXRoLm1pbih0aGlzLnRpbWVzdGFtcDAsdGhpcy50aW1lc3RhbXApLGY9a1tlXT9oLmdldEVuZFRpbWUoa1tlXS50aW1lKTpNYXRoLm1heCh0aGlzLnRpbWVzdGFtcDAsdGhpcy50aW1lc3RhbXApKTt2YXIgYj17dHlwZTphLGNoYXJ0OnRoaXMuY2hhcnQsdGFyZ2V0OnRoaXMsZW5kOmYsc3RhcnQ6ZCxzdGFydEluZGV4OmMsZW5kSW5kZXg6ZSxzZWxlY3Rpb25IZWlnaHQ6Yi5oZWlnaHQsc2VsZWN0aW9uV2lkdGg6Yi53aWR0aCxzZWxlY3Rpb25ZOmIueSxzZWxlY3Rpb25YOmIueH0sDQptO3RoaXMuaFpvb21FbmFibGVkJiY0PE1hdGguYWJzKHRoaXMubW91c2VYMC10aGlzLm1vdXNlWCkmJihiLnN0YXJ0WD10aGlzLm1vdXNlWDAvdGhpcy53aWR0aCxiLmVuZFg9dGhpcy5tb3VzZVgvdGhpcy53aWR0aCxtPSEwKTt0aGlzLnZab29tRW5hYmxlZCYmNDxNYXRoLmFicyh0aGlzLm1vdXNlWTAtdGhpcy5tb3VzZVkpJiYoYi5zdGFydFk9MS10aGlzLm1vdXNlWTAvdGhpcy5oZWlnaHQsYi5lbmRZPTEtdGhpcy5tb3VzZVkvdGhpcy5oZWlnaHQsbT0hMCk7bSYmKHRoaXMucHJldlk9dGhpcy5wcmV2WD1OYU4sdGhpcy5maXJlKGIpLCJzZWxlY3RlZCIhPWEmJnRoaXMuY2xlYXJTZWxlY3Rpb24oKSk7dGhpcy5oaWRlQ3Vyc29yKCl9fX0sZGlzcGF0Y2hNb3ZlZEV2ZW50OmZ1bmN0aW9uKGEsYixjLGUpe2E9TWF0aC5yb3VuZChhKTtiPU1hdGgucm91bmQoYik7aWYoIXRoaXMuaXNIaWRkZW4mJihhIT10aGlzLnByZXZYfHxiIT10aGlzLnByZXZZfHwiY2hhbmdlZCI9PWMpKXtjfHwNCihjPSJtb3ZlZCIpO3ZhciBkPXRoaXMuZngsZj10aGlzLmZ5O2lzTmFOKGQpJiYoZD1hKTtpc05hTihmKSYmKGY9Yik7dmFyIGg9ITE7dGhpcy56b29taW5nJiZ0aGlzLnBhbiYmKGg9ITApO2g9e2hpZGRlbjp0aGlzLmlzSGlkZGVuLHR5cGU6YyxjaGFydDp0aGlzLmNoYXJ0LHRhcmdldDp0aGlzLHg6YSx5OmIsZmluYWxYOmQsZmluYWxZOmYsem9vbWluZzp0aGlzLnpvb21pbmcscGFubmluZzpoLG1vc3RDbG9zZUdyYXBoOnRoaXMubW9zdENsb3NlR3JhcGgsaW5kZXg6dGhpcy5pbmRleCxza2lwOmUsaGlkZUJhbGxvb25zOnRoaXMuaGlkZUdyYXBoQmFsbG9vbnN9O3RoaXMucHJldkluZGV4PXRoaXMuaW5kZXg7dGhpcy5yb3RhdGU/KGgucG9zaXRpb249YixoLmZpbmFsUG9zaXRpb249Zik6KGgucG9zaXRpb249YSxoLmZpbmFsUG9zaXRpb249ZCk7dGhpcy5wcmV2WD1hO3RoaXMucHJldlk9YjtlP3RoaXMuY2hhcnQuaGFuZGxlQ3Vyc29yTW92ZShoKToodGhpcy5maXJlKGgpLCJjaGFuZ2VkIj09DQpjJiZ0aGlzLmNoYXJ0LmZpcmUoaCkpfX0sZGlzcGF0Y2hQYW5FdmVudDpmdW5jdGlvbigpe2lmKHRoaXMubW91c2VJc0Rvd24pe3ZhciBhPWQucm91bmRUbygodGhpcy5tb3VzZVgtdGhpcy5tb3VzZVgwKS90aGlzLndpZHRoLDMpLGI9ZC5yb3VuZFRvKCh0aGlzLm1vdXNlWS10aGlzLm1vdXNlWTApL3RoaXMuaGVpZ2h0LDMpLGM9ZC5yb3VuZFRvKCh0aGlzLm1vdXNlMlgtdGhpcy5tb3VzZTJYMCkvdGhpcy53aWR0aCwzKSxlPWQucm91bmRUbygodGhpcy5tb3VzZTJZLXRoaXMubW91c2UyWTApL3RoaXMuaGVpZ2h0LDIpLGc9ITE7MCE9PU1hdGguYWJzKGEpJiYwIT09TWF0aC5hYnMoYikmJihnPSEwKTtpZih0aGlzLnByZXZEZWx0YVg9PWF8fHRoaXMucHJldkRlbHRhWT09YilnPSExO2lzTmFOKGMpfHxpc05hTihlKXx8KDAhPT1NYXRoLmFicyhjKSYmMCE9PU1hdGguYWJzKGUpJiYoZz0hMCksdGhpcy5wcmV2RGVsdGEyWCE9YyYmdGhpcy5wcmV2RGVsdGEyWSE9ZSl8fChnPSExKTsNCmcmJih0aGlzLmhpZGVMaW5lcygpLHRoaXMuZmlyZSh7dHlwZToicGFubmluZyIsY2hhcnQ6dGhpcy5jaGFydCx0YXJnZXQ6dGhpcyxkZWx0YVg6YSxkZWx0YVk6YixkZWx0YTJYOmMsZGVsdGEyWTplLGluZGV4OnRoaXMuaW5kZXh9KSx0aGlzLnByZXZEZWx0YVg9YSx0aGlzLnByZXZEZWx0YVk9Yix0aGlzLnByZXZEZWx0YTJYPWMsdGhpcy5wcmV2RGVsdGEyWT1lKX19LGNsZWFyU2VsZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3Rpb247YSYmKGEud2lkdGg9MCxhLmhlaWdodD0wLGEucmVtb3ZlKCkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpO2QucmVtb3ZlKHRoaXMuc2VsZWN0aW9uKTt0aGlzLnNlbGVjdGlvbj1udWxsO2NsZWFyVGltZW91dCh0aGlzLnN5bmNUTyk7ZC5yZW1vdmUodGhpcy5zZXQpfSxjbGVhcjpmdW5jdGlvbigpe30sc2V0VGltZXN0YW1wOmZ1bmN0aW9uKGEpe3RoaXMudGltZXN0YW1wPWF9LHNldEluZGV4OmZ1bmN0aW9uKGEsYil7YSE9DQp0aGlzLmluZGV4JiYodGhpcy5pbmRleD1hLGJ8fHRoaXMuaXNIaWRkZW58fHRoaXMuZGlzcGF0Y2hNb3ZlZEV2ZW50KHRoaXMubW91c2VYLHRoaXMubW91c2VZLCJjaGFuZ2VkIikpfSxoYW5kbGVNb3VzZU91dDpmdW5jdGlvbigpe3RoaXMuZW5hYmxlZCYmdGhpcy5yb2xsZWRPdmVyJiYodGhpcy5sZWF2ZUN1cnNvcnx8dGhpcy5zZXRJbmRleCh2b2lkIDApLHRoaXMuZm9yY2VTaG93PSExLHRoaXMuaGlkZUN1cnNvcigpLHRoaXMucm9sbGVkT3Zlcj0hMSl9LHNob3dDdXJzb3JBdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LmNhdGVnb3J5QXhpcztiJiZ0aGlzLnNldFBvc2l0aW9uKGIuY2F0ZWdvcnlUb0Nvb3JkaW5hdGUoYSksYSl9LHNldFBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jaGFydCxlPWMuY2F0ZWdvcnlBeGlzO2lmKGUpe3ZhciBkLGY7dm9pZCAwPT09YiYmKGI9ZS5jb29yZGluYXRlVG9WYWx1ZShhKSk7ZS5zaG93QmFsbG9vbkF0KGIsYSk7dGhpcy5mb3JjZVNob3c9DQohMDtlLnN0aWNrQmFsbG9vblRvQ2F0ZWdvcnk/Yy5yb3RhdGU/dGhpcy5maXhITGluZShhLDApOnRoaXMuZml4VkxpbmUoYSwwKToodGhpcy5zaG93Q3Vyc29yKCksYy5yb3RhdGU/dGhpcy5oaExpbmUudHJhbnNsYXRlKDAsYSk6dGhpcy52dkxpbmUudHJhbnNsYXRlKGEsMCkpO2Mucm90YXRlP2Q9YTpmPWE7Yy5yb3RhdGU/KHRoaXMudnZMaW5lJiZ0aGlzLnZ2TGluZS5oaWRlKCksdGhpcy5oaExpbmUmJnRoaXMuaGhMaW5lLnNob3coKSk6KHRoaXMuaGhMaW5lJiZ0aGlzLmhoTGluZS5oaWRlKCksdGhpcy52dkxpbmUmJnRoaXMudnZMaW5lLnNob3coKSk7dGhpcy51cGRhdGVGdWxsTGluZSgpO3RoaXMuaXNIaWRkZW49ITE7dGhpcy5kaXNwYXRjaE1vdmVkRXZlbnQoZixkLCJtb3ZlZCIsITApfX0sZW5hYmxlRHJhd2luZzpmdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9IWE7dGhpcy5oaWRlQ3Vyc29yKCk7dGhpcy5kcmF3aW5nPWF9LHN5bmNXaXRoQ3Vyc29yOmZ1bmN0aW9uKGEsYil7Y2xlYXJUaW1lb3V0KHRoaXMuc3luY1RPKTsNCmEmJihhLmlzSGlkZGVuP3RoaXMuaGlkZUN1cnNvcighMCk6dGhpcy5zeW5jV2l0aEN1cnNvclJlYWwoYSxiKSl9LGlzWm9vbWluZzpmdW5jdGlvbihhKXt0aGlzLnpvb21pbmc9YX0sc3luY1dpdGhDdXJzb3JSZWFsOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS52dkxpbmUsZT1hLmhoTGluZTt0aGlzLmluZGV4PWEuaW5kZXg7dGhpcy5mb3JjZVNob3c9ITA7dGhpcy56b29taW5nJiZ0aGlzLnBhbnx8dGhpcy5zaG93Q3Vyc29yKCEwKTt0aGlzLmhpZGVHcmFwaEJhbGxvb25zPWI7dGhpcy5qdXN0UmVsZWFzZWQ9YS5qdXN0UmVsZWFzZWQ7dGhpcy56b29taW5nPWEuem9vbWluZzt0aGlzLmluZGV4MD1hLmluZGV4MDt0aGlzLm1vdXNlWDA9YS5tb3VzZVgwO3RoaXMubW91c2VZMD1hLm1vdXNlWTA7dGhpcy5tb3VzZTJYMD1hLm1vdXNlMlgwO3RoaXMubW91c2UyWTA9YS5tb3VzZTJZMDt0aGlzLnRpbWVzdGFtcDA9YS50aW1lc3RhbXAwO3RoaXMucHJldkRlbHRhWD1hLnByZXZEZWx0YVg7dGhpcy5wcmV2RGVsdGFZPQ0KYS5wcmV2RGVsdGFZO3RoaXMucHJldkRlbHRhMlg9YS5wcmV2RGVsdGEyWDt0aGlzLnByZXZEZWx0YTJZPWEucHJldkRlbHRhMlk7dGhpcy5meD1hLmZ4O3RoaXMuZnk9YS5meTthLnpvb21pbmcmJnRoaXMudXBkYXRlU2VsZWN0aW9uKCk7dmFyIGQ9YS5tb3VzZVgsZj1hLm1vdXNlWTt0aGlzLnJvdGF0ZT8oZD1OYU4sdGhpcy52dkxpbmUmJnRoaXMudnZMaW5lLmhpZGUoKSx0aGlzLmhoTGluZSYmZSYmKGlzTmFOKGEuZnkpP3RoaXMuaGhMaW5lLnRyYW5zbGF0ZSgwLGEubW91c2VZKTp0aGlzLmZpeEhMaW5lKGEuZnksMCkpKTooZj1OYU4sdGhpcy5oaExpbmUmJnRoaXMuaGhMaW5lLmhpZGUoKSx0aGlzLnZ2TGluZSYmYyYmKGlzTmFOKGEuZngpP3RoaXMudnZMaW5lLnRyYW5zbGF0ZShhLm1vdXNlWCwwKTp0aGlzLmZpeFZMaW5lKGEuZngsMCkpKTt0aGlzLmRpc3BhdGNoTW92ZWRFdmVudChkLGYsIm1vdmVkIiwhMCl9fSl9KSgpOyhmdW5jdGlvbigpe3ZhciBkPXdpbmRvdy5BbUNoYXJ0cztkLlNpbXBsZUNoYXJ0U2Nyb2xsYmFyPWQuQ2xhc3Moe2NvbnN0cnVjdDpmdW5jdGlvbihhKXt0aGlzLmNyZWF0ZUV2ZW50cygiem9vbWVkIiwiem9vbVN0YXJ0ZWQiLCJ6b29tRW5kZWQiKTt0aGlzLmJhY2tncm91bmRDb2xvcj0iI0Q0RDRENCI7dGhpcy5iYWNrZ3JvdW5kQWxwaGE9MTt0aGlzLnNlbGVjdGVkQmFja2dyb3VuZENvbG9yPSIjRUZFRkVGIjt0aGlzLnNjcm9sbER1cmF0aW9uPXRoaXMuc2VsZWN0ZWRCYWNrZ3JvdW5kQWxwaGE9MTt0aGlzLnJlc2l6ZUVuYWJsZWQ9ITA7dGhpcy5oaWRlUmVzaXplR3JpcHM9ITE7dGhpcy5zY3JvbGxiYXJIZWlnaHQ9MjA7dGhpcy51cGRhdGVPblJlbGVhc2VPbmx5PSExOzk+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYodGhpcy51cGRhdGVPblJlbGVhc2VPbmx5PSEwKTt0aGlzLmRyYWdJY29uSGVpZ2h0PXRoaXMuZHJhZ0ljb25XaWR0aD0zNTt0aGlzLmRyYWdJY29uPSJkcmFnSWNvblJvdW5kQmlnIjsNCnRoaXMuZHJhZ0N1cnNvckhvdmVyPSJjdXJzb3I6IG1vdmU7IGN1cnNvcjogZ3JhYjsgY3Vyc29yOiAtbW96LWdyYWI7IGN1cnNvcjogLXdlYmtpdC1ncmFiOyI7dGhpcy5kcmFnQ3Vyc29yRG93bj0iY3Vyc29yOiBtb3ZlOyBjdXJzb3I6IGdyYWI7IGN1cnNvcjogLW1vei1ncmFiYmluZzsgY3Vyc29yOiAtd2Via2l0LWdyYWJiaW5nOyI7dGhpcy52UmVzaXplQ3Vyc29yPSJucy1yZXNpemUiO3RoaXMuaFJlc2l6ZUN1cnNvcj0iZXctcmVzaXplIjt0aGlzLmVuYWJsZWQ9ITA7dGhpcy5wZXJjZW50U3RhcnQ9dGhpcy5vZmZzZXQ9MDt0aGlzLnBlcmNlbnRFbmQ9MTtkLmFwcGx5VGhlbWUodGhpcyxhLCJTaW1wbGVDaGFydFNjcm9sbGJhciIpfSxnZXRQZXJjZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0REJveCgpLGI9YS54LGM9YS55LGU9YS53aWR0aCxhPWEuaGVpZ2h0O3RoaXMucm90YXRlPyhiPTEtYy90aGlzLmhlaWdodCxjPTEtKGMrYSkvdGhpcy5oZWlnaHQpOihjPWIvdGhpcy53aWR0aCwNCmI9KGIrZSkvdGhpcy53aWR0aCk7dGhpcy5wZXJjZW50U3RhcnQ9Yzt0aGlzLnBlcmNlbnRFbmQ9Yn0sZHJhdzpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5kZXN0cm95KCk7aWYoYS5lbmFibGVkKXt2YXIgYj1hLmNoYXJ0LmNvbnRhaW5lcixjPWEucm90YXRlLGU9YS5jaGFydDtlLnBhblJlcXVpcmVkPSEwO3ZhciBnPWIuc2V0KCk7YS5zZXQ9ZztjP2Quc2V0Q04oZSxnLCJzY3JvbGxiYXItdmVydGljYWwiKTpkLnNldENOKGUsZywic2Nyb2xsYmFyLWhvcml6b250YWwiKTtlLnNjcm9sbGJhcnNTZXQucHVzaChnKTt2YXIgZixoO2M/KGY9YS5zY3JvbGxiYXJIZWlnaHQsaD1lLnBsb3RBcmVhSGVpZ2h0KTooaD1hLnNjcm9sbGJhckhlaWdodCxmPWUucGxvdEFyZWFXaWR0aCk7YS53aWR0aD1mO2lmKChhLmhlaWdodD1oKSYmZil7dmFyIGs9ZC5yZWN0KGIsZixoLGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZEFscGhhLDEsYS5iYWNrZ3JvdW5kQ29sb3IsYS5iYWNrZ3JvdW5kQWxwaGEpOw0KZC5zZXRDTihlLGssInNjcm9sbGJhci1iZyIpO2EuYmc9aztnLnB1c2goayk7az1kLnJlY3QoYixmLGgsIiMwMDAiLC4wMDUpO2cucHVzaChrKTthLmludmlzaWJsZUJnPWs7ay5jbGljayhmdW5jdGlvbigpe2EuaGFuZGxlQmdDbGljaygpfSkubW91c2VvdmVyKGZ1bmN0aW9uKCl7YS5oYW5kbGVNb3VzZU92ZXIoKX0pLm1vdXNlb3V0KGZ1bmN0aW9uKCl7YS5oYW5kbGVNb3VzZU91dCgpfSkudG91Y2hlbmQoZnVuY3Rpb24oKXthLmhhbmRsZUJnQ2xpY2soKX0pO2s9ZC5yZWN0KGIsZixoLGEuc2VsZWN0ZWRCYWNrZ3JvdW5kQ29sb3IsYS5zZWxlY3RlZEJhY2tncm91bmRBbHBoYSk7ZC5zZXRDTihlLGssInNjcm9sbGJhci1iZy1zZWxlY3RlZCIpO2Euc2VsZWN0ZWRCRz1rO2cucHVzaChrKTtmPWQucmVjdChiLGYsaCwiIzAwMCIsLjAwNSk7YS5kcmFnZ2VyPWY7Zy5wdXNoKGYpO2YubW91c2Vkb3duKGZ1bmN0aW9uKGIpe2EuaGFuZGxlRHJhZ1N0YXJ0KGIpfSkubW91c2V1cChmdW5jdGlvbigpe2EuaGFuZGxlRHJhZ1N0b3AoKX0pLm1vdXNlb3ZlcihmdW5jdGlvbigpe2EuaGFuZGxlRHJhZ2dlck92ZXIoKX0pLm1vdXNlb3V0KGZ1bmN0aW9uKCl7YS5oYW5kbGVNb3VzZU91dCgpfSkudG91Y2hzdGFydChmdW5jdGlvbihiKXthLmhhbmRsZURyYWdTdGFydChiKX0pLnRvdWNoZW5kKGZ1bmN0aW9uKCl7YS5oYW5kbGVEcmFnU3RvcCgpfSk7DQpoPWUucGF0aFRvSW1hZ2VzO3ZhciBsLGs9YS5kcmFnSWNvbi5yZXBsYWNlKC9cLlthLXpdKiQvaSwiIik7ZC5pc0Fic29sdXRlKGspJiYoaD0iIik7Yz8obD1oK2srIkgiK2UuZXh0ZW5zaW9uLGg9YS5kcmFnSWNvbldpZHRoLGM9YS5kcmFnSWNvbkhlaWdodCk6KGw9aCtrK2UuZXh0ZW5zaW9uLGM9YS5kcmFnSWNvbldpZHRoLGg9YS5kcmFnSWNvbkhlaWdodCk7az1iLmltYWdlKGwsMCwwLGMsaCk7ZC5zZXRDTihlLGssInNjcm9sbGJhci1ncmlwLWxlZnQiKTtsPWIuaW1hZ2UobCwwLDAsYyxoKTtkLnNldENOKGUsbCwic2Nyb2xsYmFyLWdyaXAtcmlnaHQiKTt2YXIgbT0xMCxuPTIwO2UucGFuRXZlbnRzRW5hYmxlZCYmKG09MjUsbj1hLnNjcm9sbGJhckhlaWdodCk7dmFyIHE9ZC5yZWN0KGIsbSxuLCIjMDAwIiwuMDA1KSxwPWQucmVjdChiLG0sbiwiIzAwMCIsLjAwNSk7cC50cmFuc2xhdGUoLShtLWMpLzIsLShuLWgpLzIpO3EudHJhbnNsYXRlKC0obS1jKS8yLC0obi1oKS8yKTsNCmM9Yi5zZXQoW2sscF0pO2I9Yi5zZXQoW2wscV0pO2EuaWNvbkxlZnQ9YztnLnB1c2goYS5pY29uTGVmdCk7YS5pY29uUmlnaHQ9YjtnLnB1c2goYik7YS51cGRhdGVHcmlwQ3Vyc29yKCExKTtlLm1ha2VBY2Nlc3NpYmxlKGMsYS5hY2Nlc3NpYmxlTGFiZWwpO2UubWFrZUFjY2Vzc2libGUoYixhLmFjY2Vzc2libGVMYWJlbCk7ZS5tYWtlQWNjZXNzaWJsZShmLGEuYWNjZXNzaWJsZUxhYmVsKTtjLnNldEF0dHIoInJvbGUiLCJtZW51aXRlbSIpO2Iuc2V0QXR0cigicm9sZSIsIm1lbnVpdGVtIik7Zi5zZXRBdHRyKCJyb2xlIiwibWVudWl0ZW0iKTt2b2lkIDAhPT1hLnRhYkluZGV4JiYoYy5zZXRBdHRyKCJ0YWJpbmRleCIsYS50YWJJbmRleCksYy5rZXl1cChmdW5jdGlvbihiKXthLmhhbmRsZUtleXMoYiwxLDApfSkpO3ZvaWQgMCE9PWEudGFiSW5kZXgmJihmLnNldEF0dHIoInRhYmluZGV4IixhLnRhYkluZGV4KSxmLmtleXVwKGZ1bmN0aW9uKGIpe2EuaGFuZGxlS2V5cyhiLDEsMSl9KSk7DQp2b2lkIDAhPT1hLnRhYkluZGV4JiYoYi5zZXRBdHRyKCJ0YWJpbmRleCIsYS50YWJJbmRleCksYi5rZXl1cChmdW5jdGlvbihiKXthLmhhbmRsZUtleXMoYiwwLDEpfSkpO2MubW91c2Vkb3duKGZ1bmN0aW9uKCl7YS5sZWZ0RHJhZ1N0YXJ0KCl9KS5tb3VzZXVwKGZ1bmN0aW9uKCl7YS5sZWZ0RHJhZ1N0b3AoKX0pLm1vdXNlb3ZlcihmdW5jdGlvbigpe2EuaWNvblJvbGxPdmVyKCl9KS5tb3VzZW91dChmdW5jdGlvbigpe2EuaWNvblJvbGxPdXQoKX0pLnRvdWNoc3RhcnQoZnVuY3Rpb24oKXthLmxlZnREcmFnU3RhcnQoKX0pLnRvdWNoZW5kKGZ1bmN0aW9uKCl7YS5sZWZ0RHJhZ1N0b3AoKX0pO2IubW91c2Vkb3duKGZ1bmN0aW9uKCl7YS5yaWdodERyYWdTdGFydCgpfSkubW91c2V1cChmdW5jdGlvbigpe2EucmlnaHREcmFnU3RvcCgpfSkubW91c2VvdmVyKGZ1bmN0aW9uKCl7YS5pY29uUm9sbE92ZXIoKX0pLm1vdXNlb3V0KGZ1bmN0aW9uKCl7YS5pY29uUm9sbE91dCgpfSkudG91Y2hzdGFydChmdW5jdGlvbigpe2EucmlnaHREcmFnU3RhcnQoKX0pLnRvdWNoZW5kKGZ1bmN0aW9uKCl7YS5yaWdodERyYWdTdG9wKCl9KTsNCmQuaWZBcnJheShlLmNoYXJ0RGF0YSk/Zy5zaG93KCk6Zy5oaWRlKCk7YS5oaWRlRHJhZ0ljb25zKCk7YS5jbGlwRHJhZ2dlcighMSl9Zy50cmFuc2xhdGUoYS54LGEueSk7Zy5ub2RlLnN0eWxlLm1zVG91Y2hBY3Rpb249Im5vbmUiO2cubm9kZS5zdHlsZS50b3VjaEFjdGlvbj0ibm9uZSJ9fSxoYW5kbGVLZXlzOmZ1bmN0aW9uKGEsYixjKXt0aGlzLmdldFBlcmNlbnRzKCk7dmFyIGU9dGhpcy5wZXJjZW50U3RhcnQsZD10aGlzLnBlcmNlbnRFbmQ7aWYodGhpcy5yb3RhdGUpdmFyIGY9ZCxkPWUsZT1mO2lmKDM3PT1hLmtleUNvZGV8fDQwPT1hLmtleUNvZGUpZS09LjAyKmIsZC09LjAyKmM7aWYoMzk9PWEua2V5Q29kZXx8Mzg9PWEua2V5Q29kZSllKz0uMDIqYixkKz0uMDIqYzt0aGlzLnJvdGF0ZSYmKGE9ZCxkPWUsZT1hKTtpc05hTihkKXx8aXNOYU4oZSl8fHRoaXMucGVyY2VudFpvb20oZSxkLCEwKX0sdXBkYXRlU2Nyb2xsYmFyU2l6ZTpmdW5jdGlvbihhLGIpe2lmKCFpc05hTihhKSYmDQohaXNOYU4oYikpe2E9TWF0aC5yb3VuZChhKTtiPU1hdGgucm91bmQoYik7dmFyIGM9dGhpcy5kcmFnZ2VyLGUsZCxmLGgsazt0aGlzLnJvdGF0ZT8oZT0wLGQ9YSxmPXRoaXMud2lkdGgrMSxoPWItYSxjLnNldEF0dHIoImhlaWdodCIsYi1hKSxjLnNldEF0dHIoInkiLGQpKTooZT1hLGQ9MCxmPWItYSxoPXRoaXMuaGVpZ2h0KzEsaz1iLWEsYy5zZXRBdHRyKCJ4IixlKSxjLnNldEF0dHIoIndpZHRoIixrKSk7dGhpcy5jbGlwQW5kVXBkYXRlKGUsZCxmLGgpfX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIGEsYj0hMSxjLGUsZD10aGlzLngsZj10aGlzLnksaD10aGlzLmRyYWdnZXIsaz10aGlzLmdldERCb3goKTtpZihrKXtjPWsueCtkO2U9ay55K2Y7dmFyIGw9ay53aWR0aCxrPWsuaGVpZ2h0LG09dGhpcy5yb3RhdGUsbj10aGlzLmNoYXJ0LHE9dGhpcy53aWR0aCxwPXRoaXMuaGVpZ2h0LHQ9bi5tb3VzZVgsbj1uLm1vdXNlWTthPXRoaXMuaW5pdGlhbE1vdXNlO3RoaXMuZm9yY2VDbGlwJiYNCnRoaXMuY2xpcERyYWdnZXIoITApO2lmKHRoaXMuZHJhZ2dpbmcpe3ZhciByPXRoaXMuaW5pdGlhbENvb3JkO2lmKG0pYT1yKyhuLWEpLDA+YSYmKGE9MCkscj1wLWssYT5yJiYoYT1yKSxoLnNldEF0dHIoInkiLGEpO2Vsc2V7YT1yKyh0LWEpOzA+YSYmKGE9MCk7cj1xLWw7aWYoYT5yfHxpc05hTihhKSlhPXI7aC5zZXRBdHRyKCJ4IixhKX10aGlzLmNsaXBEcmFnZ2VyKCEwKX1pZih0aGlzLnJlc2l6aW5nUmlnaHQpe2lmKG0paWYoYT1uLWUsIWlzTmFOKHRoaXMubWF4SGVpZ2h0KSYmYT50aGlzLm1heEhlaWdodCYmKGE9dGhpcy5tYXhIZWlnaHQpLGErZT5wK2YmJihhPXAtZStmKSwwPmEpdGhpcy5yZXNpemluZ1JpZ2h0PSExLGI9dGhpcy5yZXNpemluZ0xlZnQ9ITA7ZWxzZXtpZigwPT09YXx8aXNOYU4oYSkpYT0uMTtoLnNldEF0dHIoImhlaWdodCIsYSl9ZWxzZSBpZihhPXQtYywhaXNOYU4odGhpcy5tYXhXaWR0aCkmJmE+dGhpcy5tYXhXaWR0aCYmKGE9dGhpcy5tYXhXaWR0aCksDQphK2M+cStkJiYoYT1xLWMrZCksMD5hKXRoaXMucmVzaXppbmdSaWdodD0hMSxiPXRoaXMucmVzaXppbmdMZWZ0PSEwO2Vsc2V7aWYoMD09PWF8fGlzTmFOKGEpKWE9LjE7aC5zZXRBdHRyKCJ3aWR0aCIsYSl9dGhpcy5jbGlwRHJhZ2dlcighMCl9aWYodGhpcy5yZXNpemluZ0xlZnQpe2lmKG0paWYoYz1lLGU9bixlPGYmJihlPWYpLGlzTmFOKGUpJiYoZT1mKSxlPnArZiYmKGU9cCtmKSxhPSEwPT09Yj9jLWU6aytjLWUsIWlzTmFOKHRoaXMubWF4SGVpZ2h0KSYmYT50aGlzLm1heEhlaWdodCYmKGE9dGhpcy5tYXhIZWlnaHQsZT1jKSwwPmEpdGhpcy5yZXNpemluZ1JpZ2h0PSEwLHRoaXMucmVzaXppbmdMZWZ0PSExLGguc2V0QXR0cigieSIsYytrLWYpO2Vsc2V7aWYoMD09PWF8fGlzTmFOKGEpKWE9LjE7aC5zZXRBdHRyKCJ5IixlLWYpO2guc2V0QXR0cigiaGVpZ2h0IixhKX1lbHNlIGlmKGU9dCxlPGQmJihlPWQpLGlzTmFOKGUpJiYoZT1kKSxlPnErZCYmKGU9cStkKSxhPSEwPT09DQpiP2MtZTpsK2MtZSwhaXNOYU4odGhpcy5tYXhXaWR0aCkmJmE+dGhpcy5tYXhXaWR0aCYmKGE9dGhpcy5tYXhXaWR0aCxlPWMpLDA+YSl0aGlzLnJlc2l6aW5nUmlnaHQ9ITAsdGhpcy5yZXNpemluZ0xlZnQ9ITEsaC5zZXRBdHRyKCJ4IixjK2wtZCk7ZWxzZXtpZigwPT09YXx8aXNOYU4oYSkpYT0uMTtoLnNldEF0dHIoIngiLGUtZCk7aC5zZXRBdHRyKCJ3aWR0aCIsYSl9dGhpcy5jbGlwRHJhZ2dlcighMCl9fX0sc3RvcEZvcmNlQ2xpcDpmdW5jdGlvbigpe3RoaXMuYW5pbWF0aW5nPXRoaXMuZm9yY2VDbGlwPSExfSxjbGlwRHJhZ2dlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldERCb3goKTtpZihiKXt2YXIgYz1iLngsZT1iLnksZD1iLndpZHRoLGI9Yi5oZWlnaHQsZj0hMTtpZih0aGlzLnJvdGF0ZSl7aWYoYz0wLGQ9dGhpcy53aWR0aCsxLHRoaXMuY2xpcFkhPWV8fHRoaXMuY2xpcEghPWIpZj0hMH1lbHNlIGlmKGU9MCxiPXRoaXMuaGVpZ2h0KzEsdGhpcy5jbGlwWCE9Y3x8DQp0aGlzLmNsaXBXIT1kKWY9ITA7ZiYmdGhpcy5jbGlwQW5kVXBkYXRlKGMsZSxkLGIpO2EmJih0aGlzLnVwZGF0ZU9uUmVsZWFzZU9ubHl8fHRoaXMuZGlzcGF0Y2hTY3JvbGxiYXJFdmVudCgpKX19LG1hc2tHcmFwaHM6ZnVuY3Rpb24oKXt9LGNsaXBBbmRVcGRhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5jbGlwWD1hO3RoaXMuY2xpcFk9Yjt0aGlzLmNsaXBXPWM7dGhpcy5jbGlwSD1kO3RoaXMuc2VsZWN0ZWRCRy5zZXRBdHRyKCJ3aWR0aCIsYyk7dGhpcy5zZWxlY3RlZEJHLnNldEF0dHIoImhlaWdodCIsZCk7dGhpcy5zZWxlY3RlZEJHLnRyYW5zbGF0ZShhLGIpO3RoaXMudXBkYXRlRHJhZ0ljb25Qb3NpdGlvbnMoKTt0aGlzLm1hc2tHcmFwaHMoYSxiLGMsZCl9LGRpc3BhdGNoU2Nyb2xsYmFyRXZlbnQ6ZnVuY3Rpb24oKXtpZih0aGlzLnNraXBFdmVudCl0aGlzLnNraXBFdmVudD0hMTtlbHNle3ZhciBhPXRoaXMuY2hhcnQ7YS5oaWRlQmFsbG9vbigpO3ZhciBiPXRoaXMuZ2V0REJveCgpLA0KYz1iLngsZD1iLnksZz1iLndpZHRoLGI9Yi5oZWlnaHQ7dGhpcy5nZXRQZXJjZW50cygpO3RoaXMucm90YXRlPyhjPWQsZz10aGlzLmhlaWdodC9iKTpnPXRoaXMud2lkdGgvZzthPXt0eXBlOiJ6b29tZWQiLHBvc2l0aW9uOmMsY2hhcnQ6YSx0YXJnZXQ6dGhpcyxtdWx0aXBsaWVyOmcscmVsYXRpdmVTdGFydDp0aGlzLnBlcmNlbnRTdGFydCxyZWxhdGl2ZUVuZDp0aGlzLnBlcmNlbnRFbmR9O2lmKHRoaXMucGVyY2VudFN0YXJ0IT10aGlzLnByZXZQZXJjZW50U3RhcnR8fHRoaXMucGVyY2VudEVuZCE9dGhpcy5wcmV2UGVyY2VudEVuZHx8dGhpcy5wcmV2TXVsdGlwbGllciE9Zyl0aGlzLmZpcmUoYSksdGhpcy5wcmV2UGVyY2VudFN0YXJ0PXRoaXMucGVyY2VudFN0YXJ0LHRoaXMucHJldlBlcmNlbnRFbmQ9dGhpcy5wZXJjZW50RW5kLHRoaXMucHJldk11bHRpcGxpZXI9Z319LHVwZGF0ZURyYWdJY29uUG9zaXRpb25zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXREQm94KCksYj1hLngsDQpjPWEueSxkPXRoaXMuaWNvbkxlZnQsZz10aGlzLmljb25SaWdodCxmLGgsaz10aGlzLnNjcm9sbGJhckhlaWdodDt0aGlzLnJvdGF0ZT8oZj10aGlzLmRyYWdJY29uV2lkdGgsaD10aGlzLmRyYWdJY29uSGVpZ2h0LGQudHJhbnNsYXRlKChrLWgpLzIsYy1mLzIpLGcudHJhbnNsYXRlKChrLWgpLzIsYythLmhlaWdodC1mLzIpKTooZj10aGlzLmRyYWdJY29uSGVpZ2h0LGg9dGhpcy5kcmFnSWNvbldpZHRoLGQudHJhbnNsYXRlKGItaC8yLChrLWYpLzIpLGcudHJhbnNsYXRlKGItaC8yK2Eud2lkdGgsKGstZikvMikpfSxzaG93RHJhZ0ljb25zOmZ1bmN0aW9uKCl7dGhpcy5yZXNpemVFbmFibGVkJiYodGhpcy5pY29uTGVmdC5zaG93KCksdGhpcy5pY29uUmlnaHQuc2hvdygpKX0saGlkZURyYWdJY29uczpmdW5jdGlvbigpe2lmKCF0aGlzLnJlc2l6aW5nTGVmdCYmIXRoaXMucmVzaXppbmdSaWdodCYmIXRoaXMuZHJhZ2dpbmcpe2lmKHRoaXMuaGlkZVJlc2l6ZUdyaXBzfHwhdGhpcy5yZXNpemVFbmFibGVkKXRoaXMuaWNvbkxlZnQuaGlkZSgpLA0KdGhpcy5pY29uUmlnaHQuaGlkZSgpO3RoaXMucmVtb3ZlQ3Vyc29ycygpfX0scmVtb3ZlQ3Vyc29yczpmdW5jdGlvbigpe3RoaXMuY2hhcnQuc2V0TW91c2VDdXJzb3IoImF1dG8iKX0sZmlyZVpvb21FdmVudDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoe3R5cGU6YSxjaGFydDp0aGlzLmNoYXJ0LHRhcmdldDp0aGlzfSl9LHBlcmNlbnRab29tOmZ1bmN0aW9uKGEsYixjKXthPWQuZml0VG9Cb3VuZHMoYSwwLGIpO2I9ZC5maXRUb0JvdW5kcyhiLGEsMSk7aWYodGhpcy5kcmFnZ2VyJiZ0aGlzLmVuYWJsZWQpe3RoaXMuZHJhZ2dlci5zdG9wKCk7aXNOYU4oYSkmJihhPTApO2lzTmFOKGIpJiYoYj0xKTt2YXIgZSxnO3RoaXMucm90YXRlPyhlPXRoaXMuaGVpZ2h0LGI9ZS1lKmIsZz1lLWUqYSk6KGU9dGhpcy53aWR0aCxnPWUqYixiPWUqYSk7dGhpcy51cGRhdGVTY3JvbGxiYXJTaXplKGIsZyk7dGhpcy5jbGlwRHJhZ2dlcighMSk7dGhpcy5nZXRQZXJjZW50cygpO2MmJnRoaXMuZGlzcGF0Y2hTY3JvbGxiYXJFdmVudCgpfX0sDQpkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpO2QucmVtb3ZlKHRoaXMuc2V0KTtkLnJlbW92ZSh0aGlzLmljb25SaWdodCk7ZC5yZW1vdmUodGhpcy5pY29uTGVmdCl9LGNsZWFyOmZ1bmN0aW9uKCl7fSxoYW5kbGVEcmFnU3RhcnQ6ZnVuY3Rpb24oKXtpZih0aGlzLmVuYWJsZWQpe3RoaXMuZmlyZVpvb21FdmVudCgiem9vbVN0YXJ0ZWQiKTt2YXIgYT10aGlzLmNoYXJ0O3RoaXMuZHJhZ2dlci5zdG9wKCk7dGhpcy5yZW1vdmVDdXJzb3JzKCk7ZC5pc01vZGVybiYmKHRoaXMuZHJhZ2dlci5ub2RlLnN0eWxlLmNzc1RleHQ9dGhpcy5kcmFnQ3Vyc29yRG93bik7dGhpcy5kcmFnZ2luZz0hMDt2YXIgYj10aGlzLmdldERCb3goKTt0aGlzLnJvdGF0ZT8odGhpcy5pbml0aWFsQ29vcmQ9Yi55LHRoaXMuaW5pdGlhbE1vdXNlPWEubW91c2VZKToodGhpcy5pbml0aWFsQ29vcmQ9Yi54LHRoaXMuaW5pdGlhbE1vdXNlPWEubW91c2VYKX19LGhhbmRsZURyYWdTdG9wOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVPblJlbGVhc2VPbmx5JiYNCih0aGlzLnVwZGF0ZSgpLHRoaXMuc2tpcEV2ZW50PSExLHRoaXMuZGlzcGF0Y2hTY3JvbGxiYXJFdmVudCgpKTt0aGlzLmRyYWdnaW5nPSExO3RoaXMubW91c2VJc092ZXImJnRoaXMucmVtb3ZlQ3Vyc29ycygpO2QuaXNNb2Rlcm4mJih0aGlzLmRyYWdnZXIubm9kZS5zdHlsZS5jc3NUZXh0PXRoaXMuZHJhZ0N1cnNvckhvdmVyKTt0aGlzLnVwZGF0ZSgpO3RoaXMuZmlyZVpvb21FdmVudCgiem9vbUVuZGVkIil9LGhhbmRsZURyYWdnZXJPdmVyOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVNb3VzZU92ZXIoKTtkLmlzTW9kZXJuJiYodGhpcy5kcmFnZ2VyLm5vZGUuc3R5bGUuY3NzVGV4dD10aGlzLmRyYWdDdXJzb3JIb3Zlcil9LGxlZnREcmFnU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLmZpcmVab29tRXZlbnQoInpvb21TdGFydGVkIik7dGhpcy5kcmFnZ2VyLnN0b3AoKTt0aGlzLnJlc2l6aW5nTGVmdD0hMDt0aGlzLnVwZGF0ZUdyaXBDdXJzb3IoITApfSx1cGRhdGVHcmlwQ3Vyc29yOmZ1bmN0aW9uKGEpe2QuaXNNb2Rlcm4mJg0KKGE9dGhpcy5yb3RhdGU/YT90aGlzLnZSZXNpemVDdXJzb3JEb3duOnRoaXMudlJlc2l6ZUN1cnNvckhvdmVyOmE/dGhpcy5oUmVzaXplQ3Vyc29yRG93bjp0aGlzLmhSZXNpemVDdXJzb3JIb3ZlcikmJih0aGlzLmljb25SaWdodCYmKHRoaXMuaWNvblJpZ2h0Lm5vZGUuc3R5bGUuY3NzVGV4dD1hKSx0aGlzLmljb25MZWZ0JiYodGhpcy5pY29uTGVmdC5ub2RlLnN0eWxlLmNzc1RleHQ9YSkpfSxsZWZ0RHJhZ1N0b3A6ZnVuY3Rpb24oKXt0aGlzLnJlc2l6aW5nTGVmdCYmKHRoaXMucmVzaXppbmdMZWZ0PSExLHRoaXMubW91c2VJc092ZXJ8fHRoaXMucmVtb3ZlQ3Vyc29ycygpLHRoaXMudXBkYXRlT25SZWxlYXNlKCksdGhpcy5maXJlWm9vbUV2ZW50KCJ6b29tRW5kZWQiKSk7dGhpcy51cGRhdGVHcmlwQ3Vyc29yKCExKX0scmlnaHREcmFnU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLmZpcmVab29tRXZlbnQoInpvb21TdGFydGVkIik7dGhpcy5kcmFnZ2VyLnN0b3AoKTt0aGlzLnJlc2l6aW5nUmlnaHQ9DQohMDt0aGlzLnVwZGF0ZUdyaXBDdXJzb3IoITApfSxyaWdodERyYWdTdG9wOmZ1bmN0aW9uKCl7dGhpcy5yZXNpemluZ1JpZ2h0JiYodGhpcy5yZXNpemluZ1JpZ2h0PSExLHRoaXMubW91c2VJc092ZXJ8fHRoaXMucmVtb3ZlQ3Vyc29ycygpLHRoaXMudXBkYXRlT25SZWxlYXNlKCksdGhpcy5maXJlWm9vbUV2ZW50KCJ6b29tRW5kZWQiKSk7dGhpcy51cGRhdGVHcmlwQ3Vyc29yKCExKX0saWNvblJvbGxPdXQ6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUN1cnNvcnMoKX0saWNvblJvbGxPdmVyOmZ1bmN0aW9uKCl7dGhpcy5yb3RhdGU/dGhpcy52UmVzaXplQ3Vyc29yJiZ0aGlzLmNoYXJ0LnNldE1vdXNlQ3Vyc29yKHRoaXMudlJlc2l6ZUN1cnNvcik6dGhpcy5oUmVzaXplQ3Vyc29yJiZ0aGlzLmNoYXJ0LnNldE1vdXNlQ3Vyc29yKHRoaXMuaFJlc2l6ZUN1cnNvcik7dGhpcy5oYW5kbGVNb3VzZU92ZXIoKX0sZ2V0REJveDpmdW5jdGlvbigpe2lmKHRoaXMuZHJhZ2dlcilyZXR1cm4gdGhpcy5kcmFnZ2VyLmdldEJCb3goKX0sDQpoYW5kbGVCZ0NsaWNrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5yZXNpemluZ1JpZ2h0JiYhYS5yZXNpemluZ0xlZnQpe2Euem9vbWluZz0hMDt2YXIgYixjLGU9YS5zY3JvbGxEdXJhdGlvbixnPWEuZHJhZ2dlcjtiPWEuZ2V0REJveCgpO3ZhciBmPWIuaGVpZ2h0LGg9Yi53aWR0aDtjPWEuY2hhcnQ7dmFyIGs9YS55LGw9YS54LG09YS5yb3RhdGU7bT8oYj0ieSIsYz1jLm1vdXNlWS1mLzItayxjPWQuZml0VG9Cb3VuZHMoYywwLGEuaGVpZ2h0LWYpKTooYj0ieCIsYz1jLm1vdXNlWC1oLzItbCxjPWQuZml0VG9Cb3VuZHMoYywwLGEud2lkdGgtaCkpO2EudXBkYXRlT25SZWxlYXNlT25seT8oYS5za2lwRXZlbnQ9ITEsZy5zZXRBdHRyKGIsYyksYS5kaXNwYXRjaFNjcm9sbGJhckV2ZW50KCksYS5jbGlwRHJhZ2dlcigpKTooYS5hbmltYXRpbmc9ITAsYz1NYXRoLnJvdW5kKGMpLG0/Zy5hbmltYXRlKHt5OmN9LGUsIj4iKTpnLmFuaW1hdGUoe3g6Y30sZSwiPiIpLGEuZm9yY2VDbGlwPQ0KITAsY2xlYXJUaW1lb3V0KGEuZm9yY2VUTyksYS5mb3JjZVRPPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnN0b3BGb3JjZUNsaXAuY2FsbChhKX0sNUUzKmUpKX19LHVwZGF0ZU9uUmVsZWFzZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlT25SZWxlYXNlT25seSYmKHRoaXMudXBkYXRlKCksdGhpcy5za2lwRXZlbnQ9ITEsdGhpcy5kaXNwYXRjaFNjcm9sbGJhckV2ZW50KCkpfSxoYW5kbGVSZWxlYXNlT3V0c2lkZTpmdW5jdGlvbigpe2lmKHRoaXMuc2V0KXtpZih0aGlzLnJlc2l6aW5nTGVmdHx8dGhpcy5yZXNpemluZ1JpZ2h0fHx0aGlzLmRyYWdnaW5nKXRoaXMuZHJhZ2dpbmc9dGhpcy5yZXNpemluZ1JpZ2h0PXRoaXMucmVzaXppbmdMZWZ0PSExLHRoaXMudXBkYXRlT25SZWxlYXNlKCksdGhpcy5yZW1vdmVDdXJzb3JzKCk7dGhpcy5hbmltYXRpbmc9dGhpcy5tb3VzZUlzT3Zlcj0hMTt0aGlzLmhpZGVEcmFnSWNvbnMoKTt0aGlzLnVwZGF0ZSgpfX0saGFuZGxlTW91c2VPdmVyOmZ1bmN0aW9uKCl7dGhpcy5tb3VzZUlzT3Zlcj0NCiEwO3RoaXMuc2hvd0RyYWdJY29ucygpfSxoYW5kbGVNb3VzZU91dDpmdW5jdGlvbigpe3RoaXMubW91c2VJc092ZXI9ITE7dGhpcy5oaWRlRHJhZ0ljb25zKCk7dGhpcy5yZW1vdmVDdXJzb3JzKCl9fSl9KSgpOyhmdW5jdGlvbigpe3ZhciBkPXdpbmRvdy5BbUNoYXJ0cztkLkNoYXJ0U2Nyb2xsYmFyPWQuQ2xhc3Moe2luaGVyaXRzOmQuU2ltcGxlQ2hhcnRTY3JvbGxiYXIsY29uc3RydWN0OmZ1bmN0aW9uKGEpe3RoaXMuY25hbWU9IkNoYXJ0U2Nyb2xsYmFyIjtkLkNoYXJ0U2Nyb2xsYmFyLmJhc2UuY29uc3RydWN0LmNhbGwodGhpcyxhKTt0aGlzLmdyYXBoTGluZUNvbG9yPSIjQkJCQkJCIjt0aGlzLmdyYXBoTGluZUFscGhhPTA7dGhpcy5ncmFwaEZpbGxDb2xvcj0iI0JCQkJCQiI7dGhpcy5ncmFwaEZpbGxBbHBoYT0xO3RoaXMuc2VsZWN0ZWRHcmFwaExpbmVDb2xvcj0iIzg4ODg4OCI7dGhpcy5zZWxlY3RlZEdyYXBoTGluZUFscGhhPTA7dGhpcy5zZWxlY3RlZEdyYXBoRmlsbENvbG9yPSIjODg4ODg4Ijt0aGlzLnNlbGVjdGVkR3JhcGhGaWxsQWxwaGE9MTt0aGlzLmdyaWRDb3VudD0wO3RoaXMuZ3JpZENvbG9yPSIjRkZGRkZGIjt0aGlzLmdyaWRBbHBoYT0uNzt0aGlzLnNraXBFdmVudD0NCnRoaXMuYXV0b0dyaWRDb3VudD0hMTt0aGlzLmNvbG9yPSIjRkZGRkZGIjt0aGlzLnNjcm9sbGJhckNyZWF0ZWQ9ITE7dGhpcy5vcHBvc2l0ZUF4aXM9ITA7dGhpcy5hY2Nlc3NpYmxlTGFiZWw9Ilpvb20gY2hhcnQgdXNpbmcgY3Vyc29yIGFycm93cyI7ZC5hcHBseVRoZW1lKHRoaXMsYSx0aGlzLmNuYW1lKX0saW5pdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2F0ZWdvcnlBeGlzLGI9dGhpcy5jaGFydCxjPXRoaXMuZ3JpZEF4aXM7YXx8KCJDYXRlZ29yeUF4aXMiPT10aGlzLmdyaWRBeGlzLmNuYW1lPyh0aGlzLmNhdFNjcm9sbGJhcj0hMCxhPW5ldyBkLkNhdGVnb3J5QXhpcyxhLmlkPSJzY3JvbGxiYXIiKTooYT1uZXcgZC5WYWx1ZUF4aXMsYS5kYXRhPWIuY2hhcnREYXRhLGEuaWQ9Yy5pZCxhLnR5cGU9Yy50eXBlLGEubWF4aW11bURhdGU9Yy5tYXhpbXVtRGF0ZSxhLm1pbmltdW1EYXRlPWMubWluaW11bURhdGUsYS5taW5QZXJpb2Q9Yy5taW5QZXJpb2QsYS5taW5NYXhGaWVsZD0NCmMubWluTWF4RmllbGQpLHRoaXMuY2F0ZWdvcnlBeGlzPWEpO2EuY2hhcnQ9Yjt2YXIgZT1iLmNhdGVnb3J5QXhpcztlJiYoYS5maXJzdERheU9mV2Vlaz1lLmZpcnN0RGF5T2ZXZWVrKTthLmRhdGVGb3JtYXRzPWMuZGF0ZUZvcm1hdHM7YS5tYXJrUGVyaW9kQ2hhbmdlPWMubWFya1BlcmlvZENoYW5nZTthLmJvbGRQZXJpb2RCZWdpbm5pbmc9Yy5ib2xkUGVyaW9kQmVnaW5uaW5nO2EubGFiZWxGdW5jdGlvbj1jLmxhYmVsRnVuY3Rpb247YS5heGlzSXRlbVJlbmRlcmVyPWQuUmVjSXRlbTthLmF4aXNSZW5kZXJlcj1kLlJlY0F4aXM7YS5ndWlkZUZpbGxSZW5kZXJlcj1kLlJlY0ZpbGw7YS5pbnNpZGU9ITA7YS5mb250U2l6ZT10aGlzLmZvbnRTaXplO2EudGlja0xlbmd0aD0wO2EuYXhpc0FscGhhPTA7ZC5pc1N0cmluZyh0aGlzLmdyYXBoKSYmKHRoaXMuZ3JhcGg9ZC5nZXRPYmpCeUlkKGIuZ3JhcGhzLHRoaXMuZ3JhcGgpKTsoYT10aGlzLmdyYXBoKSYmdGhpcy5jYXRTY3JvbGxiYXImJg0KKGM9dGhpcy52YWx1ZUF4aXMsY3x8KHRoaXMudmFsdWVBeGlzPWM9bmV3IGQuVmFsdWVBeGlzLGMudmlzaWJsZT0hMSxjLnNjcm9sbGJhcj0hMCxjLmF4aXNJdGVtUmVuZGVyZXI9ZC5SZWNJdGVtLGMuYXhpc1JlbmRlcmVyPWQuUmVjQXhpcyxjLmd1aWRlRmlsbFJlbmRlcmVyPWQuUmVjRmlsbCxjLmxhYmVsc0VuYWJsZWQ9ITEsYy5jaGFydD1iKSxiPXRoaXMudW5zZWxlY3RlZEdyYXBoLGJ8fChiPW5ldyBkLkFtR3JhcGgsYi5zY3JvbGxiYXI9ITAsdGhpcy51bnNlbGVjdGVkR3JhcGg9YixiLm5lZ2F0aXZlQmFzZT1hLm5lZ2F0aXZlQmFzZSxiLm5vU3RlcFJpc2Vycz1hLm5vU3RlcFJpc2VycyksYj10aGlzLnNlbGVjdGVkR3JhcGgsYnx8KGI9bmV3IGQuQW1HcmFwaCxiLnNjcm9sbGJhcj0hMCx0aGlzLnNlbGVjdGVkR3JhcGg9YixiLm5lZ2F0aXZlQmFzZT1hLm5lZ2F0aXZlQmFzZSxiLm5vU3RlcFJpc2Vycz1hLm5vU3RlcFJpc2VycykpO3RoaXMuc2Nyb2xsYmFyQ3JlYXRlZD0hMH0sDQpkcmF3OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkLkNoYXJ0U2Nyb2xsYmFyLmJhc2UuZHJhdy5jYWxsKGEpO2lmKGEuZW5hYmxlZCl7YS5zY3JvbGxiYXJDcmVhdGVkfHxhLmluaXQoKTt2YXIgYj1hLmNoYXJ0LGM9Yi5jaGFydERhdGEsZT1hLmNhdGVnb3J5QXhpcyxnPWEucm90YXRlLGY9YS54LGg9YS55LGs9YS53aWR0aCxsPWEuaGVpZ2h0LG09YS5ncmlkQXhpcyxuPWEuc2V0O2Uuc2V0T3JpZW50YXRpb24oIWcpO2UucGFyc2VEYXRlcz1tLnBhcnNlRGF0ZXM7IlZhbHVlQXhpcyI9PWEuY2F0ZWdvcnlBeGlzLmNuYW1lJiYoZS5yb3RhdGU9IWcpO2UuZXF1YWxTcGFjaW5nPW0uZXF1YWxTcGFjaW5nO2UubWluUGVyaW9kPW0ubWluUGVyaW9kO2Uuc3RhcnRPbkF4aXM9bS5zdGFydE9uQXhpcztlLndpZHRoPWstMTtlLmhlaWdodD1sO2UuZ3JpZENvdW50PWEuZ3JpZENvdW50O2UuZ3JpZENvbG9yPWEuZ3JpZENvbG9yO2UuZ3JpZEFscGhhPWEuZ3JpZEFscGhhO2UuY29sb3I9YS5jb2xvcjsNCmUudGlja0xlbmd0aD0wO2UuYXhpc0FscGhhPTA7ZS5hdXRvR3JpZENvdW50PWEuYXV0b0dyaWRDb3VudDtlLnBhcnNlRGF0ZXMmJiFlLmVxdWFsU3BhY2luZyYmZS50aW1lWm9vbShiLmZpcnN0VGltZSxiLmxhc3RUaW1lKTtlLm1pbmltdW09YS5ncmlkQXhpcy5mdWxsTWluO2UubWF4aW11bT1hLmdyaWRBeGlzLmZ1bGxNYXg7ZS5zdHJpY3RNaW5NYXg9ITA7ZS56b29tKDAsYy5sZW5ndGgtMSk7aWYoKG09YS5ncmFwaCkmJmEuY2F0U2Nyb2xsYmFyKXt2YXIgcT1hLnZhbHVlQXhpcyxwPW0udmFsdWVBeGlzO3EuaWQ9cC5pZDtxLnJvdGF0ZT1nO3Euc2V0T3JpZW50YXRpb24oZyk7cS53aWR0aD1rO3EuaGVpZ2h0PWw7cS5kYXRhUHJvdmlkZXI9YztxLnJldmVyc2VkPXAucmV2ZXJzZWQ7cS5sb2dhcml0aG1pYz1wLmxvZ2FyaXRobWljO3EuZ3JpZEFscGhhPTA7cS5heGlzQWxwaGE9MDtuLnB1c2gocS5zZXQpO2c/KHEueT1oLHEueD0wKToocS54PWYscS55PTApO3ZhciBmPUluZmluaXR5LA0KaD0tSW5maW5pdHksdDtmb3IodD0wO3Q8Yy5sZW5ndGg7dCsrKXt2YXIgcj1jW3RdLmF4ZXNbcC5pZF0uZ3JhcGhzW20uaWRdLnZhbHVlcyx3O2Zvcih3IGluIHIpaWYoci5oYXNPd25Qcm9wZXJ0eSh3KSYmInBlcmNlbnRzIiE9dyYmInRvdGFsIiE9dyl7dmFyIHo9clt3XTt6PGYmJihmPXopO3o+aCYmKGg9eil9fUluZmluaXR5IT1mJiYocS5taW5pbXVtPWYpOy1JbmZpbml0eSE9aCYmKHEubWF4aW11bT1oKy4xKihoLWYpKTtmPT1oJiYoLS1xLm1pbmltdW0scS5tYXhpbXVtKz0xKTt2b2lkIDAhPT1hLm1pbmltdW0mJihxLm1pbmltdW09YS5taW5pbXVtKTt2b2lkIDAhPT1hLm1heGltdW0mJihxLm1heGltdW09YS5tYXhpbXVtKTtxLnpvb20oMCxjLmxlbmd0aC0xKTt3PWEudW5zZWxlY3RlZEdyYXBoO3cuaWQ9bS5pZDt3LmJjbj0ic2Nyb2xsYmFyLWdyYXBoLSI7dy5yb3RhdGU9Zzt3LmNoYXJ0PWI7dy5kYXRhPWM7dy52YWx1ZUF4aXM9cTt3LmNoYXJ0PW0uY2hhcnQ7dy5jYXRlZ29yeUF4aXM9DQphLmNhdGVnb3J5QXhpczt3LnBlcmlvZFNwYW49bS5wZXJpb2RTcGFuO3cudmFsdWVGaWVsZD1tLnZhbHVlRmllbGQ7dy5vcGVuRmllbGQ9bS5vcGVuRmllbGQ7dy5jbG9zZUZpZWxkPW0uY2xvc2VGaWVsZDt3LmhpZ2hGaWVsZD1tLmhpZ2hGaWVsZDt3Lmxvd0ZpZWxkPW0ubG93RmllbGQ7dy5saW5lQWxwaGE9YS5ncmFwaExpbmVBbHBoYTt3LmxpbmVDb2xvclI9YS5ncmFwaExpbmVDb2xvcjt3LmZpbGxBbHBoYXM9YS5ncmFwaEZpbGxBbHBoYTt3LmZpbGxDb2xvcnNSPWEuZ3JhcGhGaWxsQ29sb3I7dy5jb25uZWN0PW0uY29ubmVjdDt3LmhpZGRlbj1tLmhpZGRlbjt3LndpZHRoPWs7dy5oZWlnaHQ9bDt3LnBvaW50UG9zaXRpb249bS5wb2ludFBvc2l0aW9uO3cuc3RlcERpcmVjdGlvbj1tLnN0ZXBEaXJlY3Rpb247dy5wZXJpb2RTcGFuPW0ucGVyaW9kU3BhbjtwPWEuc2VsZWN0ZWRHcmFwaDtwLmlkPW0uaWQ7cC5iY249dy5iY24rInNlbGVjdGVkLSI7cC5yb3RhdGU9ZztwLmNoYXJ0PQ0KYjtwLmRhdGE9YztwLnZhbHVlQXhpcz1xO3AuY2hhcnQ9bS5jaGFydDtwLmNhdGVnb3J5QXhpcz1lO3AucGVyaW9kU3Bhbj1tLnBlcmlvZFNwYW47cC52YWx1ZUZpZWxkPW0udmFsdWVGaWVsZDtwLm9wZW5GaWVsZD1tLm9wZW5GaWVsZDtwLmNsb3NlRmllbGQ9bS5jbG9zZUZpZWxkO3AuaGlnaEZpZWxkPW0uaGlnaEZpZWxkO3AubG93RmllbGQ9bS5sb3dGaWVsZDtwLmxpbmVBbHBoYT1hLnNlbGVjdGVkR3JhcGhMaW5lQWxwaGE7cC5saW5lQ29sb3JSPWEuc2VsZWN0ZWRHcmFwaExpbmVDb2xvcjtwLmZpbGxBbHBoYXM9YS5zZWxlY3RlZEdyYXBoRmlsbEFscGhhO3AuZmlsbENvbG9yc1I9YS5zZWxlY3RlZEdyYXBoRmlsbENvbG9yO3AuY29ubmVjdD1tLmNvbm5lY3Q7cC5oaWRkZW49bS5oaWRkZW47cC53aWR0aD1rO3AuaGVpZ2h0PWw7cC5wb2ludFBvc2l0aW9uPW0ucG9pbnRQb3NpdGlvbjtwLnN0ZXBEaXJlY3Rpb249bS5zdGVwRGlyZWN0aW9uO3AucGVyaW9kU3Bhbj1tLnBlcmlvZFNwYW47DQpiPWEuZ3JhcGhUeXBlO2J8fChiPW0udHlwZSk7dy50eXBlPWI7cC50eXBlPWI7Yz1jLmxlbmd0aC0xO3cuem9vbSgwLGMpO3Auem9vbSgwLGMpO3Auc2V0LmNsaWNrKGZ1bmN0aW9uKCl7YS5oYW5kbGVCYWNrZ3JvdW5kQ2xpY2soKX0pLm1vdXNlb3ZlcihmdW5jdGlvbigpe2EuaGFuZGxlTW91c2VPdmVyKCl9KS5tb3VzZW91dChmdW5jdGlvbigpe2EuaGFuZGxlTW91c2VPdXQoKX0pO3cuc2V0LmNsaWNrKGZ1bmN0aW9uKCl7YS5oYW5kbGVCYWNrZ3JvdW5kQ2xpY2soKX0pLm1vdXNlb3ZlcihmdW5jdGlvbigpe2EuaGFuZGxlTW91c2VPdmVyKCl9KS5tb3VzZW91dChmdW5jdGlvbigpe2EuaGFuZGxlTW91c2VPdXQoKX0pO24ucHVzaCh3LnNldCk7bi5wdXNoKHAuc2V0KX1uLnB1c2goZS5zZXQpO24ucHVzaChlLmxhYmVsc1NldCk7YS5iZy50b0JhY2soKTthLmludmlzaWJsZUJnLnRvRnJvbnQoKTthLmRyYWdnZXIudG9Gcm9udCgpO2EuaWNvbkxlZnQudG9Gcm9udCgpO2EuaWNvblJpZ2h0LnRvRnJvbnQoKX19LA0KdGltZVpvb206ZnVuY3Rpb24oYSxiLGMpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy50aW1lRGlmZmVyZW5jZT1iLWE7dGhpcy5za2lwRXZlbnQ9IWQudG9Cb29sZWFuKGMpO3RoaXMuem9vbVNjcm9sbGJhcigpO3RoaXMuZGlzcGF0Y2hTY3JvbGxiYXJFdmVudCgpfSx6b29tOmZ1bmN0aW9uKGEsYil7dGhpcy5zdGFydD1hO3RoaXMuZW5kPWI7dGhpcy5za2lwRXZlbnQ9ITA7dGhpcy56b29tU2Nyb2xsYmFyKCl9LGRpc3BhdGNoU2Nyb2xsYmFyRXZlbnQ6ZnVuY3Rpb24oKXtpZih0aGlzLmNhdGVnb3J5QXhpcyYmIlZhbHVlQXhpcyI9PXRoaXMuY2F0ZWdvcnlBeGlzLmNuYW1lKWQuQ2hhcnRTY3JvbGxiYXIuYmFzZS5kaXNwYXRjaFNjcm9sbGJhckV2ZW50LmNhbGwodGhpcyk7ZWxzZSBpZih0aGlzLnNraXBFdmVudCl0aGlzLnNraXBFdmVudD0hMTtlbHNle3ZhciBhPXRoaXMuY2hhcnQuY2hhcnREYXRhLGIsYyxlPXRoaXMuZHJhZ2dlci5nZXRCQm94KCk7Yj1lLng7DQp2YXIgZz1lLnksZj1lLndpZHRoLGU9ZS5oZWlnaHQsaD10aGlzLmNoYXJ0O3RoaXMucm90YXRlPyhiPWcsYz1lKTpjPWY7Zj17dHlwZToiem9vbWVkIix0YXJnZXQ6dGhpc307Zi5jaGFydD1oO3ZhciBrPXRoaXMuY2F0ZWdvcnlBeGlzLGw9dGhpcy5zdGVwV2lkdGgsZz1oLm1pblNlbGVjdGVkVGltZSxlPWgubWF4U2VsZWN0ZWRUaW1lLG09ITE7aWYoay5wYXJzZURhdGVzJiYhay5lcXVhbFNwYWNpbmcpe2lmKGE9aC5sYXN0VGltZSxoPWguZmlyc3RUaW1lLGs9TWF0aC5yb3VuZChiL2wpK2gsYj10aGlzLmRyYWdnaW5nP2srdGhpcy50aW1lRGlmZmVyZW5jZTpNYXRoLnJvdW5kKChiK2MpL2wpK2gsaz5iJiYoaz1iKSwwPGcmJmItazxnJiYoYj1NYXRoLnJvdW5kKGsrKGItaykvMiksbT1NYXRoLnJvdW5kKGcvMiksaz1iLW0sYis9bSxtPSEwKSwwPGUmJmItaz5lJiYoYj1NYXRoLnJvdW5kKGsrKGItaykvMiksbT1NYXRoLnJvdW5kKGUvMiksaz1iLW0sYis9bSxtPSEwKSxiPmEmJihiPQ0KYSksYi1nPGsmJihrPWItZyksazxoJiYoaz1oKSxrK2c+YiYmKGI9aytnKSxrIT10aGlzLnN0YXJ0VGltZXx8YiE9dGhpcy5lbmRUaW1lKXRoaXMuc3RhcnRUaW1lPWssdGhpcy5lbmRUaW1lPWIsZi5zdGFydD1rLGYuZW5kPWIsZi5zdGFydERhdGU9bmV3IERhdGUoayksZi5lbmREYXRlPW5ldyBEYXRlKGIpLHRoaXMuZmlyZShmKX1lbHNle2suc3RhcnRPbkF4aXN8fChiKz1sLzIpO2MtPXRoaXMuc3RlcFdpZHRoLzI7Zz1rLnhUb0luZGV4KGIpO2I9ay5nZXRDb29yZGluYXRlKGcpLXRoaXMuc3RlcFdpZHRoLzI7Yj1rLnhUb0luZGV4KGIrYyk7aWYoZyE9dGhpcy5zdGFydHx8dGhpcy5lbmQhPWIpay5zdGFydE9uQXhpcyYmKHRoaXMucmVzaXppbmdSaWdodCYmZz09YiYmYisrLHRoaXMucmVzaXppbmdMZWZ0JiZnPT1iJiYoMDxnP2ctLTpiPTEpKSx0aGlzLnN0YXJ0PWcsdGhpcy5lbmQ9dGhpcy5kcmFnZ2luZz90aGlzLnN0YXJ0K3RoaXMuZGlmZmVyZW5jZTpiLGYuc3RhcnQ9dGhpcy5zdGFydCwNCmYuZW5kPXRoaXMuZW5kLGsucGFyc2VEYXRlcyYmKGFbdGhpcy5zdGFydF0mJihmLnN0YXJ0RGF0ZT1uZXcgRGF0ZShhW3RoaXMuc3RhcnRdLnRpbWUpKSxhW3RoaXMuZW5kXSYmKGYuZW5kRGF0ZT1uZXcgRGF0ZShhW3RoaXMuZW5kXS50aW1lKSkpLHRoaXMuZmlyZShmKTt0aGlzLnBlcmNlbnRTdGFydD1nO3RoaXMucGVyY2VudEVuZD1ifW0mJnRoaXMuem9vbVNjcm9sbGJhcighMCl9fSx6b29tU2Nyb2xsYmFyOmZ1bmN0aW9uKGEpe2lmKCghKHRoaXMuZHJhZ2dpbmd8fHRoaXMucmVzaXppbmdMZWZ0fHx0aGlzLnJlc2l6aW5nUmlnaHR8fHRoaXMuYW5pbWF0aW5nKXx8YSkmJnRoaXMuZHJhZ2dlciYmdGhpcy5lbmFibGVkKXt2YXIgYixjLGQ9dGhpcy5jaGFydDthPWQuY2hhcnREYXRhO3ZhciBnPXRoaXMuY2F0ZWdvcnlBeGlzO2cucGFyc2VEYXRlcyYmIWcuZXF1YWxTcGFjaW5nPyhhPWcuc3RlcFdpZHRoLGM9ZC5maXJzdFRpbWUsYj1hKih0aGlzLnN0YXJ0VGltZS1jKSxjPWEqKHRoaXMuZW5kVGltZS0NCmMpKTooYVt0aGlzLnN0YXJ0XSYmKGI9YVt0aGlzLnN0YXJ0XS54W2cuaWRdKSxhW3RoaXMuZW5kXSYmKGM9YVt0aGlzLmVuZF0ueFtnLmlkXSksYT1nLnN0ZXBXaWR0aCxnLnN0YXJ0T25BeGlzfHwoZD1hLzIsYi09ZCxjKz1kKSk7dGhpcy5zdGVwV2lkdGg9YTtpc05hTihiKXx8aXNOYU4oYyl8fHRoaXMudXBkYXRlU2Nyb2xsYmFyU2l6ZShiLGMpfX0sbWFza0dyYXBoczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZz10aGlzLnNlbGVjdGVkR3JhcGg7ZyYmZy5zZXQuY2xpcFJlY3QoYSxiLGMsZCl9LGhhbmRsZURyYWdTdGFydDpmdW5jdGlvbigpe2QuQ2hhcnRTY3JvbGxiYXIuYmFzZS5oYW5kbGVEcmFnU3RhcnQuY2FsbCh0aGlzKTt0aGlzLmRpZmZlcmVuY2U9dGhpcy5lbmQtdGhpcy5zdGFydDt0aGlzLnRpbWVEaWZmZXJlbmNlPXRoaXMuZW5kVGltZS10aGlzLnN0YXJ0VGltZTswPnRoaXMudGltZURpZmZlcmVuY2UmJih0aGlzLnRpbWVEaWZmZXJlbmNlPTApfSxoYW5kbGVCYWNrZ3JvdW5kQ2xpY2s6ZnVuY3Rpb24oKXtkLkNoYXJ0U2Nyb2xsYmFyLmJhc2UuaGFuZGxlQmFja2dyb3VuZENsaWNrLmNhbGwodGhpcyk7DQp0aGlzLmRyYWdnaW5nfHwodGhpcy5kaWZmZXJlbmNlPXRoaXMuZW5kLXRoaXMuc3RhcnQsdGhpcy50aW1lRGlmZmVyZW5jZT10aGlzLmVuZFRpbWUtdGhpcy5zdGFydFRpbWUsMD50aGlzLnRpbWVEaWZmZXJlbmNlJiYodGhpcy50aW1lRGlmZmVyZW5jZT0wKSl9fSl9KSgpOyhmdW5jdGlvbigpe3ZhciBkPXdpbmRvdy5BbUNoYXJ0cztkLkFtQmFsbG9vbj1kLkNsYXNzKHtjb25zdHJ1Y3Q6ZnVuY3Rpb24oYSl7dGhpcy5jbmFtZT0iQW1CYWxsb29uIjt0aGlzLmVuYWJsZWQ9ITA7dGhpcy5maWxsQ29sb3I9IiNGRkZGRkYiO3RoaXMuZmlsbEFscGhhPS44O3RoaXMuYm9yZGVyVGhpY2tuZXNzPTI7dGhpcy5ib3JkZXJDb2xvcj0iI0ZGRkZGRiI7dGhpcy5ib3JkZXJBbHBoYT0xO3RoaXMuY29ybmVyUmFkaXVzPTA7dGhpcy5tYXhXaWR0aD0yMjA7dGhpcy5ob3Jpem9udGFsUGFkZGluZz04O3RoaXMudmVydGljYWxQYWRkaW5nPTQ7dGhpcy5wb2ludGVyV2lkdGg9Njt0aGlzLnBvaW50ZXJPcmllbnRhdGlvbj0iViI7dGhpcy5jb2xvcj0iIzAwMDAwMCI7dGhpcy5hZGp1c3RCb3JkZXJDb2xvcj0hMDt0aGlzLnNob3c9dGhpcy5mb2xsb3c9dGhpcy5zaG93QnVsbGV0PSExO3RoaXMuYnVsbGV0U2l6ZT0zO3RoaXMuc2hhZG93QWxwaGE9LjQ7dGhpcy5zaGFkb3dDb2xvcj0NCiIjMDAwMDAwIjt0aGlzLmZhZGVPdXREdXJhdGlvbj10aGlzLmFuaW1hdGlvbkR1cmF0aW9uPS4zO3RoaXMuZml4ZWRQb3NpdGlvbj0hMDt0aGlzLm9mZnNldFk9Njt0aGlzLm9mZnNldFg9MTt0aGlzLnRleHRBbGlnbj0iY2VudGVyIjt0aGlzLmRpc2FibGVNb3VzZUV2ZW50cz0hMDt0aGlzLmRlbHRhU2lnblg9dGhpcy5kZWx0YVNpZ25ZPTE7ZC5pc01vZGVybnx8KHRoaXMub2Zmc2V0WSo9MS41KTt0aGlzLnNkeT10aGlzLnNkeD0wO2QuYXBwbHlUaGVtZSh0aGlzLGEsdGhpcy5jbmFtZSl9LGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBvaW50VG9YLGI9dGhpcy5wb2ludFRvWTtkLmlzTW9kZXJufHwodGhpcy5kcm9wPSExKTt2YXIgYz10aGlzLmNoYXJ0O2QuVk1MJiYodGhpcy5mYWRlT3V0RHVyYXRpb249MCk7dGhpcy54QW5pbSYmYy5zdG9wQW5pbSh0aGlzLnhBbmltKTt0aGlzLnlBbmltJiZjLnN0b3BBbmltKHRoaXMueUFuaW0pO3RoaXMuc2R5PXRoaXMuc2R4PTA7aWYoIWlzTmFOKGEpKXt2YXIgZT0NCnRoaXMuZm9sbG93LGc9Yy5jb250YWluZXIsZj10aGlzLnNldDtkLnJlbW92ZShmKTt0aGlzLnJlbW92ZURpdigpO2Y9Zy5zZXQoKTtmLm5vZGUuc3R5bGUucG9pbnRlckV2ZW50cz0ibm9uZSI7dGhpcy5zZXQ9Zjt0aGlzLm1haW5TZXQ/KHRoaXMubWFpblNldC5wdXNoKHRoaXMuc2V0KSx0aGlzLnNkeD10aGlzLm1haW5TZXQueCx0aGlzLnNkeT10aGlzLm1haW5TZXQueSk6Yy5iYWxsb29uc1NldC5wdXNoKGYpO2lmKHRoaXMuc2hvdyl7dmFyIGg9dGhpcy5sLGs9dGhpcy50LGw9dGhpcy5yLG09dGhpcy5iLG49dGhpcy5iYWxsb29uQ29sb3IscT10aGlzLmZpbGxDb2xvcixwPXRoaXMuYm9yZGVyQ29sb3IsdD1xO3ZvaWQgMCE9biYmKHRoaXMuYWRqdXN0Qm9yZGVyQ29sb3I/dD1wPW46cT1uKTt2YXIgcj10aGlzLmhvcml6b250YWxQYWRkaW5nLHc9dGhpcy52ZXJ0aWNhbFBhZGRpbmcsej10aGlzLnBvaW50ZXJXaWR0aCx4PXRoaXMucG9pbnRlck9yaWVudGF0aW9uLHU9dGhpcy5jb3JuZXJSYWRpdXMsDQpBPWMuZm9udEZhbWlseSx5PXRoaXMuZm9udFNpemU7dm9pZCAwPT15JiYoeT1jLmZvbnRTaXplKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxCPWMuY2xhc3NOYW1lUHJlZml4O24uY2xhc3NOYW1lPUIrIi1iYWxsb29uLWRpdiI7dGhpcy5jbGFzc05hbWUmJihuLmNsYXNzTmFtZT1uLmNsYXNzTmFtZSsiICIrQisiLWJhbGxvb24tZGl2LSIrdGhpcy5jbGFzc05hbWUpO0I9bi5zdHlsZTt0aGlzLmRpc2FibGVNb3VzZUV2ZW50cyYmKEIucG9pbnRlckV2ZW50cz0ibm9uZSIpO0IucG9zaXRpb249ImFic29sdXRlIjt2YXIgRD10aGlzLm1pbldpZHRoLEM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5hcHBlbmRDaGlsZChDKTt2YXIgST1DLnN0eWxlO2lzTmFOKEQpfHwoSS5taW5XaWR0aD1ELTIqcisicHgiKTtJLnRleHRBbGlnbj10aGlzLnRleHRBbGlnbjtJLm1heFdpZHRoPXRoaXMubWF4V2lkdGgrInB4IjtJLmZvbnRTaXplPXkrInB4IjtJLmNvbG9yPQ0KdGhpcy5jb2xvcjtJLmZvbnRGYW1pbHk9QTtDLmlubmVySFRNTD10aGlzLnRleHQ7Yy5jaGFydERpdi5hcHBlbmRDaGlsZChuKTt0aGlzLnRleHREaXY9bjt2YXIgST1uLm9mZnNldFdpZHRoLEg9bi5vZmZzZXRIZWlnaHQ7bi5jbGllbnRIZWlnaHQmJihJPW4uY2xpZW50V2lkdGgsSD1uLmNsaWVudEhlaWdodCk7QT1IKzIqdztDPUkrMipyOyFpc05hTihEKSYmQzxEJiYoQz1EKTt3aW5kb3cub3BlcmEmJihBKz0yKTt2YXIgUT0hMSx5PXRoaXMub2Zmc2V0WTtjLmhhbmREcmF3biYmKHkrPWMuaGFuZERyYXdTY2F0dGVyKzIpOyJIIiE9eD8oRD1hLUMvMixiPGsrQSsxMCYmImRvd24iIT14PyhRPSEwLGUmJihiKz15KSx5PWIreix0aGlzLmRlbHRhU2lnblk9LTEpOihlJiYoYi09eSkseT1iLUEteix0aGlzLmRlbHRhU2lnblk9MSkpOigyKno+QSYmKHo9QS8yKSx5PWItQS8yLGE8aCsobC1oKS8yPyhEPWEreix0aGlzLmRlbHRhU2lnblg9LTEpOihEPWEtQy16LHRoaXMuZGVsdGFTaWduWD0NCjEpKTt5K0E+PW0mJih5PW0tQSk7eTxrJiYoeT1rKTtEPGgmJihEPWgpO0QrQz5sJiYoRD1sLUMpO3ZhciBrPXkrdyxtPUQrcixNPXRoaXMuc2hhZG93QWxwaGEsUD10aGlzLnNoYWRvd0NvbG9yLHI9dGhpcy5ib3JkZXJUaGlja25lc3MsaWE9dGhpcy5idWxsZXRTaXplLEosdz10aGlzLmZpbGxBbHBoYSxhYT10aGlzLmJvcmRlckFscGhhO3RoaXMuc2hvd0J1bGxldCYmKEo9ZC5jaXJjbGUoZyxpYSx0LHcpLGYucHVzaChKKSk7dGhpcy5kcm9wPyhoPUMvMS42LGw9MCwiViI9PXgmJih4PSJkb3duIiksIkgiPT14JiYoeD0ibGVmdCIpLCJkb3duIj09eCYmKEQ9YSsxLHk9Yi1oLWgvMyksInVwIj09eCYmKGw9MTgwLEQ9YSsxLHk9YitoK2gvMyksImxlZnQiPT14JiYobD0yNzAsRD1hK2graC8zKzIseT1iKSwicmlnaHQiPT14JiYobD05MCxEPWEtaC1oLzMrMix5PWIpLGs9eS1ILzIrMSxtPUQtSS8yLTEscT1kLmRyb3AoZyxoLGwscSx3LHIscCxhYSkpOjA8dXx8MD09PXo/KDA8TSYmKGE9DQpkLnJlY3QoZyxDLEEscSwwLHIrMSxQLE0sdSksZC5pc01vZGVybj9hLnRyYW5zbGF0ZSgxLDEpOmEudHJhbnNsYXRlKDQsNCksZi5wdXNoKGEpKSxxPWQucmVjdChnLEMsQSxxLHcscixwLGFhLHUpKToodD1bXSx1PVtdLCJIIiE9eD8oaD1hLUQsaD5DLXomJihoPUMteiksaDx6JiYoaD16KSx0PVswLGgteixhLUQsaCt6LEMsQywwLDBdLHU9UT9bMCwwLGIteSwwLDAsQSxBLDBdOltBLEEsYi15LEEsQSwwLDAsQV0pOih4PWIteSx4PkEteiYmKHg9QS16KSx4PHomJih4PXopLHU9WzAseC16LGIteSx4K3osQSxBLDAsMF0sdD1hPGgrKGwtaCkvMj9bMCwwLEQ8YT8wOmEtRCwwLDAsQyxDLDBdOltDLEMsRCtDPmE/QzphLUQsQyxDLDAsMCxDXSksMDxNJiYoYT1kLnBvbHlnb24oZyx0LHUscSwwLHIsUCxNKSxhLnRyYW5zbGF0ZSgxLDEpLGYucHVzaChhKSkscT1kLnBvbHlnb24oZyx0LHUscSx3LHIscCxhYSkpO3RoaXMuYmc9cTtmLnB1c2gocSk7cS50b0Zyb250KCk7ZC5zZXRDTihjLHEsDQoiYmFsbG9vbi1iZyIpO3RoaXMuY2xhc3NOYW1lJiZkLnNldENOKGMscSwiYmFsbG9vbi1iZy0iK3RoaXMuY2xhc3NOYW1lKTtnPTEqdGhpcy5kZWx0YVNpZ25YO20rPXRoaXMuc2R4O2srPXRoaXMuc2R5O0IubGVmdD1tKyJweCI7Qi50b3A9aysicHgiO2YudHJhbnNsYXRlKEQtZyx5LDEsITApO3E9cS5nZXRCQm94KCk7dGhpcy5ib3R0b209eStBKzE7dGhpcy55UG9zPXEueSt5O0omJkoudHJhbnNsYXRlKHRoaXMucG9pbnRUb1gtRCtnLGIteSk7Yj10aGlzLmFuaW1hdGlvbkR1cmF0aW9uOzA8dGhpcy5hbmltYXRpb25EdXJhdGlvbiYmIWUmJiFpc05hTih0aGlzLnByZXZYKSYmKGYudHJhbnNsYXRlKHRoaXMucHJldlgsdGhpcy5wcmV2WSxOYU4sITApLGYuYW5pbWF0ZSh7dHJhbnNsYXRlOkQtZysiLCIreX0sYiwiZWFzZU91dFNpbmUiKSxuJiYoQi5sZWZ0PXRoaXMucHJldlRYKyJweCIsQi50b3A9dGhpcy5wcmV2VFkrInB4Iix0aGlzLnhBbmltPWMuYW5pbWF0ZSh7bm9kZTpufSwNCiJsZWZ0Iix0aGlzLnByZXZUWCxtLGIsImVhc2VPdXRTaW5lIiwicHgiKSx0aGlzLnlBbmltPWMuYW5pbWF0ZSh7bm9kZTpufSwidG9wIix0aGlzLnByZXZUWSxrLGIsImVhc2VPdXRTaW5lIiwicHgiKSkpO3RoaXMucHJldlg9RC1nO3RoaXMucHJldlk9eTt0aGlzLnByZXZUWD1tO3RoaXMucHJldlRZPWt9fX0sZml4UHJldmlvdXM6ZnVuY3Rpb24oKXt0aGlzLnJQcmV2WD10aGlzLnByZXZYO3RoaXMuclByZXZZPXRoaXMucHJldlk7dGhpcy5yUHJldlRYPXRoaXMucHJldlRYO3RoaXMuclByZXZUWT10aGlzLnByZXZUWX0scmVzdG9yZVByZXZpb3VzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2WD10aGlzLnJQcmV2WDt0aGlzLnByZXZZPXRoaXMuclByZXZZO3RoaXMucHJldlRYPXRoaXMuclByZXZUWDt0aGlzLnByZXZUWT10aGlzLnJQcmV2VFl9LGZvbGxvd01vdXNlOmZ1bmN0aW9uKCl7aWYodGhpcy5mb2xsb3cmJnRoaXMuc2hvdyl7dmFyIGE9dGhpcy5jaGFydC5tb3VzZVgtdGhpcy5vZmZzZXRYKg0KdGhpcy5kZWx0YVNpZ25YLXRoaXMuc2R4LGI9dGhpcy5jaGFydC5tb3VzZVktdGhpcy5zZHk7dGhpcy5wb2ludFRvWD1hO3RoaXMucG9pbnRUb1k9YjtpZihhIT10aGlzLnByZXZpb3VzWHx8YiE9dGhpcy5wcmV2aW91c1kpaWYodGhpcy5wcmV2aW91c1g9YSx0aGlzLnByZXZpb3VzWT1iLDA9PT10aGlzLmNvcm5lclJhZGl1cyl0aGlzLmRyYXcoKTtlbHNle3ZhciBjPXRoaXMuc2V0O2lmKGMpe3ZhciBkPWMuZ2V0QkJveCgpLGE9YS1kLndpZHRoLzIsZz1iLWQuaGVpZ2h0LTEwO2E8dGhpcy5sJiYoYT10aGlzLmwpO2E+dGhpcy5yLWQud2lkdGgmJihhPXRoaXMuci1kLndpZHRoKTtnPHRoaXMudCYmKGc9YisxMCk7Yy50cmFuc2xhdGUoYSxnKTtiPXRoaXMudGV4dERpdi5zdHlsZTtiLmxlZnQ9YSt0aGlzLmhvcml6b250YWxQYWRkaW5nKyJweCI7Yi50b3A9Zyt0aGlzLnZlcnRpY2FsUGFkZGluZysicHgifX19fSxjaGFuZ2VDb2xvcjpmdW5jdGlvbihhKXt0aGlzLmJhbGxvb25Db2xvcj0NCmF9LHNldEJvdW5kczpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLmw9YTt0aGlzLnQ9Yjt0aGlzLnI9Yzt0aGlzLmI9ZDt0aGlzLmRlc3Ryb3lUTyYmY2xlYXJUaW1lb3V0KHRoaXMuZGVzdHJveVRPKX0sc2hvd0JhbGxvb246ZnVuY3Rpb24oYSl7aWYodGhpcy50ZXh0IT1hfHx0aGlzLnBvc2l0aW9uQ2hhbmdlZCl0aGlzLnRleHQ9YSx0aGlzLmlzSGlkaW5nPSExLHRoaXMuc2hvdz0hMCx0aGlzLmRlc3Ryb3lUTyYmY2xlYXJUaW1lb3V0KHRoaXMuZGVzdHJveVRPKSxhPXRoaXMuY2hhcnQsdGhpcy5mYWRlQW5pbTEmJmEuc3RvcEFuaW0odGhpcy5mYWRlQW5pbTEpLHRoaXMuZmFkZUFuaW0yJiZhLnN0b3BBbmltKHRoaXMuZmFkZUFuaW0yKSx0aGlzLmRyYXcoKSx0aGlzLnBvc2l0aW9uQ2hhbmdlZD0hMX0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IudGV4dD12b2lkIDA7aXNOYU4oYSkmJihhPWIuZmFkZU91dER1cmF0aW9uKTt2YXIgYz1iLmNoYXJ0O2lmKDA8YSYmIWIuaXNIaWRpbmcpe2IuaXNIaWRpbmc9DQohMDtiLmRlc3Ryb3lUTyYmY2xlYXJUaW1lb3V0KGIuZGVzdHJveVRPKTtiLmRlc3Ryb3lUTz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5kZXN0cm95LmNhbGwoYil9LDFFMyphKTtiLmZvbGxvdz0hMTtiLnNob3c9ITE7dmFyIGQ9Yi5zZXQ7ZCYmKGQuc2V0QXR0cigib3BhY2l0eSIsYi5maWxsQWxwaGEpLGIuZmFkZUFuaW0xPWQuYW5pbWF0ZSh7b3BhY2l0eTowfSxhLCJlYXNlSW5TaW5lIikpO2IudGV4dERpdiYmKGIuZmFkZUFuaW0yPWMuYW5pbWF0ZSh7bm9kZTpiLnRleHREaXZ9LCJvcGFjaXR5IiwxLDAsYSwiZWFzZUluU2luZSIsIiIpKX1lbHNlIGIuc2hvdz0hMSxiLmZvbGxvdz0hMSxiLmRlc3Ryb3koKX0sc2V0UG9zaXRpb246ZnVuY3Rpb24oYSxiKXtpZihhIT10aGlzLnBvaW50VG9YfHxiIT10aGlzLnBvaW50VG9ZKXRoaXMucHJldmlvdXNYPXRoaXMucG9pbnRUb1gsdGhpcy5wcmV2aW91c1k9dGhpcy5wb2ludFRvWSx0aGlzLnBvaW50VG9YPWEsdGhpcy5wb2ludFRvWT0NCmIsdGhpcy5wb3NpdGlvbkNoYW5nZWQ9ITB9LGZvbGxvd0N1cnNvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuZm9sbG93PWE7Y2xlYXJJbnRlcnZhbChiLmludGVydmFsKTt2YXIgYz1iLmNoYXJ0Lm1vdXNlWC1iLnNkeCxkPWIuY2hhcnQubW91c2VZLWIuc2R5OyFpc05hTihjKSYmYSYmKGIucG9pbnRUb1g9Yy1iLm9mZnNldFgqYi5kZWx0YVNpZ25YLGIucG9pbnRUb1k9ZCxiLmZvbGxvd01vdXNlKCksYi5pbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2IuZm9sbG93TW91c2UuY2FsbChiKX0sNDApKX0scmVtb3ZlRGl2OmZ1bmN0aW9uKCl7aWYodGhpcy50ZXh0RGl2KXt2YXIgYT10aGlzLnRleHREaXYucGFyZW50Tm9kZTthJiZhLnJlbW92ZUNoaWxkKHRoaXMudGV4dERpdil9fSxkZXN0cm95OmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtkLnJlbW92ZSh0aGlzLnNldCk7dGhpcy5yZW1vdmVEaXYoKTt0aGlzLnNldD1udWxsfX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5BbUNvb3JkaW5hdGVDaGFydD1kLkNsYXNzKHtpbmhlcml0czpkLkFtQ2hhcnQsY29uc3RydWN0OmZ1bmN0aW9uKGEpe2QuQW1Db29yZGluYXRlQ2hhcnQuYmFzZS5jb25zdHJ1Y3QuY2FsbCh0aGlzLGEpO3RoaXMudGhlbWU9YTt0aGlzLmNyZWF0ZUV2ZW50cygicm9sbE92ZXJHcmFwaEl0ZW0iLCJyb2xsT3V0R3JhcGhJdGVtIiwiY2xpY2tHcmFwaEl0ZW0iLCJkb3VibGVDbGlja0dyYXBoSXRlbSIsInJpZ2h0Q2xpY2tHcmFwaEl0ZW0iLCJjbGlja0dyYXBoIiwicm9sbE92ZXJHcmFwaCIsInJvbGxPdXRHcmFwaCIpO3RoaXMuc3RhcnRBbHBoYT0xO3RoaXMuc3RhcnREdXJhdGlvbj0wO3RoaXMuc3RhcnRFZmZlY3Q9ImVsYXN0aWMiO3RoaXMuc2VxdWVuY2VkQW5pbWF0aW9uPSEwO3RoaXMuY29sb3JzPSIjRkY2NjAwICNGQ0QyMDIgI0IwREUwOSAjMEQ4RUNGICMyQTBDRDAgI0NEMEQ3NCAjQ0MwMDAwICMwMENDMDAgIzAwMDBDQyAjREREREREICM5OTk5OTkgIzMzMzMzMyAjOTkwMDAwIi5zcGxpdCgiICIpOw0KdGhpcy5iYWxsb29uRGF0ZUZvcm1hdD0iTU1NIERELCBZWVlZIjt0aGlzLnZhbHVlQXhlcz1bXTt0aGlzLmdyYXBocz1bXTt0aGlzLmd1aWRlcz1bXTt0aGlzLmdyaWRBYm92ZUdyYXBocz0hMTtkLmFwcGx5VGhlbWUodGhpcyxhLCJBbUNvb3JkaW5hdGVDaGFydCIpfSxpbml0Q2hhcnQ6ZnVuY3Rpb24oKXtkLkFtQ29vcmRpbmF0ZUNoYXJ0LmJhc2UuaW5pdENoYXJ0LmNhbGwodGhpcyk7dGhpcy5kcmF3R3JhcGhzPSEwO3ZhciBhPXRoaXMuY2F0ZWdvcnlBeGlzO2EmJih0aGlzLmNhdGVnb3J5QXhpcz1kLnByb2Nlc3NPYmplY3QoYSxkLkNhdGVnb3J5QXhpcyx0aGlzLnRoZW1lKSk7dGhpcy5wcm9jZXNzVmFsdWVBeGVzKCk7dGhpcy5jcmVhdGVWYWx1ZUF4ZXMoKTt0aGlzLnByb2Nlc3NHcmFwaHMoKTt0aGlzLnByb2Nlc3NHdWlkZXMoKTtkLlZNTCYmKHRoaXMuc3RhcnRBbHBoYT0xKTt0aGlzLnNldExlZ2VuZERhdGEodGhpcy5ncmFwaHMpO3RoaXMuZ3JpZEFib3ZlR3JhcGhzJiYodGhpcy5ncmlkU2V0LnRvRnJvbnQoKSwNCnRoaXMuYnVsbGV0U2V0LnRvRnJvbnQoKSx0aGlzLmJhbGxvb25zU2V0LnRvRnJvbnQoKSl9LGNyZWF0ZVZhbHVlQXhlczpmdW5jdGlvbigpe2lmKDA9PT10aGlzLnZhbHVlQXhlcy5sZW5ndGgpe3ZhciBhPW5ldyBkLlZhbHVlQXhpczt0aGlzLmFkZFZhbHVlQXhpcyhhKX19LHBhcnNlRGF0YTpmdW5jdGlvbigpe3RoaXMucHJvY2Vzc1ZhbHVlQXhlcygpO3RoaXMucHJvY2Vzc0dyYXBocygpfSxwYXJzZVNlcmlhbERhdGE6ZnVuY3Rpb24oYSl7dGhpcy5jaGFydERhdGE9W107aWYoYSlpZigwPHRoaXMucHJvY2Vzc1RpbWVvdXQpezE+dGhpcy5wcm9jZXNzQ291bnQmJih0aGlzLnByb2Nlc3NDb3VudD0xKTt2YXIgYj1hLmxlbmd0aC90aGlzLnByb2Nlc3NDb3VudDt0aGlzLnBhcnNlQ291bnQ9TWF0aC5jZWlsKGIpLTE7Zm9yKHZhciBjPTA7YzxiO2MrKyl0aGlzLmRlbGF5UGFyc2VTZXJpYWxEYXRhKGEsYyl9ZWxzZSB0aGlzLnBhcnNlQ291bnQ9MCx0aGlzLnBhcnNlUGFydFNlcmlhbERhdGEoYSwNCjAsYS5sZW5ndGgsMCk7ZWxzZSB0aGlzLm9uRGF0YVVwZGF0ZWQoKX0sZGVsYXlQYXJzZVNlcmlhbERhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5wcm9jZXNzQ291bnQ7c2V0VGltZW91dChmdW5jdGlvbigpe2MucGFyc2VQYXJ0U2VyaWFsRGF0YS5jYWxsKGMsYSxiKmQsKGIrMSkqZCxiKX0sYy5wcm9jZXNzVGltZW91dCl9LHBhcnNlUGFydFNlcmlhbERhdGE6ZnVuY3Rpb24oYSxiLGMsZSl7Yz5hLmxlbmd0aCYmKGM9YS5sZW5ndGgpO3ZhciBnPXRoaXMuZ3JhcGhzLGY9e30saD10aGlzLnNlcmllc0lkRmllbGQ7aHx8KGg9dGhpcy5jYXRlZ29yeUZpZWxkKTt2YXIgaz0hMSxsLG09dGhpcy5jYXRlZ29yeUF4aXMsbixxLHA7bSYmKGs9bS5wYXJzZURhdGVzLG49bS5mb3JjZVNob3dGaWVsZCxwPW0uY2xhc3NOYW1lRmllbGQscT1tLmxhYmVsQ29sb3JGaWVsZCxsPW0uY2F0ZWdvcnlGdW5jdGlvbik7dmFyIHQscix3PXt9LHo7ayYmKHQ9ZC5leHRyYWN0UGVyaW9kKG0ubWluUGVyaW9kKSwNCnI9dC5wZXJpb2QsdD10LmNvdW50LHo9ZC5nZXRQZXJpb2REdXJhdGlvbihyLHQpKTt2YXIgeD17fTt0aGlzLmxvb2t1cFRhYmxlPXg7dmFyIHUsQT10aGlzLmRhdGFEYXRlRm9ybWF0LHk9e307Zm9yKHU9Yjt1PGM7dSsrKXt2YXIgQj17fSxEPWFbdV07Yj1EW3RoaXMuY2F0ZWdvcnlGaWVsZF07Qi5kYXRhQ29udGV4dD1EO0IuY2F0ZWdvcnk9bD9sKGIsRCxtKTpTdHJpbmcoYik7biYmKEIuZm9yY2VTaG93PURbbl0pO3AmJihCLmNsYXNzTmFtZT1EW3BdKTtxJiYoQi5sYWJlbENvbG9yPURbcV0pO3hbRFtoXV09QjtpZihrJiYobS5jYXRlZ29yeUZ1bmN0aW9uP2I9bS5jYXRlZ29yeUZ1bmN0aW9uKGIsRCxtKTooIUF8fGIgaW5zdGFuY2VvZiBEYXRlfHwoYj1iLnRvU3RyaW5nKCkrIiB8IiksYj1kLmdldERhdGUoYixBLG0ubWluUGVyaW9kKSksYj1kLnJlc2V0RGF0ZVRvTWluKGIscix0LG0uZmlyc3REYXlPZldlZWspLEIuY2F0ZWdvcnk9YixCLnRpbWU9Yi5nZXRUaW1lKCksaXNOYU4oQi50aW1lKSkpY29udGludWU7DQp2YXIgQz10aGlzLnZhbHVlQXhlcztCLmF4ZXM9e307Qi54PXt9O3ZhciBJO2ZvcihJPTA7STxDLmxlbmd0aDtJKyspe3ZhciBIPUNbSV0uaWQ7Qi5heGVzW0hdPXt9O0IuYXhlc1tIXS5ncmFwaHM9e307dmFyIFE7Zm9yKFE9MDtRPGcubGVuZ3RoO1ErKyl7Yj1nW1FdO3ZhciBNPWIuaWQsUD0xLjE7aXNOYU4oYi5nYXBQZXJpb2QpfHwoUD1iLmdhcFBlcmlvZCk7dmFyIGlhPWIucGVyaW9kVmFsdWU7aWYoYi52YWx1ZUF4aXMuaWQ9PUgpe0IuYXhlc1tIXS5ncmFwaHNbTV09e307dmFyIEo9e307Si5pbmRleD11O3ZhciBhYT1EO2IuZGF0YVByb3ZpZGVyJiYoYWE9Zik7Si52YWx1ZXM9dGhpcy5wcm9jZXNzVmFsdWVzKGFhLGIsaWEpO2lmKCFiLmNvbm5lY3R8fGIuZm9yY2VHYXAmJiFpc05hTihiLmdhcFBlcmlvZCkpaWYoeSYmeVtNXSYmMDxQJiZCLnRpbWUtd1tNXT49eipQJiYoeVtNXS5nYXA9ITApLGIuZm9yY2VHYXApe3ZhciBQPTAsbWE7Zm9yKG1hIGluIEoudmFsdWVzKVArKzsNCjA8UCYmKHdbTV09Qi50aW1lLHlbTV09Sil9ZWxzZSB3W01dPUIudGltZSx5W01dPUo7dGhpcy5wcm9jZXNzRmllbGRzKGIsSixhYSk7Si5jYXRlZ29yeT1CLmNhdGVnb3J5O0ouc2VyaWFsRGF0YUl0ZW09QjtKLmdyYXBoPWI7Qi5heGVzW0hdLmdyYXBoc1tNXT1KfX19dGhpcy5jaGFydERhdGFbdV09Qn1pZih0aGlzLnBhcnNlQ291bnQ9PWUpe2ZvcihhPTA7YTxnLmxlbmd0aDthKyspYj1nW2FdLGIuZGF0YVByb3ZpZGVyJiZ0aGlzLnBhcnNlR3JhcGhEYXRhKGIpO3RoaXMuZGF0YUNoYW5nZWQ9ITE7dGhpcy5kaXNwYXRjaERhdGFVcGRhdGVkPSEwO3RoaXMub25EYXRhVXBkYXRlZCgpfX0scHJvY2Vzc1ZhbHVlczpmdW5jdGlvbihhLGIsYyl7dmFyIGU9e30sZyxmPSExOyJjYW5kbGVzdGljayIhPWIudHlwZSYmIm9obGMiIT1iLnR5cGV8fCIiPT09Y3x8KGY9ITApO2Zvcih2YXIgaD0idmFsdWUgZXJyb3Igb3BlbiBjbG9zZSBsb3cgaGlnaCIuc3BsaXQoIiAiKSxrPTA7azxoLmxlbmd0aDtrKyspe3ZhciBsPQ0KaFtrXTsidmFsdWUiIT1sJiYiZXJyb3IiIT1sJiZmJiYoYz1sLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2wuc2xpY2UoMSkpO3ZhciBtPWFbYltsKyJGaWVsZCJdK2NdO251bGwhPT1tJiYoZz1OdW1iZXIobSksaXNOYU4oZyl8fChlW2xdPWcpLCJkYXRlIj09Yi52YWx1ZUF4aXMudHlwZSYmdm9pZCAwIT09bSYmKGc9ZC5nZXREYXRlKG0sYi5jaGFydC5kYXRhRGF0ZUZvcm1hdCksZVtsXT1nLmdldFRpbWUoKSkpfXJldHVybiBlfSxwYXJzZUdyYXBoRGF0YTpmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGFQcm92aWRlcixjPWEuc2VyaWVzSWRGaWVsZDtjfHwoYz10aGlzLnNlcmllc0lkRmllbGQpO2N8fChjPXRoaXMuY2F0ZWdvcnlGaWVsZCk7dmFyIGQ7Zm9yKGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGc9YltkXSxmPXRoaXMubG9va3VwVGFibGVbU3RyaW5nKGdbY10pXSxoPWEudmFsdWVBeGlzLmlkO2YmJihoPWYuYXhlc1toXS5ncmFwaHNbYS5pZF0saC5zZXJpYWxEYXRhSXRlbT1mLA0KaC52YWx1ZXM9dGhpcy5wcm9jZXNzVmFsdWVzKGcsYSxhLnBlcmlvZFZhbHVlKSx0aGlzLnByb2Nlc3NGaWVsZHMoYSxoLGcpKX19LGFkZFZhbHVlQXhpczpmdW5jdGlvbihhKXthLmNoYXJ0PXRoaXM7dGhpcy52YWx1ZUF4ZXMucHVzaChhKTt0aGlzLnZhbGlkYXRlRGF0YSgpfSxyZW1vdmVWYWx1ZUF4ZXNBbmRHcmFwaHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZhbHVlQXhlcyxiO2ZvcihiPWEubGVuZ3RoLTE7LTE8YjtiLS0pdGhpcy5yZW1vdmVWYWx1ZUF4aXMoYVtiXSl9LHJlbW92ZVZhbHVlQXhpczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBocyxjO2ZvcihjPWIubGVuZ3RoLTE7MDw9YztjLS0pe3ZhciBkPWJbY107ZCYmZC52YWx1ZUF4aXM9PWEmJnRoaXMucmVtb3ZlR3JhcGgoZCl9Yj10aGlzLnZhbHVlQXhlcztmb3IoYz1iLmxlbmd0aC0xOzA8PWM7Yy0tKWJbY109PWEmJmIuc3BsaWNlKGMsMSk7dGhpcy52YWxpZGF0ZURhdGEoKX0sYWRkR3JhcGg6ZnVuY3Rpb24oYSl7dGhpcy5ncmFwaHMucHVzaChhKTsNCnRoaXMuY2hvb3NlR3JhcGhDb2xvcihhLHRoaXMuZ3JhcGhzLmxlbmd0aC0xKTt0aGlzLnZhbGlkYXRlRGF0YSgpfSxyZW1vdmVHcmFwaDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBocyxjO2ZvcihjPWIubGVuZ3RoLTE7MDw9YztjLS0pYltjXT09YSYmKGIuc3BsaWNlKGMsMSksYS5kZXN0cm95KCkpO3RoaXMudmFsaWRhdGVEYXRhKCl9LGhhbmRsZVZhbHVlQXhpc1pvb206ZnVuY3Rpb24oKXt9LHByb2Nlc3NWYWx1ZUF4ZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZhbHVlQXhlcyxiO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl0sYz1kLnByb2Nlc3NPYmplY3QoYyxkLlZhbHVlQXhpcyx0aGlzLnRoZW1lKTthW2JdPWM7Yy5jaGFydD10aGlzO2MuaW5pdCgpO3RoaXMubGlzdGVuVG8oYywiYXhpc0ludFpvb21lZCIsdGhpcy5oYW5kbGVWYWx1ZUF4aXNab29tKTtjLmlkfHwoYy5pZD0idmFsdWVBeGlzQXV0byIrYisiXyIrKG5ldyBEYXRlKS5nZXRUaW1lKCkpOw0Kdm9pZCAwPT09Yy51c2VQcmVmaXhlcyYmKGMudXNlUHJlZml4ZXM9dGhpcy51c2VQcmVmaXhlcyl9fSxwcm9jZXNzR3VpZGVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ndWlkZXMsYj10aGlzLmNhdGVnb3J5QXhpcztpZihhKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZT1hW2NdOyh2b2lkIDAhPT1lLmNhdGVnb3J5fHx2b2lkIDAhPT1lLmRhdGUpJiZiJiZiLmFkZEd1aWRlKGUpO2UuaWR8fChlLmlkPSJndWlkZUF1dG8iK2MrIl8iKyhuZXcgRGF0ZSkuZ2V0VGltZSgpKTt2YXIgZz1lLnZhbHVlQXhpcztnPyhkLmlzU3RyaW5nKGcpJiYoZz10aGlzLmdldFZhbHVlQXhpc0J5SWQoZykpLGc/Zy5hZGRHdWlkZShlKTp0aGlzLnZhbHVlQXhlc1swXS5hZGRHdWlkZShlKSk6aXNOYU4oZS52YWx1ZSl8fHRoaXMudmFsdWVBeGVzWzBdLmFkZEd1aWRlKGUpfX0scHJvY2Vzc0dyYXBoczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGhzLGI7dGhpcy5ncmFwaHNCeUlkPXt9O2ZvcihiPQ0KMDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXSxjPWQucHJvY2Vzc09iamVjdChjLGQuQW1HcmFwaCx0aGlzLnRoZW1lKTthW2JdPWM7dGhpcy5jaG9vc2VHcmFwaENvbG9yKGMsYik7Yy5jaGFydD10aGlzO2MuaW5pdCgpO2QuaXNTdHJpbmcoYy52YWx1ZUF4aXMpJiYoYy52YWx1ZUF4aXM9dGhpcy5nZXRWYWx1ZUF4aXNCeUlkKGMudmFsdWVBeGlzKSk7Yy52YWx1ZUF4aXN8fChjLnZhbHVlQXhpcz10aGlzLnZhbHVlQXhlc1swXSk7Yy5pZHx8KGMuaWQ9ImdyYXBoQXV0byIrYisiXyIrKG5ldyBEYXRlKS5nZXRUaW1lKCkpO3RoaXMuZ3JhcGhzQnlJZFtjLmlkXT1jfX0sZm9ybWF0U3RyaW5nOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT1iLmdyYXBoLGc9ZS52YWx1ZUF4aXM7aWYoZy5kdXJhdGlvbiYmZy5tYXhJbnRlcnZhbCYmYi52YWx1ZXMudmFsdWUpe3ZhciBmPWcubnVtYmVyRm9ybWF0dGVyO2Z8fChmPWNoYXJ0Lm5mKTtnPWQuZm9ybWF0RHVyYXRpb24oYi52YWx1ZXMudmFsdWUsDQpnLmR1cmF0aW9uLCIiLGcuZHVyYXRpb25Vbml0cyxnLm1heEludGVydmFsLGYpO2E9YS5zcGxpdCgiW1t2YWx1ZV1dIikuam9pbihnKX1hPWQubWFzc1JlcGxhY2UoYSx7IltbdGl0bGVdXSI6ZS50aXRsZSwiW1tkZXNjcmlwdGlvbl1dIjpiLmRlc2NyaXB0aW9ufSk7YT1jP2QuZml4TmV3TGluZXMoYSk6ZC5maXhCcmFrZXMoYSk7cmV0dXJuIGE9ZC5jbGVhbkZyb21FbXB0eShhKX0sZ2V0QmFsbG9vbkNvbG9yOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT1hLmxpbmVDb2xvcixnPWEuYmFsbG9vbkNvbG9yO2MmJihnPWUpO2M9YS5maWxsQ29sb3JzUjsib2JqZWN0Ij09dHlwZW9mIGM/ZT1jWzBdOnZvaWQgMCE9PWMmJihlPWMpO2IuaXNOZWdhdGl2ZSYmKGM9YS5uZWdhdGl2ZUxpbmVDb2xvcixhPWEubmVnYXRpdmVGaWxsQ29sb3JzLCJvYmplY3QiPT10eXBlb2YgYT9jPWFbMF06dm9pZCAwIT09YSYmKGM9YSksdm9pZCAwIT09YyYmKGU9YykpO3ZvaWQgMCE9PWIuY29sb3ImJihlPWIuY29sb3IpOw0Kdm9pZCAwIT09Yi5saW5lQ29sb3ImJihlPWIubGluZUNvbG9yKTtiPWIuZmlsbENvbG9yczt2b2lkIDAhPT1iJiYoZT1iLGQuaWZBcnJheShiKSYmKGU9YlswXSkpO3ZvaWQgMD09PWcmJihnPWUpO3JldHVybiBnfSxnZXRHcmFwaEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuZ2V0T2JqQnlJZCh0aGlzLmdyYXBocyxhKX0sZ2V0VmFsdWVBeGlzQnlJZDpmdW5jdGlvbihhKXtyZXR1cm4gZC5nZXRPYmpCeUlkKHRoaXMudmFsdWVBeGVzLGEpfSxwcm9jZXNzRmllbGRzOmZ1bmN0aW9uKGEsYixjKXtpZihhLml0ZW1Db2xvcnMpe3ZhciBlPWEuaXRlbUNvbG9ycyxnPWIuaW5kZXg7Yi5jb2xvcj1nPGUubGVuZ3RoP2VbZ106ZC5yYW5kb21Db2xvcigpfWU9ImxpbmVDb2xvciBjb2xvciBhbHBoYSBmaWxsQ29sb3JzIGRlc2NyaXB0aW9uIGJ1bGxldCBjdXN0b21CdWxsZXQgYnVsbGV0U2l6ZSBidWxsZXRDb25maWcgdXJsIGxhYmVsQ29sb3IgZGFzaExlbmd0aCBwYXR0ZXJuIGdhcCBjbGFzc05hbWUgY29sdW1uSW5kZXgiLnNwbGl0KCIgIik7DQpmb3IoZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgZj1lW2ddLGg9YVtmKyJGaWVsZCJdO2gmJihoPWNbaF0sZC5pc0RlZmluZWQoaCkmJihiW2ZdPWgpKX1iLmRhdGFDb250ZXh0PWN9LGNob29zZUdyYXBoQ29sb3I6ZnVuY3Rpb24oYSxiKXtpZihhLmxpbmVDb2xvcilhLmxpbmVDb2xvclI9YS5saW5lQ29sb3I7ZWxzZXt2YXIgYztjPXRoaXMuY29sb3JzLmxlbmd0aD5iP3RoaXMuY29sb3JzW2JdOmEubGluZUNvbG9yUj9hLmxpbmVDb2xvclI6ZC5yYW5kb21Db2xvcigpO2EubGluZUNvbG9yUj1jfWEuZmlsbENvbG9yc1I9YS5maWxsQ29sb3JzP2EuZmlsbENvbG9yczphLmxpbmVDb2xvclI7YS5idWxsZXRCb3JkZXJDb2xvclI9YS5idWxsZXRCb3JkZXJDb2xvcj9hLmJ1bGxldEJvcmRlckNvbG9yOmEudXNlTGluZUNvbG9yRm9yQnVsbGV0Qm9yZGVyP2EubGluZUNvbG9yUjphLmJ1bGxldENvbG9yO2EuYnVsbGV0Q29sb3JSPWEuYnVsbGV0Q29sb3I/YS5idWxsZXRDb2xvcjphLmxpbmVDb2xvclI7DQppZihjPXRoaXMucGF0dGVybnMpYS5wYXR0ZXJuPWNbYl19LGhhbmRsZUxlZ2VuZEV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZTtpZihhPWEuZGF0YUl0ZW0pe3ZhciBjPWEuaGlkZGVuLGQ9YS5zaG93QmFsbG9vbjtzd2l0Y2goYil7Y2FzZSAiY2xpY2tNYXJrZXIiOnRoaXMudGV4dENsaWNrRW5hYmxlZCYmKGQ/dGhpcy5oaWRlR3JhcGhzQmFsbG9vbihhKTp0aGlzLnNob3dHcmFwaHNCYWxsb29uKGEpKTticmVhaztjYXNlICJjbGlja0xhYmVsIjpkP3RoaXMuaGlkZUdyYXBoc0JhbGxvb24oYSk6dGhpcy5zaG93R3JhcGhzQmFsbG9vbihhKTticmVhaztjYXNlICJyb2xsT3Zlckl0ZW0iOmN8fHRoaXMuaGlnaGxpZ2h0R3JhcGgoYSk7YnJlYWs7Y2FzZSAicm9sbE91dEl0ZW0iOmN8fHRoaXMudW5oaWdobGlnaHRHcmFwaCgpO2JyZWFrO2Nhc2UgImhpZGVJdGVtIjp0aGlzLmhpZGVHcmFwaChhKTticmVhaztjYXNlICJzaG93SXRlbSI6dGhpcy5zaG93R3JhcGgoYSl9fX0saGlnaGxpZ2h0R3JhcGg6ZnVuY3Rpb24oYSl7dmFyIGI9DQp0aGlzLmdyYXBocztpZihiKXt2YXIgYyxkPS4yO3RoaXMubGVnZW5kJiYoZD10aGlzLmxlZ2VuZC5yb2xsT3ZlckdyYXBoQWxwaGEpO2lmKDEhPWQpZm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGc9YltjXTtnIT1hJiZnLmNoYW5nZU9wYWNpdHkoZCl9fX0sdW5oaWdobGlnaHRHcmFwaDpmdW5jdGlvbigpe3ZhciBhO3RoaXMubGVnZW5kJiYoYT10aGlzLmxlZ2VuZC5yb2xsT3ZlckdyYXBoQWxwaGEpO2lmKDEhPWEpe2E9dGhpcy5ncmFwaHM7dmFyIGI7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLmNoYW5nZU9wYWNpdHkoMSl9fSxzaG93R3JhcGg6ZnVuY3Rpb24oYSl7YS5zd2l0Y2hhYmxlJiYoYS5oaWRkZW49ITEsdGhpcy5kYXRhQ2hhbmdlZD0hMCwieHkiIT10aGlzLnR5cGUmJih0aGlzLm1hcmdpbnNVcGRhdGVkPSExKSx0aGlzLmNoYXJ0Q3JlYXRlZCYmdGhpcy5pbml0Q2hhcnQoKSl9LGhpZGVHcmFwaDpmdW5jdGlvbihhKXthLnN3aXRjaGFibGUmJih0aGlzLmRhdGFDaGFuZ2VkPQ0KITAsInh5IiE9dGhpcy50eXBlJiYodGhpcy5tYXJnaW5zVXBkYXRlZD0hMSksYS5oaWRkZW49ITAsdGhpcy5jaGFydENyZWF0ZWQmJnRoaXMuaW5pdENoYXJ0KCkpfSxoaWRlR3JhcGhzQmFsbG9vbjpmdW5jdGlvbihhKXthLnNob3dCYWxsb29uPSExO3RoaXMudXBkYXRlTGVnZW5kKCl9LHNob3dHcmFwaHNCYWxsb29uOmZ1bmN0aW9uKGEpe2Euc2hvd0JhbGxvb249ITA7dGhpcy51cGRhdGVMZWdlbmQoKX0sdXBkYXRlTGVnZW5kOmZ1bmN0aW9uKCl7dGhpcy5sZWdlbmQmJnRoaXMubGVnZW5kLmludmFsaWRhdGVTaXplKCl9LHJlc2V0QW5pbWF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5hbmltYXRhYmxlPVtdO3ZhciBhPXRoaXMuZ3JhcGhzO2lmKGEpe3ZhciBiO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5hbmltYXRpb25QbGF5ZWQ9ITF9fSxhbmltYXRlQWdhaW46ZnVuY3Rpb24oKXt0aGlzLnJlc2V0QW5pbWF0aW9uKCk7dGhpcy52YWxpZGF0ZU5vdygpfX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5UcmVuZExpbmU9ZC5DbGFzcyh7Y29uc3RydWN0OmZ1bmN0aW9uKGEpe3RoaXMuY25hbWU9IlRyZW5kTGluZSI7dGhpcy5jcmVhdGVFdmVudHMoImNsaWNrIiwicm9sbE92ZXIiLCJyb2xsT3V0Iik7dGhpcy5pc1Byb3RlY3RlZD0hMTt0aGlzLmRhc2hMZW5ndGg9MDt0aGlzLmxpbmVDb2xvcj0iIzAwQ0MwMCI7dGhpcy5saW5lVGhpY2tuZXNzPXRoaXMubGluZUFscGhhPTE7ZC5hcHBseVRoZW1lKHRoaXMsYSx0aGlzLmNuYW1lKX0sZHJhdzpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5kZXN0cm95KCk7dmFyIGI9YS5jaGFydCxjPWIuY29udGFpbmVyLGUsZyxmLGgsaz1hLmNhdGVnb3J5QXhpcyxsPWEuaW5pdGlhbERhdGUsbT1hLmluaXRpYWxDYXRlZ29yeSxuPWEuZmluYWxEYXRlLHE9YS5maW5hbENhdGVnb3J5LHA9YS52YWx1ZUF4aXMsdD1hLnZhbHVlQXhpc1gscj1hLmluaXRpYWxYVmFsdWUsdz1hLmZpbmFsWFZhbHVlLA0Kej1hLmluaXRpYWxWYWx1ZSx4PWEuZmluYWxWYWx1ZSx1PXAucmVjYWxjdWxhdGVUb1BlcmNlbnRzLEE9Yi5kYXRhRGF0ZUZvcm1hdDtrJiYobCYmKGw9ZC5nZXREYXRlKGwsQSwiZmZmIiksYS5pbml0aWFsRGF0ZT1sLGU9ay5kYXRlVG9Db29yZGluYXRlKGwpKSxtJiYoZT1rLmNhdGVnb3J5VG9Db29yZGluYXRlKG0pKSxuJiYobj1kLmdldERhdGUobixBLCJmZmYiKSxhLmZpbmFsRGF0ZT1uLGc9ay5kYXRlVG9Db29yZGluYXRlKG4pKSxxJiYoZz1rLmNhdGVnb3J5VG9Db29yZGluYXRlKHEpKSk7dCYmIXUmJihpc05hTihyKXx8KGU9dC5nZXRDb29yZGluYXRlKHIpKSxpc05hTih3KXx8KGc9dC5nZXRDb29yZGluYXRlKHcpKSk7cCYmIXUmJihpc05hTih6KXx8KGY9cC5nZXRDb29yZGluYXRlKHopKSxpc05hTih4KXx8KGg9cC5nZXRDb29yZGluYXRlKHgpKSk7aWYoIShpc05hTihlKXx8aXNOYU4oZyl8fGlzTmFOKGYpfHxpc05hTihmKSkpe2Iucm90YXRlPyhrPVtmLGhdLGg9W2UsDQpnXSk6KGs9W2UsZ10saD1bZixoXSk7Zj1kLmxpbmUoYyxrLGgsYS5saW5lQ29sb3IsYS5saW5lQWxwaGEsYS5saW5lVGhpY2tuZXNzLGEuZGFzaExlbmd0aCk7ZT1rO2c9aDtuPWtbMV0ta1swXTtxPWhbMV0taFswXTswPT09biYmKG49LjAxKTswPT09cSYmKHE9LjAxKTtsPW4vTWF0aC5hYnMobik7bT1xL01hdGguYWJzKHEpO3E9OTAqTWF0aC5QSS8xODAtTWF0aC5hc2luKG4vKG4qcS9NYXRoLmFicyhuKnEpKk1hdGguc3FydChNYXRoLnBvdyhuLDIpK01hdGgucG93KHEsMikpKSk7bj1NYXRoLmFicyg1Kk1hdGguY29zKHEpKTtxPU1hdGguYWJzKDUqTWF0aC5zaW4ocSkpO2UucHVzaChrWzFdLWwqcSxrWzBdLWwqcSk7Zy5wdXNoKGhbMV0rbSpuLGhbMF0rbSpuKTtoPWQucG9seWdvbihjLGUsZywiI2ZmZmZmZiIsLjAwNSwwKTtjPWMuc2V0KFtoLGZdKTtjLnRyYW5zbGF0ZShiLm1hcmdpbkxlZnRSZWFsLGIubWFyZ2luVG9wUmVhbCk7Yi50cmVuZExpbmVzU2V0LnB1c2goYyk7ZC5zZXRDTihiLA0KZiwidHJlbmQtbGluZSIpO2Quc2V0Q04oYixmLCJ0cmVuZC1saW5lLSIrYS5pZCk7YS5saW5lPWY7YS5zZXQ9YztpZihmPWEuaW5pdGlhbEltYWdlKWY9ZC5wcm9jZXNzT2JqZWN0KGYsZC5JbWFnZSxhLnRoZW1lKSxmLmNoYXJ0PWIsZi5kcmF3KCksZi50cmFuc2xhdGUoZVswXStmLm9mZnNldFgsZ1swXStmLm9mZnNldFkpLGMucHVzaChmLnNldCk7aWYoZj1hLmZpbmFsSW1hZ2UpZj1kLnByb2Nlc3NPYmplY3QoZixkLkltYWdlLGEudGhlbWUpLGYuY2hhcnQ9YixmLmRyYXcoKSxmLnRyYW5zbGF0ZShlWzFdK2Yub2Zmc2V0WCxnWzFdK2Yub2Zmc2V0WSksYy5wdXNoKGYuc2V0KTtjLm1vdXNldXAoZnVuY3Rpb24oKXthLmhhbmRsZUxpbmVDbGljaygpfSkubW91c2VvdmVyKGZ1bmN0aW9uKCl7YS5oYW5kbGVMaW5lT3ZlcigpfSkubW91c2VvdXQoZnVuY3Rpb24oKXthLmhhbmRsZUxpbmVPdXQoKX0pO2MudG91Y2hlbmQmJmMudG91Y2hlbmQoZnVuY3Rpb24oKXthLmhhbmRsZUxpbmVDbGljaygpfSk7DQpjLmNsaXBSZWN0KDAsMCxiLnBsb3RBcmVhV2lkdGgsYi5wbG90QXJlYUhlaWdodCl9fSxoYW5kbGVMaW5lQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoe3R5cGU6ImNsaWNrIix0cmVuZExpbmU6dGhpcyxjaGFydDp0aGlzLmNoYXJ0fSl9LGhhbmRsZUxpbmVPdmVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yb2xsT3ZlckNvbG9yO3ZvaWQgMCE9PWEmJnRoaXMubGluZS5hdHRyKHtzdHJva2U6YX0pO3RoaXMuYmFsbG9vblRleHQmJihjbGVhclRpbWVvdXQodGhpcy5jaGFydC5ob3ZlckludCksYT10aGlzLmxpbmUuZ2V0QkJveCgpLHRoaXMuY2hhcnQuc2hvd0JhbGxvb24odGhpcy5iYWxsb29uVGV4dCx0aGlzLmxpbmVDb2xvciwhMCx0aGlzLngrYS54K2Eud2lkdGgvMix0aGlzLnkrYS55K2EuaGVpZ2h0LzIpKTt0aGlzLmZpcmUoe3R5cGU6InJvbGxPdmVyIix0cmVuZExpbmU6dGhpcyxjaGFydDp0aGlzLmNoYXJ0fSl9LGhhbmRsZUxpbmVPdXQ6ZnVuY3Rpb24oKXt0aGlzLmxpbmUuYXR0cih7c3Ryb2tlOnRoaXMubGluZUNvbG9yfSk7DQp0aGlzLmJhbGxvb25UZXh0JiZ0aGlzLmNoYXJ0LmhpZGVCYWxsb29uKCk7dGhpcy5maXJlKHt0eXBlOiJyb2xsT3V0Iix0cmVuZExpbmU6dGhpcyxjaGFydDp0aGlzLmNoYXJ0fSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkLnJlbW92ZSh0aGlzLnNldCl9fSl9KSgpOyhmdW5jdGlvbigpe3ZhciBkPXdpbmRvdy5BbUNoYXJ0cztkLkltYWdlPWQuQ2xhc3Moe2NvbnN0cnVjdDpmdW5jdGlvbihhKXt0aGlzLmNuYW1lPSJJbWFnZSI7dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD0yMDt0aGlzLnJvdGF0aW9uPXRoaXMub2Zmc2V0WT10aGlzLm9mZnNldFg9MDt0aGlzLmJhbGxvb25Db2xvcj10aGlzLmNvbG9yPSIjMDAwMDAwIjt0aGlzLm9wYWNpdHk9MTtkLmFwcGx5VGhlbWUodGhpcyxhLHRoaXMuY25hbWUpfSxkcmF3OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnNldCYmYS5zZXQucmVtb3ZlKCk7dmFyIGI9YS5jaGFydC5jb250YWluZXI7YS5zZXQ9Yi5zZXQoKTt2YXIgYyxkO2EudXJsPyhjPWIuaW1hZ2UoYS51cmwsMCwwLGEud2lkdGgsYS5oZWlnaHQpLGQ9MSk6YS5zdmdQYXRoJiYoYz1iLnBhdGgoYS5zdmdQYXRoKSxjLnNldEF0dHIoImZpbGwiLGEuY29sb3IpLGMuc2V0QXR0cigic3Ryb2tlIixhLm91dGxpbmVDb2xvciksYj1jLmdldEJCb3goKSxkPQ0KTWF0aC5taW4oYS53aWR0aC9iLndpZHRoLGEuaGVpZ2h0L2IuaGVpZ2h0KSk7YyYmKGMuc2V0QXR0cigib3BhY2l0eSIsYS5vcGFjaXR5KSxhLnNldC5yb3RhdGUoYS5yb3RhdGlvbiksYy50cmFuc2xhdGUoLWEud2lkdGgvMiwtYS5oZWlnaHQvMixkKSxhLmJhbGxvb25UZXh0JiZjLm1vdXNlb3ZlcihmdW5jdGlvbigpe2EuY2hhcnQuc2hvd0JhbGxvb24oYS5iYWxsb29uVGV4dCxhLmJhbGxvb25Db2xvciwhMCl9KS5tb3VzZW91dChmdW5jdGlvbigpe2EuY2hhcnQuaGlkZUJhbGxvb24oKX0pLnRvdWNoZW5kKGZ1bmN0aW9uKCl7YS5jaGFydC5oaWRlQmFsbG9vbigpfSkudG91Y2hzdGFydChmdW5jdGlvbigpe2EuY2hhcnQuc2hvd0JhbGxvb24oYS5iYWxsb29uVGV4dCxhLmJhbGxvb25Db2xvciwhMCl9KSxhLnNldC5wdXNoKGMpKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXQmJnRoaXMuc2V0LnRyYW5zbGF0ZShhLGIpfX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5jaXJjbGU9ZnVuY3Rpb24oYSxiLGMsZSxnLGYsaCxrLGwpezA+PWImJihiPS4wMDEpO2lmKHZvaWQgMD09Z3x8MD09PWcpZz0uMDE7dm9pZCAwPT09ZiYmKGY9IiMwMDAwMDAiKTt2b2lkIDA9PT1oJiYoaD0wKTtlPXtmaWxsOmMsc3Ryb2tlOmYsImZpbGwtb3BhY2l0eSI6ZSwic3Ryb2tlLXdpZHRoIjpnLCJzdHJva2Utb3BhY2l0eSI6aH07YT1pc05hTihsKT9hLmNpcmNsZSgwLDAsYikuYXR0cihlKTphLmVsbGlwc2UoMCwwLGIsbCkuYXR0cihlKTtrJiZhLmdyYWRpZW50KCJyYWRpYWxHcmFkaWVudCIsW2MsZC5hZGp1c3RMdW1pbm9zaXR5KGMsLS42KV0pO3JldHVybiBhfTtkLnRleHQ9ZnVuY3Rpb24oYSxiLGMsZSxnLGYsaCxrKXtmfHwoZj0ibWlkZGxlIik7InJpZ2h0Ij09ZiYmKGY9ImVuZCIpOyJsZWZ0Ij09ZiYmKGY9InN0YXJ0Iik7aXNOYU4oaykmJihrPTEpO3ZvaWQgMCE9PWImJihiPVN0cmluZyhiKSxkLmlzSUUmJg0KIWQuaXNNb2Rlcm4mJihiPWIucmVwbGFjZSgiJmFtcDsiLCImIiksYj1iLnJlcGxhY2UoIiYiLCImYW1wOyIpKSk7Yz17ZmlsbDpjLCJmb250LWZhbWlseSI6ZSwiZm9udC1zaXplIjpnKyJweCIsb3BhY2l0eTprfTshMD09PWgmJihjWyJmb250LXdlaWdodCJdPSJib2xkIik7Y1sidGV4dC1hbmNob3IiXT1mO3JldHVybiBhLnRleHQoYixjKX07ZC5wb2x5Z29uPWZ1bmN0aW9uKGEsYixjLGUsZyxmLGgsayxsLG0sbil7aXNOYU4oZikmJihmPS4wMSk7aXNOYU4oaykmJihrPWcpO3ZhciBxPWUscD0hMTsib2JqZWN0Ij09dHlwZW9mIHEmJjE8cS5sZW5ndGgmJihwPSEwLHE9cVswXSk7dm9pZCAwPT09aCYmKGg9cSk7Zz17ZmlsbDpxLHN0cm9rZTpoLCJmaWxsLW9wYWNpdHkiOmcsInN0cm9rZS13aWR0aCI6Ziwic3Ryb2tlLW9wYWNpdHkiOmt9O3ZvaWQgMCE9PW4mJjA8biYmKGdbInN0cm9rZS1kYXNoYXJyYXkiXT1uKTtuPWQuZHg7Zj1kLmR5O2EuaGFuZERyYXduJiYoYz1kLm1ha2VIRChiLA0KYyxhLmhhbmREcmF3U2NhdHRlciksYj1jWzBdLGM9Y1sxXSk7aD1NYXRoLnJvdW5kO20mJihoPU51bWJlcik7az0iTSIrKGgoYlswXSkrbikrIiwiKyhoKGNbMF0pK2YpO2ZvcihxPTE7cTxiLmxlbmd0aDtxKyspbSYmKGJbcV09ZC5yb3VuZFRvKGJbcV0sNSksY1txXT1kLnJvdW5kVG8oY1txXSw1KSksays9IiBMIisoaChiW3FdKStuKSsiLCIrKGgoY1txXSkrZik7YT1hLnBhdGgoaysiIFoiKS5hdHRyKGcpO3AmJmEuZ3JhZGllbnQoImxpbmVhckdyYWRpZW50IixlLGwpO3JldHVybiBhfTtkLnJlY3Q9ZnVuY3Rpb24oYSxiLGMsZSxnLGYsaCxrLGwsbSxuKXtpZihpc05hTihiKXx8aXNOYU4oYykpcmV0dXJuIGEuc2V0KCk7aXNOYU4oZikmJihmPTApO3ZvaWQgMD09PWwmJihsPTApO3ZvaWQgMD09PW0mJihtPTI3MCk7aXNOYU4oZykmJihnPTApO3ZhciBxPWUscD0hMTsib2JqZWN0Ij09dHlwZW9mIHEmJihxPXFbMF0scD0hMCk7dm9pZCAwPT09aCYmKGg9cSk7dm9pZCAwPT09ayYmDQooaz1nKTtiPU1hdGgucm91bmQoYik7Yz1NYXRoLnJvdW5kKGMpO3ZhciB0PTAscj0wOzA+YiYmKGI9TWF0aC5hYnMoYiksdD0tYik7MD5jJiYoYz1NYXRoLmFicyhjKSxyPS1jKTt0Kz1kLmR4O3IrPWQuZHk7Zz17ZmlsbDpxLHN0cm9rZTpoLCJmaWxsLW9wYWNpdHkiOmcsInN0cm9rZS1vcGFjaXR5IjprfTt2b2lkIDAhPT1uJiYwPG4mJihnWyJzdHJva2UtZGFzaGFycmF5Il09bik7YT1hLnJlY3QodCxyLGIsYyxsLGYpLmF0dHIoZyk7cCYmYS5ncmFkaWVudCgibGluZWFyR3JhZGllbnQiLGUsbSk7cmV0dXJuIGF9O2QuYnVsbGV0PWZ1bmN0aW9uKGEsYixjLGUsZyxmLGgsayxsLG0sbixxLHApe3ZhciB0OyJjaXJjbGUiPT1iJiYoYj0icm91bmQiKTtzd2l0Y2goYil7Y2FzZSAicm91bmQiOnQ9ZC5jaXJjbGUoYSxjLzIsZSxnLGYsaCxrKTticmVhaztjYXNlICJzcXVhcmUiOnQ9ZC5wb2x5Z29uKGEsWy1jLzIsYy8yLGMvMiwtYy8yXSxbYy8yLGMvMiwtYy8yLC1jLzJdLGUsZyxmLGgsDQprLG0tMTgwLHZvaWQgMCxwKTticmVhaztjYXNlICJyZWN0YW5nbGUiOnQ9ZC5wb2x5Z29uKGEsWy1jLGMsYywtY10sW2MvMixjLzIsLWMvMiwtYy8yXSxlLGcsZixoLGssbS0xODAsdm9pZCAwLHApO2JyZWFrO2Nhc2UgImRpYW1vbmQiOnQ9ZC5wb2x5Z29uKGEsWy1jLzIsMCxjLzIsMF0sWzAsLWMvMiwwLGMvMl0sZSxnLGYsaCxrKTticmVhaztjYXNlICJ0cmlhbmdsZVVwIjp0PWQudHJpYW5nbGUoYSxjLDAsZSxnLGYsaCxrKTticmVhaztjYXNlICJ0cmlhbmdsZURvd24iOnQ9ZC50cmlhbmdsZShhLGMsMTgwLGUsZyxmLGgsayk7YnJlYWs7Y2FzZSAidHJpYW5nbGVMZWZ0Ijp0PWQudHJpYW5nbGUoYSxjLDI3MCxlLGcsZixoLGspO2JyZWFrO2Nhc2UgInRyaWFuZ2xlUmlnaHQiOnQ9ZC50cmlhbmdsZShhLGMsOTAsZSxnLGYsaCxrKTticmVhaztjYXNlICJidWJibGUiOnQ9ZC5jaXJjbGUoYSxjLzIsZSxnLGYsaCxrLCEwKTticmVhaztjYXNlICJsaW5lIjp0PWQubGluZShhLFstYy8NCjIsYy8yXSxbMCwwXSxlLGcsZixoLGspO2JyZWFrO2Nhc2UgInlFcnJvciI6dD1hLnNldCgpO3QucHVzaChkLmxpbmUoYSxbMCwwXSxbLWMvMixjLzJdLGUsZyxmKSk7dC5wdXNoKGQubGluZShhLFstbCxsXSxbLWMvMiwtYy8yXSxlLGcsZikpO3QucHVzaChkLmxpbmUoYSxbLWwsbF0sW2MvMixjLzJdLGUsZyxmKSk7YnJlYWs7Y2FzZSAieEVycm9yIjp0PWEuc2V0KCksdC5wdXNoKGQubGluZShhLFstYy8yLGMvMl0sWzAsMF0sZSxnLGYpKSx0LnB1c2goZC5saW5lKGEsWy1jLzIsLWMvMl0sWy1sLGxdLGUsZyxmKSksdC5wdXNoKGQubGluZShhLFtjLzIsYy8yXSxbLWwsbF0sZSxnLGYpKX10JiZ0LnBhdHRlcm4obixOYU4scSk7cmV0dXJuIHR9O2QudHJpYW5nbGU9ZnVuY3Rpb24oYSxiLGMsZCxnLGYsaCxrKXtpZih2b2lkIDA9PT1mfHwwPT09ZilmPTE7dm9pZCAwPT09aCYmKGg9IiMwMDAiKTt2b2lkIDA9PT1rJiYoaz0wKTtkPXtmaWxsOmQsc3Ryb2tlOmgsImZpbGwtb3BhY2l0eSI6ZywNCiJzdHJva2Utd2lkdGgiOmYsInN0cm9rZS1vcGFjaXR5IjprfTtiLz0yO3ZhciBsOzA9PT1jJiYobD0iIE0iKy1iKyIsIitiKyIgTDAsIistYisiIEwiK2IrIiwiK2IrIiBaIik7MTgwPT1jJiYobD0iIE0iKy1iKyIsIistYisiIEwwLCIrYisiIEwiK2IrIiwiKy1iKyIgWiIpOzkwPT1jJiYobD0iIE0iKy1iKyIsIistYisiIEwiK2IrIiwwIEwiKy1iKyIsIitiKyIgWiIpOzI3MD09YyYmKGw9IiBNIistYisiLDAgTCIrYisiLCIrYisiIEwiK2IrIiwiKy1iKyIgWiIpO3JldHVybiBhLnBhdGgobCkuYXR0cihkKX07ZC5saW5lPWZ1bmN0aW9uKGEsYixjLGUsZyxmLGgsayxsLG0sbil7aWYoYS5oYW5kRHJhd24mJiFuKXJldHVybiBkLmhhbmREcmF3bkxpbmUoYSxiLGMsZSxnLGYsaCxrLGwsbSxuKTtmPXtmaWxsOiJub25lIiwic3Ryb2tlLXdpZHRoIjpmfTt2b2lkIDAhPT1oJiYwPGgmJihmWyJzdHJva2UtZGFzaGFycmF5Il09aCk7aXNOYU4oZyl8fChmWyJzdHJva2Utb3BhY2l0eSJdPQ0KZyk7ZSYmKGYuc3Ryb2tlPWUpO2U9TWF0aC5yb3VuZDttJiYoZT1OdW1iZXIsYlswXT1kLnJvdW5kVG8oYlswXSw1KSxjWzBdPWQucm91bmRUbyhjWzBdLDUpKTttPWQuZHg7Zz1kLmR5O2g9Ik0iKyhlKGJbMF0pK20pKyIsIisoZShjWzBdKStnKTtmb3Ioaz0xO2s8Yi5sZW5ndGg7aysrKWJba109ZC5yb3VuZFRvKGJba10sNSksY1trXT1kLnJvdW5kVG8oY1trXSw1KSxoKz0iIEwiKyhlKGJba10pK20pKyIsIisoZShjW2tdKStnKTtpZihkLlZNTClyZXR1cm4gYS5wYXRoKGgsdm9pZCAwLCEwKS5hdHRyKGYpO2wmJihoKz0iIE0wLDAgTDAsMCIpO3JldHVybiBhLnBhdGgoaCkuYXR0cihmKX07ZC5tYWtlSEQ9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1bXSxnPVtdLGY9MTtmPGEubGVuZ3RoO2YrKylmb3IodmFyIGg9TnVtYmVyKGFbZi0xXSksaz1OdW1iZXIoYltmLTFdKSxsPU51bWJlcihhW2ZdKSxtPU51bWJlcihiW2ZdKSxuPU1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KGwtDQpoLDIpK01hdGgucG93KG0taywyKSkvNTApKzEsbD0obC1oKS9uLG09KG0taykvbixxPTA7cTw9bjtxKyspe3ZhciBwPWsrcSptK01hdGgucmFuZG9tKCkqYztkLnB1c2goaCtxKmwrTWF0aC5yYW5kb20oKSpjKTtnLnB1c2gocCl9cmV0dXJuW2QsZ119O2QuaGFuZERyYXduTGluZT1mdW5jdGlvbihhLGIsYyxlLGcsZixoLGssbCxtKXt2YXIgbixxPWEuc2V0KCk7Zm9yKG49MTtuPGIubGVuZ3RoO24rKylmb3IodmFyIHA9W2Jbbi0xXSxiW25dXSx0PVtjW24tMV0sY1tuXV0sdD1kLm1ha2VIRChwLHQsYS5oYW5kRHJhd1NjYXR0ZXIpLHA9dFswXSx0PXRbMV0scj0xO3I8cC5sZW5ndGg7cisrKXEucHVzaChkLmxpbmUoYSxbcFtyLTFdLHBbcl1dLFt0W3ItMV0sdFtyXV0sZSxnLGYrTWF0aC5yYW5kb20oKSphLmhhbmREcmF3VGhpY2tuZXNzLWEuaGFuZERyYXdUaGlja25lc3MvMixoLGssbCxtLCEwKSk7cmV0dXJuIHF9O2QuZG9Ob3RoaW5nPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtkLmRyb3A9DQpmdW5jdGlvbihhLGIsYyxkLGcsZixoLGspe3ZhciBsPTEvMTgwKk1hdGguUEksbT1jLTIwLG49TWF0aC5zaW4obSpsKSpiLHE9TWF0aC5jb3MobSpsKSpiLHA9TWF0aC5zaW4oKG0rNDApKmwpKmIsdD1NYXRoLmNvcygobSs0MCkqbCkqYixyPS44KmIsdz0tYi8zLHo9Yi8zOzA9PT1jJiYodz0tdyx6PTApOzE4MD09YyYmKHo9MCk7OTA9PWMmJih3PTApOzI3MD09YyYmKHc9MCx6PS16KTtjPXtmaWxsOmQsc3Ryb2tlOmgsInN0cm9rZS13aWR0aCI6Ziwic3Ryb2tlLW9wYWNpdHkiOmssImZpbGwtb3BhY2l0eSI6Z307Yj0iTSIrbisiLCIrcSsiIEEiK2IrIiwiK2IrIiwwLDEsMSwiK3ArIiwiK3QrKCIgQSIrcisiLCIrcisiLDAsMCwwLCIrKE1hdGguc2luKChtKzIwKSpsKSpiK3opKyIsIisoTWF0aC5jb3MoKG0rMjApKmwpKmIrdykpO2IrPSIgQSIrcisiLCIrcisiLDAsMCwwLCIrbisiLCIrcTtyZXR1cm4gYS5wYXRoKGIsdm9pZCAwLHZvaWQgMCwiMTAwMCwxMDAwIikuYXR0cihjKX07DQpkLndlZGdlPWZ1bmN0aW9uKGEsYixjLGUsZyxmLGgsayxsLG0sbixxLHAsdCl7dmFyIHI9TWF0aC5yb3VuZDtmPXIoZik7aD1yKGgpO2s9cihrKTt2YXIgdz1yKGgvZiprKSx6PWQuVk1MLHg9MzU5LjUrZi8xMDA7MzU5Ljk0PHgmJih4PTM1OS45NCk7Zz49eCYmKGc9eCk7dmFyIHU9MS8xODAqTWF0aC5QSSx4PWIrTWF0aC5zaW4oZSp1KSprLEE9Yy1NYXRoLmNvcyhlKnUpKncseT1iK01hdGguc2luKGUqdSkqZixCPWMtTWF0aC5jb3MoZSp1KSpoLEQ9YitNYXRoLnNpbigoZStnKSp1KSpmLEM9Yy1NYXRoLmNvcygoZStnKSp1KSpoLEk9YitNYXRoLnNpbigoZStnKSp1KSprLHU9Yy1NYXRoLmNvcygoZStnKSp1KSp3LEg9e2ZpbGw6ZC5hZGp1c3RMdW1pbm9zaXR5KG0uZmlsbCwtLjIpLCJzdHJva2Utb3BhY2l0eSI6MCwiZmlsbC1vcGFjaXR5IjptWyJmaWxsLW9wYWNpdHkiXX0sUT0wOzE4MDxNYXRoLmFicyhnKSYmKFE9MSk7ZT1hLnNldCgpO3ZhciBNO3omJih4PXIoMTAqeCkseT0NCnIoMTAqeSksRD1yKDEwKkQpLEk9cigxMCpJKSxBPXIoMTAqQSksQj1yKDEwKkIpLEM9cigxMCpDKSx1PXIoMTAqdSksYj1yKDEwKmIpLGw9cigxMCpsKSxjPXIoMTAqYyksZio9MTAsaCo9MTAsayo9MTAsdyo9MTAsMT5NYXRoLmFicyhnKSYmMT49TWF0aC5hYnMoRC15KSYmMT49TWF0aC5hYnMoQy1CKSYmKE09ITApKTtnPSIiO3ZhciBQO3EmJihIWyJmaWxsLW9wYWNpdHkiXT0wLEhbInN0cm9rZS1vcGFjaXR5Il09bVsic3Ryb2tlLW9wYWNpdHkiXS8yLEguc3Ryb2tlPW0uc3Ryb2tlKTtpZigwPGwpe1A9IiBNIit4KyIsIisoQStsKSsiIEwiK3krIiwiKyhCK2wpO3o/KE18fChQKz0iIEEiKyhiLWYpKyIsIisobCtjLWgpKyIsIisoYitmKSsiLCIrKGwrYytoKSsiLCIreSsiLCIrKEIrbCkrIiwiK0QrIiwiKyhDK2wpKSxQKz0iIEwiK0krIiwiKyh1K2wpLDA8ayYmKE18fChQKz0iIEIiKyhiLWspKyIsIisobCtjLXcpKyIsIisoYitrKSsiLCIrKGwrYyt3KSsiLCIrSSsiLCIrKGwrdSkrDQoiLCIreCsiLCIrKGwrQSkpKSk6KFArPSIgQSIrZisiLCIraCsiLDAsIitRKyIsMSwiK0QrIiwiKyhDK2wpKyIgTCIrSSsiLCIrKHUrbCksMDxrJiYoUCs9IiBBIitrKyIsIit3KyIsMCwiK1ErIiwwLCIreCsiLCIrKEErbCkpKTtQKz0iIFoiO3ZhciBpYT1sO3omJihpYS89MTApO2Zvcih2YXIgSj0wO0o8aWE7Sis9MTApe3ZhciBhYT1hLnBhdGgoUCx2b2lkIDAsdm9pZCAwLCIxMDAwLDEwMDAiKS5hdHRyKEgpO2UucHVzaChhYSk7YWEudHJhbnNsYXRlKDAsLUopfVA9YS5wYXRoKCIgTSIreCsiLCIrQSsiIEwiK3grIiwiKyhBK2wpKyIgTCIreSsiLCIrKEIrbCkrIiBMIit5KyIsIitCKyIgTCIreCsiLCIrQSsiIFoiLHZvaWQgMCx2b2lkIDAsIjEwMDAsMTAwMCIpLmF0dHIoSCk7bD1hLnBhdGgoIiBNIitEKyIsIitDKyIgTCIrRCsiLCIrKEMrbCkrIiBMIitJKyIsIisodStsKSsiIEwiK0krIiwiK3UrIiBMIitEKyIsIitDKyIgWiIsdm9pZCAwLHZvaWQgMCwiMTAwMCwxMDAwIikuYXR0cihIKTsNCmUucHVzaChQKTtlLnB1c2gobCl9ej8oTXx8KGc9IiBBIityKGItZikrIiwiK3IoYy1oKSsiLCIrcihiK2YpKyIsIityKGMraCkrIiwiK3IoeSkrIiwiK3IoQikrIiwiK3IoRCkrIiwiK3IoQykpLGg9IiBNIityKHgpKyIsIityKEEpKyIgTCIrcih5KSsiLCIrcihCKStnKyIgTCIrcihJKSsiLCIrcih1KSk6aD0iIE0iK3grIiwiK0ErIiBMIit5KyIsIitCKygiIEEiK2YrIiwiK2grIiwwLCIrUSsiLDEsIitEKyIsIitDKSsiIEwiK0krIiwiK3U7MDxrJiYoej9NfHwoaCs9IiBCIisoYi1rKSsiLCIrKGMtdykrIiwiKyhiK2spKyIsIisoYyt3KSsiLCIrSSsiLCIrdSsiLCIreCsiLCIrQSk6aCs9IiBBIitrKyIsIit3KyIsMCwiK1ErIiwwLCIreCsiLCIrQSk7YS5oYW5kRHJhd24mJihrPWQubGluZShhLFt4LHldLFtBLEJdLG0uc3Ryb2tlLG0udGhpY2tuZXNzKk1hdGgucmFuZG9tKCkqYS5oYW5kRHJhd1RoaWNrbmVzcyxtWyJzdHJva2Utb3BhY2l0eSJdKSxlLnB1c2goaykpO2E9YS5wYXRoKGgrDQoiIFoiLHZvaWQgMCx2b2lkIDAsIjEwMDAsMTAwMCIpLmF0dHIobSk7aWYobil7az1bXTtmb3Iodz0wO3c8bi5sZW5ndGg7dysrKWsucHVzaChkLmFkanVzdEx1bWlub3NpdHkobS5maWxsLG5bd10pKTsicmFkaWFsIiE9dHx8ZC5pc01vZGVybnx8KGs9W10pOzA8ay5sZW5ndGgmJmEuZ3JhZGllbnQodCsiR3JhZGllbnQiLGspfWQuaXNNb2Rlcm4mJiJyYWRpYWwiPT10JiZhLmdyYWQmJihhLmdyYWQuc2V0QXR0cmlidXRlKCJncmFkaWVudFVuaXRzIiwidXNlclNwYWNlT25Vc2UiKSxhLmdyYWQuc2V0QXR0cmlidXRlKCJyIixmKSxhLmdyYWQuc2V0QXR0cmlidXRlKCJjeCIsYiksYS5ncmFkLnNldEF0dHJpYnV0ZSgiY3kiLGMpKTthLnBhdHRlcm4ocSxOYU4scCk7ZS53ZWRnZT1hO2UucHVzaChhKTtyZXR1cm4gZX07ZC5yZ2IyaGV4PWZ1bmN0aW9uKGEpe3JldHVybihhPWEubWF0Y2goL15yZ2JhP1tccytdP1woW1xzK10/KFxkKylbXHMrXT8sW1xzK10/KFxkKylbXHMrXT8sW1xzK10/KFxkKylbXHMrXT8vaSkpJiYNCjQ9PT1hLmxlbmd0aD8iIyIrKCIwIitwYXJzZUludChhWzFdLDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSsoIjAiK3BhcnNlSW50KGFbMl0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpKygiMCIrcGFyc2VJbnQoYVszXSwxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik6IiJ9O2QuYWRqdXN0THVtaW5vc2l0eT1mdW5jdGlvbihhLGIpe2EmJi0xIT1hLmluZGV4T2YoInJnYiIpJiYoYT1kLnJnYjJoZXgoYSkpO2E9U3RyaW5nKGEpLnJlcGxhY2UoL1teMC05YS1mXS9naSwiIik7Nj5hLmxlbmd0aCYmKGE9U3RyaW5nKGFbMF0pK1N0cmluZyhhWzBdKStTdHJpbmcoYVsxXSkrU3RyaW5nKGFbMV0pK1N0cmluZyhhWzJdKStTdHJpbmcoYVsyXSkpO2I9Ynx8MDt2YXIgYz0iIyIsZSxnO2ZvcihnPTA7Mz5nO2crKyllPXBhcnNlSW50KGEuc3Vic3RyKDIqZywyKSwxNiksZT1NYXRoLnJvdW5kKE1hdGgubWluKE1hdGgubWF4KDAsZStlKmIpLDI1NSkpLnRvU3RyaW5nKDE2KSxjKz0oIjAwIisNCmUpLnN1YnN0cihlLmxlbmd0aCk7cmV0dXJuIGN9fSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5CZXppZXI9ZC5DbGFzcyh7Y29uc3RydWN0OmZ1bmN0aW9uKGEsYixjLGUsZyxmLGgsayxsLG0sbil7dmFyIHE9YS5jaGFydCxwPWQuYmV6aWVyWCx0PWQuYmV6aWVyWTtpc05hTihxLmJlemllclgpfHwocD1xLmJlemllclgpO2lzTmFOKHEuYmV6aWVyWSl8fCh0PXEuYmV6aWVyWSk7aXNOYU4ocCkmJihxLnJvdGF0ZT8ocD0yMCx0PTQpOih0PTIwLHA9NCkpO3ZhciByLHc7Im9iamVjdCI9PXR5cGVvZiBoJiYxPGgubGVuZ3RoJiYodz0hMCxyPWgsaD1oWzBdKTsib2JqZWN0Ij09dHlwZW9mIGsmJihrPWtbMF0pOzA9PT1rJiYoaD0ibm9uZSIpO2Y9e2ZpbGw6aCwiZmlsbC1vcGFjaXR5IjprLCJzdHJva2Utd2lkdGgiOmZ9O3ZvaWQgMCE9PWwmJjA8bCYmKGZbInN0cm9rZS1kYXNoYXJyYXkiXT1sKTtpc05hTihnKXx8KGZbInN0cm9rZS1vcGFjaXR5Il09Zyk7ZSYmKGYuc3Ryb2tlPWUpO2U9Ik0iK01hdGgucm91bmQoYlswXSkrDQoiLCIrTWF0aC5yb3VuZChjWzBdKSsiICI7Zz1bXTtmb3IobD0wO2w8Yi5sZW5ndGg7bCsrKWlzTmFOKGJbbF0pfHxpc05hTihjW2xdKT8oZSs9dGhpcy5kcmF3U2VnbWVudChnLHAsdCksbDxiLmxlbmd0aC0xJiYoZSs9IkwiK2JbbCsxXSsiLCIrY1tsKzFdKyIgIiksZz1bXSk6Zy5wdXNoKHt4Ok51bWJlcihiW2xdKSx5Ok51bWJlcihjW2xdKX0pO2UrPXRoaXMuZHJhd1NlZ21lbnQoZyxwLHQpO20mJihlKz1tKTt0aGlzLnBhdGg9YS5wYXRoKGUpLmF0dHIoZik7dGhpcy5ub2RlPXRoaXMucGF0aC5ub2RlO3cmJnRoaXMucGF0aC5ncmFkaWVudCgibGluZWFyR3JhZGllbnQiLHIsbil9LGRyYXdTZWdtZW50OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0iIjtpZigyPGEubGVuZ3RoKWZvcih2YXIgZz0wO2c8YS5sZW5ndGgtMTtnKyspe3ZhciBmPVtdLGg9YVtnLTFdLGs9YVtnXSxsPWFbZysxXSxtPWFbZysyXTswPT09Zz8oZi5wdXNoKHt4OmsueCx5OmsueX0pLGYucHVzaCh7eDprLngseTprLnl9KSwNCmYucHVzaCh7eDpsLngseTpsLnl9KSxmLnB1c2goe3g6bS54LHk6bS55fSkpOmc+PWEubGVuZ3RoLTI/KGYucHVzaCh7eDpoLngseTpoLnl9KSxmLnB1c2goe3g6ay54LHk6ay55fSksZi5wdXNoKHt4OmwueCx5OmwueX0pLGYucHVzaCh7eDpsLngseTpsLnl9KSk6KGYucHVzaCh7eDpoLngseTpoLnl9KSxmLnB1c2goe3g6ay54LHk6ay55fSksZi5wdXNoKHt4OmwueCx5OmwueX0pLGYucHVzaCh7eDptLngseTptLnl9KSk7aD1bXTtrPU1hdGgucm91bmQ7aC5wdXNoKHt4OmsoZlsxXS54KSx5OmsoZlsxXS55KX0pO2gucHVzaCh7eDprKCgtZlswXS54K2IqZlsxXS54K2ZbMl0ueCkvYikseTprKCgtZlswXS55K2MqZlsxXS55K2ZbMl0ueSkvYyl9KTtoLnB1c2goe3g6aygoZlsxXS54K2IqZlsyXS54LWZbM10ueCkvYikseTprKChmWzFdLnkrYypmWzJdLnktZlszXS55KS9jKX0pO2gucHVzaCh7eDprKGZbMl0ueCkseTprKGZbMl0ueSl9KTtkKz0iQyIraFsxXS54KyIsIitoWzFdLnkrIiwiKw0KaFsyXS54KyIsIitoWzJdLnkrIiwiK2hbM10ueCsiLCIraFszXS55KyIgIn1lbHNlIDE8YS5sZW5ndGgmJihkKz0iTCIrYVsxXS54KyIsIithWzFdLnkpO3JldHVybiBkfX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5BbURyYXc9ZC5DbGFzcyh7Y29uc3RydWN0OmZ1bmN0aW9uKGEsYixjLGUpe2QuU1ZHX05TPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI7ZC5TVkdfWExJTks9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiO2QuaGFzU1ZHPSEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TJiYhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkLlNWR19OUywic3ZnIikuY3JlYXRlU1ZHUmVjdDsxPmImJihiPTEwKTsxPmMmJihjPTEwKTt0aGlzLmRpdj1hO3RoaXMud2lkdGg9Yjt0aGlzLmhlaWdodD1jO3RoaXMuckJpbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLmhhc1NWRz8oZC5TVkc9ITAsYj10aGlzLmNyZWF0ZVN2Z0VsZW1lbnQoInN2ZyIpLGEuYXBwZW5kQ2hpbGQoYiksdGhpcy5jb250YWluZXI9Yix0aGlzLmFkZERlZnMoZSksdGhpcy5SPW5ldyBkLlNWR1JlbmRlcmVyKHRoaXMpKTpkLmlzSUUmJmQuVk1MUmVuZGVyZXImJg0KKGQuVk1MPSEwLGQudm1sU3R5bGVTaGVldHx8KGRvY3VtZW50Lm5hbWVzcGFjZXMuYWRkKCJhbXZtbCIsInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIiksMzE+ZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoPyhiPWRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQoKSxiLmFkZFJ1bGUoIi5hbXZtbCIsImJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOyBkaXNwbGF5OmlubGluZS1ibG9jazsgYW50aWFsaWFzOnRydWUiKSxkLnZtbFN0eWxlU2hlZXQ9Yik6ZG9jdW1lbnQuc3R5bGVTaGVldHNbMF0uYWRkUnVsZSgiLmFtdm1sIiwiYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCk7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyBhbnRpYWxpYXM6dHJ1ZSIpKSx0aGlzLmNvbnRhaW5lcj1hLHRoaXMuUj1uZXcgZC5WTUxSZW5kZXJlcih0aGlzLGUpLHRoaXMuUi5kaXNhYmxlU2VsZWN0aW9uKGEpKX0sY3JlYXRlU3ZnRWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQuU1ZHX05TLA0KYSl9LGNpcmNsZTpmdW5jdGlvbihhLGIsYyxlKXt2YXIgZz1uZXcgZC5BbURPYmplY3QoImNpcmNsZSIsdGhpcyk7Zy5hdHRyKHtyOmMsY3g6YSxjeTpifSk7dGhpcy5hZGRUb0NvbnRhaW5lcihnLm5vZGUsZSk7cmV0dXJuIGd9LGVsbGlwc2U6ZnVuY3Rpb24oYSxiLGMsZSxnKXt2YXIgZj1uZXcgZC5BbURPYmplY3QoImVsbGlwc2UiLHRoaXMpO2YuYXR0cih7cng6YyxyeTplLGN4OmEsY3k6Yn0pO3RoaXMuYWRkVG9Db250YWluZXIoZi5ub2RlLGcpO3JldHVybiBmfSxzZXRTaXplOmZ1bmN0aW9uKGEsYil7MDxhJiYwPGImJih0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aD1hKyJweCIsdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0PWIrInB4Iil9LHJlY3Q6ZnVuY3Rpb24oYSxiLGMsZSxnLGYsaCl7dmFyIGs9bmV3IGQuQW1ET2JqZWN0KCJyZWN0Iix0aGlzKTtkLlZNTCYmKGc9TWF0aC5yb3VuZCgxMDAqZy9NYXRoLm1pbihjLGUpKSxjKz0yKmYsZSs9MipmLGsuYnc9ZixrLm5vZGUuc3R5bGUubWFyZ2luTGVmdD0NCi1mLGsubm9kZS5zdHlsZS5tYXJnaW5Ub3A9LWYpOzE+YyYmKGM9MSk7MT5lJiYoZT0xKTtrLmF0dHIoe3g6YSx5OmIsd2lkdGg6YyxoZWlnaHQ6ZSxyeDpnLHJ5OmcsInN0cm9rZS13aWR0aCI6Zn0pO3RoaXMuYWRkVG9Db250YWluZXIoay5ub2RlLGgpO3JldHVybiBrfSxpbWFnZTpmdW5jdGlvbihhLGIsYyxlLGcsZil7dmFyIGg9bmV3IGQuQW1ET2JqZWN0KCJpbWFnZSIsdGhpcyk7aC5hdHRyKHt4OmIseTpjLHdpZHRoOmUsaGVpZ2h0Omd9KTt0aGlzLlIucGF0aChoLGEpO3RoaXMuYWRkVG9Db250YWluZXIoaC5ub2RlLGYpO3JldHVybiBofSxhZGRUb0NvbnRhaW5lcjpmdW5jdGlvbihhLGIpe2J8fChiPXRoaXMuY29udGFpbmVyKTtiLmFwcGVuZENoaWxkKGEpfSx0ZXh0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5SLnRleHQoYSxiLGMpfSxwYXRoOmZ1bmN0aW9uKGEsYixjLGUpe3ZhciBnPW5ldyBkLkFtRE9iamVjdCgicGF0aCIsdGhpcyk7ZXx8KGU9IjEwMCwxMDAiKTsNCmcuYXR0cih7Y3M6ZX0pO2M/Zy5hdHRyKHtkZDphfSk6Zy5hdHRyKHtkOmF9KTt0aGlzLmFkZFRvQ29udGFpbmVyKGcubm9kZSxiKTtyZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLlIuc2V0KGEpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5yQmluO2IuYXBwZW5kQ2hpbGQoYSk7Yi5pbm5lckhUTUw9IiJ9fSxyZW5kZXJGaXg6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRhaW5lcixiPWEuc3R5bGU7Yi50b3A9IjBweCI7Yi5sZWZ0PSIwcHgiO3RyeXt2YXIgYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGQ9Yy5sZWZ0LU1hdGgucm91bmQoYy5sZWZ0KSxnPWMudG9wLU1hdGgucm91bmQoYy50b3ApO2QmJihiLmxlZnQ9ZCsicHgiKTtnJiYoYi50b3A9ZysicHgiKX1jYXRjaChmKXt9fSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLlIudXBkYXRlKCl9LGFkZERlZnM6ZnVuY3Rpb24oYSl7aWYoZC5oYXNTVkcpe3ZhciBiPXRoaXMuY3JlYXRlU3ZnRWxlbWVudCgiZGVzYyIpLA0KYz10aGlzLmNvbnRhaW5lcjtjLnNldEF0dHJpYnV0ZSgidmVyc2lvbiIsIjEuMSIpO2Muc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt0aGlzLnNldFNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCk7aWYoYS5hY2Nlc3NpYmxlVGl0bGUpe3ZhciBlPXRoaXMuY3JlYXRlU3ZnRWxlbWVudCgidGV4dCIpO2MuYXBwZW5kQ2hpbGQoZSk7ZS5pbm5lckhUTUw9YS5hY2Nlc3NpYmxlVGl0bGU7ZS5zdHlsZS5vcGFjaXR5PTB9ZC5ydGwmJihjLnNldEF0dHJpYnV0ZSgiZGlyZWN0aW9uIiwicnRsIiksYy5zdHlsZS5sZWZ0PSJhdXRvIixjLnN0eWxlLnJpZ2h0PSIwcHgiKTthJiYoYS5hZGRDb2RlQ3JlZGl0cyYmYi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiSmF2YVNjcmlwdCBjaGFydCBieSBhbUNoYXJ0cyAiK2EudmVyc2lvbikpLGEuYWNjZXNzaWJsZURlc2NyaXB0aW9uJiYoYi5pbm5lckhUTUw9IiIsYi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhLmFjY2Vzc2libGVEZXNjcmlwdGlvbikpKSwNCmMuYXBwZW5kQ2hpbGQoYiksYS5kZWZzJiYoYj10aGlzLmNyZWF0ZVN2Z0VsZW1lbnQoImRlZnMiKSxjLmFwcGVuZENoaWxkKGIpLGQucGFyc2VEZWZzKGEuZGVmcyxiKSx0aGlzLmRlZnM9YikpfX19KX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGQ9d2luZG93LkFtQ2hhcnRzO2QuQW1ET2JqZWN0PWQuQ2xhc3Moe2NvbnN0cnVjdDpmdW5jdGlvbihhLGIpe3RoaXMuRD1iO3RoaXMuUj1iLlI7dGhpcy5ub2RlPXRoaXMuUi5jcmVhdGUodGhpcyxhKTt0aGlzLnk9dGhpcy54PTA7dGhpcy5zY2FsZT0xfSxhdHRyOmZ1bmN0aW9uKGEpe3RoaXMuUi5hdHRyKHRoaXMsYSk7cmV0dXJuIHRoaXN9LGdldEF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9kZS5nZXRBdHRyaWJ1dGUoYSl9LHNldEF0dHI6ZnVuY3Rpb24oYSxiKXt0aGlzLlIuc2V0QXR0cih0aGlzLGEsYik7cmV0dXJuIHRoaXN9LGNsaXBSZWN0OmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuUi5jbGlwUmVjdCh0aGlzLGEsYixjLGQpfSx0cmFuc2xhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7ZHx8KGE9TWF0aC5yb3VuZChhKSxiPU1hdGgucm91bmQoYikpO3RoaXMuUi5tb3ZlKHRoaXMsYSxiLGMpO3RoaXMueD1hO3RoaXMueT1iO3RoaXMuc2NhbGU9DQpjO3RoaXMuYW5nbGUmJnRoaXMucm90YXRlKHRoaXMuYW5nbGUpfSxyb3RhdGU6ZnVuY3Rpb24oYSxiKXt0aGlzLlIucm90YXRlKHRoaXMsYSxiKTt0aGlzLmFuZ2xlPWF9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZSBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBnPWUsZj1hW2VdO2M9ZC5nZXRFZmZlY3QoYyk7dGhpcy5SLmFuaW1hdGUodGhpcyxnLGYsYixjKX19LHB1c2g6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5ub2RlO2IuYXBwZW5kQ2hpbGQoYS5ub2RlKTt2YXIgYz1hLmNsaXBQYXRoO2MmJmIuYXBwZW5kQ2hpbGQoYyk7KGE9YS5ncmFkKSYmYi5hcHBlbmRDaGlsZChhKX19LHRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5SLnNldFRleHQodGhpcyxhKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wKCk7dGhpcy5SLnJlbW92ZSh0aGlzKX0sY2xlYXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5vZGU7aWYoYS5oYXNDaGlsZE5vZGVzKCkpZm9yKDsxPD0NCmEuY2hpbGROb2Rlcy5sZW5ndGg7KWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKX0saGlkZTpmdW5jdGlvbigpe3RoaXMuc2V0QXR0cigidmlzaWJpbGl0eSIsImhpZGRlbiIpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRBdHRyKCJ2aXNpYmlsaXR5IiwidmlzaWJsZSIpfSxnZXRCQm94OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUi5nZXRCQm94KHRoaXMpfSx0b0Zyb250OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ub2RlO2lmKGEpe3RoaXMucHJldk5leHROb2RlPWEubmV4dFNpYmxpbmc7dmFyIGI9YS5wYXJlbnROb2RlO2ImJmIuYXBwZW5kQ2hpbGQoYSl9fSx0b1ByZXZpb3VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ub2RlO2EmJnRoaXMucHJldk5leHROb2RlJiYoYT1hLnBhcmVudE5vZGUpJiZhLmluc2VydEJlZm9yZSh0aGlzLnByZXZOZXh0Tm9kZSxudWxsKX0sdG9CYWNrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ub2RlO2lmKGEpe3RoaXMucHJldk5leHROb2RlPWEubmV4dFNpYmxpbmc7DQp2YXIgYj1hLnBhcmVudE5vZGU7aWYoYil7dmFyIGM9Yi5maXJzdENoaWxkO2MmJmIuaW5zZXJ0QmVmb3JlKGEsYyl9fX0sbW91c2VvdmVyOmZ1bmN0aW9uKGEpe3RoaXMuUi5hZGRMaXN0ZW5lcih0aGlzLCJtb3VzZW92ZXIiLGEpO3JldHVybiB0aGlzfSxtb3VzZW91dDpmdW5jdGlvbihhKXt0aGlzLlIuYWRkTGlzdGVuZXIodGhpcywibW91c2VvdXQiLGEpO3JldHVybiB0aGlzfSxjbGljazpmdW5jdGlvbihhKXt0aGlzLlIuYWRkTGlzdGVuZXIodGhpcywiY2xpY2siLGEpO3JldHVybiB0aGlzfSxkYmxjbGljazpmdW5jdGlvbihhKXt0aGlzLlIuYWRkTGlzdGVuZXIodGhpcywiZGJsY2xpY2siLGEpO3JldHVybiB0aGlzfSxtb3VzZWRvd246ZnVuY3Rpb24oYSl7dGhpcy5SLmFkZExpc3RlbmVyKHRoaXMsIm1vdXNlZG93biIsYSk7cmV0dXJuIHRoaXN9LG1vdXNldXA6ZnVuY3Rpb24oYSl7dGhpcy5SLmFkZExpc3RlbmVyKHRoaXMsIm1vdXNldXAiLGEpO3JldHVybiB0aGlzfSx0b3VjaG1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5SLmFkZExpc3RlbmVyKHRoaXMsDQoidG91Y2htb3ZlIixhKTtyZXR1cm4gdGhpc30sdG91Y2hzdGFydDpmdW5jdGlvbihhKXt0aGlzLlIuYWRkTGlzdGVuZXIodGhpcywidG91Y2hzdGFydCIsYSk7cmV0dXJuIHRoaXN9LHRvdWNoZW5kOmZ1bmN0aW9uKGEpe3RoaXMuUi5hZGRMaXN0ZW5lcih0aGlzLCJ0b3VjaGVuZCIsYSk7cmV0dXJuIHRoaXN9LGtleXVwOmZ1bmN0aW9uKGEpe3RoaXMuUi5hZGRMaXN0ZW5lcih0aGlzLCJrZXl1cCIsYSk7cmV0dXJuIHRoaXN9LGZvY3VzOmZ1bmN0aW9uKGEpe3RoaXMuUi5hZGRMaXN0ZW5lcih0aGlzLCJmb2N1cyIsYSk7cmV0dXJuIHRoaXN9LGJsdXI6ZnVuY3Rpb24oYSl7dGhpcy5SLmFkZExpc3RlbmVyKHRoaXMsImJsdXIiLGEpO3JldHVybiB0aGlzfSxjb250ZXh0bWVudTpmdW5jdGlvbihhKXt0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcj90aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLGEsITApOnRoaXMuUi5hZGRMaXN0ZW5lcih0aGlzLCJjb250ZXh0bWVudSIsDQphKTtyZXR1cm4gdGhpc30sc3RvcDpmdW5jdGlvbigpe2QucmVtb3ZlRnJvbUFycmF5KHRoaXMuUi5hbmltYXRpb25zLHRoaXMuYW5fdHJhbnNsYXRlKTtkLnJlbW92ZUZyb21BcnJheSh0aGlzLlIuYW5pbWF0aW9ucyx0aGlzLmFuX3kpO2QucmVtb3ZlRnJvbUFycmF5KHRoaXMuUi5hbmltYXRpb25zLHRoaXMuYW5feCl9LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuY2hpbGROb2Rlcy5sZW5ndGh9LGdyYWRpZW50OmZ1bmN0aW9uKGEsYixjKXt0aGlzLlIuZ3JhZGllbnQodGhpcyxhLGIsYyl9LHBhdHRlcm46ZnVuY3Rpb24oYSxiLGMpe2EmJnRoaXMuUi5wYXR0ZXJuKHRoaXMsYSxiLGMpfX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5WTUxSZW5kZXJlcj1kLkNsYXNzKHtjb25zdHJ1Y3Q6ZnVuY3Rpb24oYSxiKXt0aGlzLmNoYXJ0PWI7dGhpcy5EPWE7dGhpcy5jTmFtZXM9e2NpcmNsZToib3ZhbCIsZWxsaXBzZToib3ZhbCIscmVjdDoicm91bmRyZWN0IixwYXRoOiJzaGFwZSJ9O3RoaXMuc3R5bGVNYXA9e3g6ImxlZnQiLHk6InRvcCIsd2lkdGg6IndpZHRoIixoZWlnaHQ6ImhlaWdodCIsImZvbnQtZmFtaWx5IjoiZm9udEZhbWlseSIsImZvbnQtc2l6ZSI6ImZvbnRTaXplIix2aXNpYmlsaXR5OiJ2aXNpYmlsaXR5In19LGNyZWF0ZTpmdW5jdGlvbihhLGIpe3ZhciBjO2lmKCJncm91cCI9PWIpYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxhLnR5cGU9ImRpdiI7ZWxzZSBpZigidGV4dCI9PWIpYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxhLnR5cGU9InRleHQiO2Vsc2UgaWYoImltYWdlIj09YiljPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLA0KYS50eXBlPSJpbWFnZSI7ZWxzZXthLnR5cGU9InNoYXBlIjthLnNoYXBlVHlwZT10aGlzLmNOYW1lc1tiXTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImFtdm1sOiIrdGhpcy5jTmFtZXNbYl0pO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImFtdm1sOnN0cm9rZSIpO2MuYXBwZW5kQ2hpbGQoZCk7YS5zdHJva2U9ZDt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhbXZtbDpmaWxsIik7Yy5hcHBlbmRDaGlsZChnKTthLmZpbGw9ZztnLmNsYXNzTmFtZT0iYW12bWwiO2QuY2xhc3NOYW1lPSJhbXZtbCI7Yy5jbGFzc05hbWU9ImFtdm1sIn1jLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Yy5zdHlsZS50b3A9MDtjLnN0eWxlLmxlZnQ9MDtyZXR1cm4gY30scGF0aDpmdW5jdGlvbihhLGIpe2Eubm9kZS5zZXRBdHRyaWJ1dGUoInNyYyIsYil9LHNldEF0dHI6ZnVuY3Rpb24oYSxiLGMpe2lmKHZvaWQgMCE9PWMpe3ZhciBlOzg9PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJg0KKGU9ITApO3ZhciBnPWEubm9kZSxmPWEudHlwZSxoPWcuc3R5bGU7InIiPT1iJiYoaC53aWR0aD0yKmMsaC5oZWlnaHQ9MipjKTsib3ZhbCI9PWEuc2hhcGVUeXBlJiYoInJ4Ij09YiYmKGgud2lkdGg9MipjKSwicnkiPT1iJiYoaC5oZWlnaHQ9MipjKSk7InJvdW5kcmVjdCI9PWEuc2hhcGVUeXBlJiYoIndpZHRoIiE9YiYmImhlaWdodCIhPWJ8fC0tYyk7ImN1cnNvciI9PWImJihoLmN1cnNvcj1jKTsiY3giPT1iJiYoaC5sZWZ0PWMtZC5yZW1vdmVQeChoLndpZHRoKS8yKTsiY3kiPT1iJiYoaC50b3A9Yy1kLnJlbW92ZVB4KGguaGVpZ2h0KS8yKTt2YXIgaz10aGlzLnN0eWxlTWFwW2JdOyJ3aWR0aCI9PWsmJjA+YyYmKGM9MCk7dm9pZCAwIT09ayYmKGhba109Yyk7InRleHQiPT1mJiYoInRleHQtYW5jaG9yIj09YiYmKGEuYW5jaG9yPWMsaz1nLmNsaWVudFdpZHRoLCJlbmQiPT1jJiYoaC5tYXJnaW5MZWZ0PS1rKyJweCIpLCJtaWRkbGUiPT1jJiYoaC5tYXJnaW5MZWZ0PS0oay8yKSsNCiJweCIsaC50ZXh0QWxpZ249ImNlbnRlciIpLCJzdGFydCI9PWMmJihoLm1hcmdpbkxlZnQ9IjBweCIpKSwiZmlsbCI9PWImJihoLmNvbG9yPWMpLCJmb250LXdlaWdodCI9PWImJihoLmZvbnRXZWlnaHQ9YykpO2lmKGg9YS5jaGlsZHJlbilmb3Ioaz0wO2s8aC5sZW5ndGg7aysrKWhba10uc2V0QXR0cihiLGMpO2lmKCJzaGFwZSI9PWYpeyJjcyI9PWImJihnLnN0eWxlLndpZHRoPSIxMDBweCIsZy5zdHlsZS5oZWlnaHQ9IjEwMHB4IixnLnNldEF0dHJpYnV0ZSgiY29vcmRzaXplIixjKSk7ImQiPT1iJiZnLnNldEF0dHJpYnV0ZSgicGF0aCIsdGhpcy5zdmdQYXRoVG9WbWwoYykpOyJkZCI9PWImJmcuc2V0QXR0cmlidXRlKCJwYXRoIixjKTtmPWEuc3Ryb2tlO2E9YS5maWxsOyJzdHJva2UiPT1iJiYoZT9mLmNvbG9yPWM6Zi5zZXRBdHRyaWJ1dGUoImNvbG9yIixjKSk7InN0cm9rZS13aWR0aCI9PWImJihlP2Yud2VpZ2h0PWM6Zi5zZXRBdHRyaWJ1dGUoIndlaWdodCIsYykpOyJzdHJva2Utb3BhY2l0eSI9PQ0KYiYmKGU/Zi5vcGFjaXR5PWM6Zi5zZXRBdHRyaWJ1dGUoIm9wYWNpdHkiLGMpKTsic3Ryb2tlLWRhc2hhcnJheSI9PWImJihoPSJzb2xpZCIsMDxjJiYzPmMmJihoPSJkb3QiKSwzPD1jJiY2Pj1jJiYoaD0iZGFzaCIpLDY8YyYmKGg9ImxvbmdkYXNoIiksZT9mLmRhc2hzdHlsZT1oOmYuc2V0QXR0cmlidXRlKCJkYXNoc3R5bGUiLGgpKTtpZigiZmlsbC1vcGFjaXR5Ij09Ynx8Im9wYWNpdHkiPT1iKTA9PT1jP2U/YS5vbj0hMTphLnNldEF0dHJpYnV0ZSgib24iLCExKTplP2Eub3BhY2l0eT1jOmEuc2V0QXR0cmlidXRlKCJvcGFjaXR5IixjKTsiZmlsbCI9PWImJihlP2EuY29sb3I9YzphLnNldEF0dHJpYnV0ZSgiY29sb3IiLGMpKTsicngiPT1iJiYoZT9nLmFyY1NpemU9YysiJSI6Zy5zZXRBdHRyaWJ1dGUoImFyY3NpemUiLGMrIiUiKSl9fX0sYXR0cjpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBiKWIuaGFzT3duUHJvcGVydHkoYykmJnRoaXMuc2V0QXR0cihhLGMsYltjXSl9LA0KdGV4dDpmdW5jdGlvbihhLGIsYyl7dmFyIGU9bmV3IGQuQW1ET2JqZWN0KCJ0ZXh0Iix0aGlzLkQpLGc9ZS5ub2RlO2cuc3R5bGUud2hpdGVTcGFjZT0icHJlIjtnLmlubmVySFRNTD1hO3RoaXMuRC5hZGRUb0NvbnRhaW5lcihnLGMpO3RoaXMuYXR0cihlLGIpO3JldHVybiBlfSxnZXRCQm94OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldEJveChhLm5vZGUpfSxnZXRCb3g6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vZmZzZXRMZWZ0LGM9YS5vZmZzZXRUb3AsZD1hLm9mZnNldFdpZHRoLGc9YS5vZmZzZXRIZWlnaHQsZjtpZihhLmhhc0NoaWxkTm9kZXMoKSl7dmFyIGgsayxsO2ZvcihsPTA7bDxhLmNoaWxkTm9kZXMubGVuZ3RoO2wrKyl7Zj10aGlzLmdldEJveChhLmNoaWxkTm9kZXNbbF0pO3ZhciBtPWYueDtpc05hTihtKXx8KGlzTmFOKGgpP2g9bTptPGgmJihoPW0pKTt2YXIgbj1mLnk7aXNOYU4obil8fChpc05hTihrKT9rPW46bjxrJiYoaz1uKSk7bT1mLndpZHRoK207aXNOYU4obSl8fA0KKGQ9TWF0aC5tYXgoZCxtKSk7Zj1mLmhlaWdodCtuO2lzTmFOKGYpfHwoZz1NYXRoLm1heChnLGYpKX0wPmgmJihiKz1oKTswPmsmJihjKz1rKX1yZXR1cm57eDpiLHk6Yyx3aWR0aDpkLGhlaWdodDpnfX0sc2V0VGV4dDpmdW5jdGlvbihhLGIpe3ZhciBjPWEubm9kZTtjJiYoYy5pbm5lckhUTUw9Yik7dGhpcy5zZXRBdHRyKGEsInRleHQtYW5jaG9yIixhLmFuY2hvcil9LGFkZExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXthLm5vZGVbIm9uIitiXT1jfSxtb3ZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT1hLm5vZGUsZz1lLnN0eWxlOyJ0ZXh0Ij09YS50eXBlJiYoYy09ZC5yZW1vdmVQeChnLmZvbnRTaXplKS8yLTEpOyJvdmFsIj09YS5zaGFwZVR5cGUmJihiLT1kLnJlbW92ZVB4KGcud2lkdGgpLzIsYy09ZC5yZW1vdmVQeChnLmhlaWdodCkvMik7YT1hLmJ3O2lzTmFOKGEpfHwoYi09YSxjLT1hKTtpc05hTihiKXx8aXNOYU4oYyl8fChlLnN0eWxlLmxlZnQ9YisicHgiLGUuc3R5bGUudG9wPQ0KYysicHgiKX0sc3ZnUGF0aFRvVm1sOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3BsaXQoIiAiKTthPSIiO3ZhciBjLGQ9TWF0aC5yb3VuZCxnO2ZvcihnPTA7ZzxiLmxlbmd0aDtnKyspe3ZhciBmPWJbZ10saD1mLnN1YnN0cmluZygwLDEpLGY9Zi5zdWJzdHJpbmcoMSksaz1mLnNwbGl0KCIsIiksbD1kKGtbMF0pKyIsIitkKGtbMV0pOyJNIj09aCYmKGErPSIgbSAiK2wpOyJMIj09aCYmKGErPSIgbCAiK2wpOyJaIj09aCYmKGErPSIgeCBlIik7aWYoIlEiPT1oKXt2YXIgbT1jLmxlbmd0aCxuPWNbbS0xXSxxPWtbMF0scD1rWzFdLGw9a1syXSx0PWtbM107Yz1kKGNbbS0yXS8zKzIvMypxKTtuPWQobi8zKzIvMypwKTtxPWQoMi8zKnErbC8zKTtwPWQoMi8zKnArdC8zKTthKz0iIGMgIitjKyIsIituKyIsIitxKyIsIitwKyIsIitsKyIsIit0fSJDIj09aCYmKGErPSIgYyAiK2tbMF0rIiwiK2tbMV0rIiwiK2tbMl0rIiwiK2tbM10rIiwiK2tbNF0rIiwiK2tbNV0pOyJBIj09aCYmKGErPSIgd2EgIisNCmYpOyJCIj09aCYmKGErPSIgYXQgIitmKTtjPWt9cmV0dXJuIGF9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCxnKXt2YXIgZj1hLm5vZGUsaD10aGlzLmNoYXJ0O2EuYW5pbWF0aW9uRmluaXNoZWQ9ITE7aWYoInRyYW5zbGF0ZSI9PWIpe2I9Yy5zcGxpdCgiLCIpO2M9YlsxXTt2YXIgaz1mLm9mZnNldFRvcDtoLmFuaW1hdGUoYSwibGVmdCIsZi5vZmZzZXRMZWZ0LGJbMF0sZCxnLCJweCIpO2guYW5pbWF0ZShhLCJ0b3AiLGssYyxkLGcsInB4Iil9fSxjbGlwUmVjdDpmdW5jdGlvbihhLGIsYyxkLGcpe2E9YS5ub2RlOzA9PT1iJiYwPT09Yz8oYS5zdHlsZS53aWR0aD1kKyJweCIsYS5zdHlsZS5oZWlnaHQ9ZysicHgiLGEuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIpOmEuc3R5bGUuY2xpcD0icmVjdCgiK2MrInB4ICIrKGIrZCkrInB4ICIrKGMrZykrInB4ICIrYisicHgpIn0scm90YXRlOmZ1bmN0aW9uKGEsYixjKXtpZigwIT09TnVtYmVyKGIpKXt2YXIgZT1hLm5vZGU7YT1lLnN0eWxlOw0KY3x8KGM9dGhpcy5nZXRCR0NvbG9yKGUucGFyZW50Tm9kZSkpO2EuYmFja2dyb3VuZENvbG9yPWM7YS5wYWRkaW5nTGVmdD0xO2M9YipNYXRoLlBJLzE4MDt2YXIgZz1NYXRoLmNvcyhjKSxmPU1hdGguc2luKGMpLGg9ZC5yZW1vdmVQeChhLmxlZnQpLGs9ZC5yZW1vdmVQeChhLnRvcCksbD1lLm9mZnNldFdpZHRoLGU9ZS5vZmZzZXRIZWlnaHQ7Yi89TWF0aC5hYnMoYik7YS5sZWZ0PWgrbC8yLWwvMipNYXRoLmNvcyhjKS1iKmUvMipNYXRoLnNpbihjKSszO2EudG9wPWstYipsLzIqTWF0aC5zaW4oYykrYiplLzIqTWF0aC5zaW4oYyk7YS5jc3NUZXh0PWEuY3NzVGV4dCsiOyBmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChNMTE9JyIrZysiJywgTTEyPSciKy1mKyInLCBNMjE9JyIrZisiJywgTTIyPSciK2crIicsIHNpemluZ21ldGhvZD0nYXV0byBleHBhbmQnKTsifX0sZ2V0QkdDb2xvcjpmdW5jdGlvbihhKXt2YXIgYj0iI0ZGRkZGRiI7aWYoYS5zdHlsZSl7dmFyIGM9DQphLnN0eWxlLmJhY2tncm91bmRDb2xvcjsiIiE9PWM/Yj1jOmEucGFyZW50Tm9kZSYmKGI9dGhpcy5nZXRCR0NvbG9yKGEucGFyZW50Tm9kZSkpfXJldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGQuQW1ET2JqZWN0KCJncm91cCIsdGhpcy5EKTt0aGlzLkQuY29udGFpbmVyLmFwcGVuZENoaWxkKGIubm9kZSk7aWYoYSl7dmFyIGM7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXSl9cmV0dXJuIGJ9LGdyYWRpZW50OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBnPSIiOyJyYWRpYWxHcmFkaWVudCI9PWImJihiPSJncmFkaWVudHJhZGlhbCIsYy5yZXZlcnNlKCkpOyJsaW5lYXJHcmFkaWVudCI9PWImJihiPSJncmFkaWVudCIpO3ZhciBmO2ZvcihmPTA7ZjxjLmxlbmd0aDtmKyspZys9TWF0aC5yb3VuZCgxMDAqZi8oYy5sZW5ndGgtMSkpKyIlICIrY1tmXSxmPGMubGVuZ3RoLTEmJihnKz0iLCIpO2E9YS5maWxsOzkwPT1kP2Q9MDoyNzA9PWQ/ZD0xODA6MTgwPT0NCmQ/ZD05MDowPT09ZCYmKGQ9MjcwKTs4PT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPyhhLnR5cGU9YixhLmFuZ2xlPWQpOihhLnNldEF0dHJpYnV0ZSgidHlwZSIsYiksYS5zZXRBdHRyaWJ1dGUoImFuZ2xlIixkKSk7ZyYmKGEuY29sb3JzLnZhbHVlPWcpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7YS5jbGlwUGF0aCYmdGhpcy5ELnJlbW92ZShhLmNsaXBQYXRoKTt0aGlzLkQucmVtb3ZlKGEubm9kZSl9LGRpc2FibGVTZWxlY3Rpb246ZnVuY3Rpb24oYSl7YS5vbnNlbGVjdHN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuITF9O2Euc3R5bGUuY3Vyc29yPSJkZWZhdWx0In0scGF0dGVybjpmdW5jdGlvbihhLGIsYyxlKXtjPWEubm9kZTthPWEuZmlsbDt2YXIgZz0ibm9uZSI7Yi5jb2xvciYmKGc9Yi5jb2xvcik7Yy5maWxsQ29sb3I9ZztiPWIudXJsO2QuaXNBYnNvbHV0ZShiKXx8KGI9ZStiKTs4PT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPyhhLnR5cGU9InRpbGUiLGEuc3JjPWIpOihhLnNldEF0dHJpYnV0ZSgidHlwZSIsDQoidGlsZSIpLGEuc2V0QXR0cmlidXRlKCJzcmMiLGIpKX0sdXBkYXRlOmZ1bmN0aW9uKCl7fX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5TVkdSZW5kZXJlcj1kLkNsYXNzKHtjb25zdHJ1Y3Q6ZnVuY3Rpb24oYSl7dGhpcy5EPWE7dGhpcy5hbmltYXRpb25zPVtdfSxjcmVhdGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQuU1ZHX05TLGIpfSxhdHRyOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmdGhpcy5zZXRBdHRyKGEsYyxiW2NdKX0sc2V0QXR0cjpmdW5jdGlvbihhLGIsYyl7dm9pZCAwIT09YyYmYS5ub2RlLnNldEF0dHJpYnV0ZShiLGMpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGUsZyl7YS5hbmltYXRpb25GaW5pc2hlZD0hMTt2YXIgZj1hLm5vZGU7YVsiYW5fIitiXSYmZC5yZW1vdmVGcm9tQXJyYXkodGhpcy5hbmltYXRpb25zLGFbImFuXyIrYl0pOyJ0cmFuc2xhdGUiPT1iPyhmPShmPWYuZ2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iKSk/U3RyaW5nKGYpLnN1YnN0cmluZygxMCwNCmYubGVuZ3RoLTEpOiIwLDAiLGY9Zi5zcGxpdCgiLCAiKS5qb2luKCIgIiksZj1mLnNwbGl0KCIgIikuam9pbigiLCIpLDA9PT1mJiYoZj0iMCwwIikpOmY9TnVtYmVyKGYuZ2V0QXR0cmlidXRlKGIpKTtjPXtvYmo6YSxmcmFtZTowLGF0dHJpYnV0ZTpiLGZyb206Zix0bzpjLHRpbWU6ZSxlZmZlY3Q6Z307dGhpcy5hbmltYXRpb25zLnB1c2goYyk7YVsiYW5fIitiXT1jfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuYW5pbWF0aW9ucztmb3IoYT1iLmxlbmd0aC0xOzA8PWE7YS0tKXt2YXIgYz1iW2FdLGU9Yy50aW1lKmQudXBkYXRlUmF0ZSxnPWMuZnJhbWUrMSxmPWMub2JqLGg9Yy5hdHRyaWJ1dGUsayxsLG07aWYoZzw9ZSl7Yy5mcmFtZSsrO2lmKCJ0cmFuc2xhdGUiPT1oKXtrPWMuZnJvbS5zcGxpdCgiLCIpO2g9TnVtYmVyKGtbMF0pO2s9TnVtYmVyKGtbMV0pO2lzTmFOKGspJiYoaz0wKTtsPWMudG8uc3BsaXQoIiwiKTttPU51bWJlcihsWzBdKTtsPU51bWJlcihsWzFdKTsNCm09MD09PW0taD9tOk1hdGgucm91bmQoZFtjLmVmZmVjdF0oMCxnLGgsbS1oLGUpKTtjPTA9PT1sLWs/bDpNYXRoLnJvdW5kKGRbYy5lZmZlY3RdKDAsZyxrLGwtayxlKSk7aD0idHJhbnNmb3JtIjtpZihpc05hTihtKXx8aXNOYU4oYykpY29udGludWU7Yz0idHJhbnNsYXRlKCIrbSsiLCIrYysiKSJ9ZWxzZSBsPU51bWJlcihjLmZyb20pLGs9TnVtYmVyKGMudG8pLG09ay1sLGM9ZFtjLmVmZmVjdF0oMCxnLGwsbSxlKSxpc05hTihjKSYmKGM9ayksMD09PW0mJnRoaXMuYW5pbWF0aW9ucy5zcGxpY2UoYSwxKTt0aGlzLnNldEF0dHIoZixoLGMpfWVsc2UidHJhbnNsYXRlIj09aD8obD1jLnRvLnNwbGl0KCIsIiksbT1OdW1iZXIobFswXSksbD1OdW1iZXIobFsxXSksZi50cmFuc2xhdGUobSxsKSk6KGs9TnVtYmVyKGMudG8pLHRoaXMuc2V0QXR0cihmLGgsaykpLGYuYW5pbWF0aW9uRmluaXNoZWQ9ITAsdGhpcy5hbmltYXRpb25zLnNwbGljZShhLDEpfX0sZ2V0QkJveDpmdW5jdGlvbihhKXtpZihhPQ0KYS5ub2RlKXRyeXtyZXR1cm4gYS5nZXRCQm94KCl9Y2F0Y2goYil7fXJldHVybnt3aWR0aDowLGhlaWdodDowLHg6MCx5OjB9fSxwYXRoOmZ1bmN0aW9uKGEsYil7YS5ub2RlLnNldEF0dHJpYnV0ZU5TKGQuU1ZHX1hMSU5LLCJ4bGluazpocmVmIixiKX0sY2xpcFJlY3Q6ZnVuY3Rpb24oYSxiLGMsZSxnKXt2YXIgZj1hLm5vZGUsaD1hLmNsaXBQYXRoO2gmJnRoaXMuRC5yZW1vdmUoaCk7dmFyIGs9Zi5wYXJlbnROb2RlO2smJihmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkLlNWR19OUywiY2xpcFBhdGgiKSxoPWQuZ2V0VW5pcXVlSWQoKSxmLnNldEF0dHJpYnV0ZSgiaWQiLGgpLHRoaXMuRC5yZWN0KGIsYyxlLGcsMCwwLGYpLGsuYXBwZW5kQ2hpbGQoZiksYj0iIyIsZC5iYXNlSHJlZiYmIWQuaXNJRSYmKGI9dGhpcy5yZW1vdmVUYXJnZXQod2luZG93LmxvY2F0aW9uLmhyZWYpK2IpLHRoaXMuc2V0QXR0cihhLCJjbGlwLXBhdGgiLCJ1cmwoIitiK2grIikiKSx0aGlzLmNsaXBQYXRoQysrLA0KYS5jbGlwUGF0aD1mKX0sdGV4dDpmdW5jdGlvbihhLGIsYyl7dmFyIGU9bmV3IGQuQW1ET2JqZWN0KCJ0ZXh0Iix0aGlzLkQpO2E9U3RyaW5nKGEpLnNwbGl0KCJcbiIpO3ZhciBnPWQucmVtb3ZlUHgoYlsiZm9udC1zaXplIl0pLGY7Zm9yKGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGg9dGhpcy5jcmVhdGUobnVsbCwidHNwYW4iKTtoLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFbZl0pKTtoLnNldEF0dHJpYnV0ZSgieSIsKGcrMikqZitNYXRoLnJvdW5kKGcvMikpO2guc2V0QXR0cmlidXRlKCJ4IiwwKTtlLm5vZGUuYXBwZW5kQ2hpbGQoaCl9ZS5ub2RlLnNldEF0dHJpYnV0ZSgieSIsTWF0aC5yb3VuZChnLzIpKTt0aGlzLmF0dHIoZSxiKTt0aGlzLkQuYWRkVG9Db250YWluZXIoZS5ub2RlLGMpO3JldHVybiBlfSxzZXRUZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5ub2RlO2MmJihjLnJlbW92ZUNoaWxkKGMuZmlyc3RDaGlsZCksYy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShiKSkpfSwNCm1vdmU6ZnVuY3Rpb24oYSxiLGMsZCl7aXNOYU4oYikmJihiPTApO2lzTmFOKGMpJiYoYz0wKTtiPSJ0cmFuc2xhdGUoIitiKyIsIitjKyIpIjtkJiYoYj1iKyIgc2NhbGUoIitkKyIpIik7dGhpcy5zZXRBdHRyKGEsInRyYW5zZm9ybSIsYil9LHJvdGF0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubm9kZS5nZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIpLGQ9InJvdGF0ZSgiK2IrIikiO2MmJihkPWMrIiAiK2QpO3RoaXMuc2V0QXR0cihhLCJ0cmFuc2Zvcm0iLGQpfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGQuQW1ET2JqZWN0KCJnIix0aGlzLkQpO3RoaXMuRC5jb250YWluZXIuYXBwZW5kQ2hpbGQoYi5ub2RlKTtpZihhKXt2YXIgYztmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWIucHVzaChhW2NdKX1yZXR1cm4gYn0sYWRkTGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2Eubm9kZVsib24iK2JdPWN9LGdyYWRpZW50OmZ1bmN0aW9uKGEsYixjLGUpe3ZhciBnPWEubm9kZSxmPWEuZ3JhZDsNCmYmJnRoaXMuRC5yZW1vdmUoZik7Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZC5TVkdfTlMsYik7Zj1kLmdldFVuaXF1ZUlkKCk7Yi5zZXRBdHRyaWJ1dGUoImlkIixmKTtpZighaXNOYU4oZSkpe3ZhciBoPTAsaz0wLGw9MCxtPTA7OTA9PWU/bD0xMDA6MjcwPT1lP209MTAwOjE4MD09ZT9oPTEwMDowPT09ZSYmKGs9MTAwKTtiLnNldEF0dHJpYnV0ZSgieDEiLGgrIiUiKTtiLnNldEF0dHJpYnV0ZSgieDIiLGsrIiUiKTtiLnNldEF0dHJpYnV0ZSgieTEiLGwrIiUiKTtiLnNldEF0dHJpYnV0ZSgieTIiLG0rIiUiKX1mb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKWg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQuU1ZHX05TLCJzdG9wIiksaz0xMDAqZS8oYy5sZW5ndGgtMSksMD09PWUmJihrPTApLGguc2V0QXR0cmlidXRlKCJvZmZzZXQiLGsrIiUiKSxoLnNldEF0dHJpYnV0ZSgic3RvcC1jb2xvciIsY1tlXSksYi5hcHBlbmRDaGlsZChoKTtnLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYik7DQpjPSIjIjtkLmJhc2VIcmVmJiYhZC5pc0lFJiYoYz10aGlzLnJlbW92ZVRhcmdldCh3aW5kb3cubG9jYXRpb24uaHJlZikrYyk7Zy5zZXRBdHRyaWJ1dGUoImZpbGwiLCJ1cmwoIitjK2YrIikiKTthLmdyYWQ9Yn0scmVtb3ZlVGFyZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnNwbGl0KCIjIilbMF19LHBhdHRlcm46ZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGc9YS5ub2RlO2lzTmFOKGMpJiYoYz0xKTt2YXIgZj1hLnBhdHRlcm5Ob2RlO2YmJnRoaXMuRC5yZW1vdmUoZik7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQuU1ZHX05TLCJwYXR0ZXJuIiksaD1kLmdldFVuaXF1ZUlkKCksaz1iO2IudXJsJiYoaz1iLnVybCk7ZC5pc0Fic29sdXRlKGspfHwtMSE9ay5pbmRleE9mKCJkYXRhOmltYWdlIil8fChrPWUrayk7ZT1OdW1iZXIoYi53aWR0aCk7aXNOYU4oZSkmJihlPTQpO3ZhciBsPU51bWJlcihiLmhlaWdodCk7aXNOYU4obCkmJihsPTQpO2UvPWM7bC89YztjPWIueDtpc05hTihjKSYmDQooYz0wKTt2YXIgbT0tTWF0aC5yYW5kb20oKSpOdW1iZXIoYi5yYW5kb21YKTtpc05hTihtKXx8KGM9bSk7bT1iLnk7aXNOYU4obSkmJihtPTApO3ZhciBuPS1NYXRoLnJhbmRvbSgpKk51bWJlcihiLnJhbmRvbVkpO2lzTmFOKG4pfHwobT1uKTtmLnNldEF0dHJpYnV0ZSgiaWQiLGgpO2Yuc2V0QXR0cmlidXRlKCJ3aWR0aCIsZSk7Zi5zZXRBdHRyaWJ1dGUoImhlaWdodCIsbCk7Zi5zZXRBdHRyaWJ1dGUoInBhdHRlcm5Vbml0cyIsInVzZXJTcGFjZU9uVXNlIik7Zi5zZXRBdHRyaWJ1dGUoInhsaW5rOmhyZWYiLGspO2IuY29sb3ImJihuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkLlNWR19OUywicmVjdCIpLG4uc2V0QXR0cmlidXRlTlMobnVsbCwiaGVpZ2h0IixlKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIixsKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLGIuY29sb3IpLGYuYXBwZW5kQ2hpbGQobikpO3RoaXMuRC5pbWFnZShrLDAsMCxlLGwsZikudHJhbnNsYXRlKGMsDQptKTtrPSIjIjtkLmJhc2VIcmVmJiYhZC5pc0lFJiYoaz10aGlzLnJlbW92ZVRhcmdldCh3aW5kb3cubG9jYXRpb24uaHJlZikrayk7Zy5zZXRBdHRyaWJ1dGUoImZpbGwiLCJ1cmwoIitrK2grIikiKTthLnBhdHRlcm5Ob2RlPWY7Zy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGYpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7YS5jbGlwUGF0aCYmdGhpcy5ELnJlbW92ZShhLmNsaXBQYXRoKTthLmdyYWQmJnRoaXMuRC5yZW1vdmUoYS5ncmFkKTthLnBhdHRlcm5Ob2RlJiZ0aGlzLkQucmVtb3ZlKGEucGF0dGVybk5vZGUpO3RoaXMuRC5yZW1vdmUoYS5ub2RlKX19KX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGQ9d2luZG93LkFtQ2hhcnRzO2QuQW1MZWdlbmQ9ZC5DbGFzcyh7Y29uc3RydWN0OmZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD0hMDt0aGlzLmNuYW1lPSJBbUxlZ2VuZCI7dGhpcy5jcmVhdGVFdmVudHMoInJvbGxPdmVyTWFya2VyIiwicm9sbE92ZXJJdGVtIiwicm9sbE91dE1hcmtlciIsInJvbGxPdXRJdGVtIiwic2hvd0l0ZW0iLCJoaWRlSXRlbSIsImNsaWNrTWFya2VyIiwiY2xpY2tMYWJlbCIpO3RoaXMucG9zaXRpb249ImJvdHRvbSI7dGhpcy5ib3JkZXJDb2xvcj10aGlzLmNvbG9yPSIjMDAwMDAwIjt0aGlzLmJvcmRlckFscGhhPTA7dGhpcy5tYXJrZXJMYWJlbEdhcD01O3RoaXMudmVydGljYWxHYXA9MTA7dGhpcy5hbGlnbj0ibGVmdCI7dGhpcy5ob3Jpem9udGFsR2FwPTA7dGhpcy5zcGFjaW5nPTEwO3RoaXMubWFya2VyRGlzYWJsZWRDb2xvcj0iI0FBQjNCMyI7dGhpcy5tYXJrZXJUeXBlPSJzcXVhcmUiO3RoaXMubWFya2VyU2l6ZT0xNjt0aGlzLm1hcmtlckJvcmRlclRoaWNrbmVzcz0NCnRoaXMubWFya2VyQm9yZGVyQWxwaGE9MTt0aGlzLm1hcmdpbkJvdHRvbT10aGlzLm1hcmdpblRvcD0wO3RoaXMubWFyZ2luTGVmdD10aGlzLm1hcmdpblJpZ2h0PTIwO3RoaXMuYXV0b01hcmdpbnM9ITA7dGhpcy52YWx1ZVdpZHRoPTUwO3RoaXMuc3dpdGNoYWJsZT0hMDt0aGlzLnN3aXRjaFR5cGU9IngiO3RoaXMuc3dpdGNoQ29sb3I9IiNGRkZGRkYiO3RoaXMucm9sbE92ZXJDb2xvcj0iI0NDMDAwMCI7dGhpcy5yZXZlcnNlZE9yZGVyPSExO3RoaXMubGFiZWxUZXh0PSJbW3RpdGxlXV0iO3RoaXMudmFsdWVUZXh0PSJbW3ZhbHVlXV0iO3RoaXMuYWNjZXNzaWJsZUxhYmVsPSJbW3RpdGxlXV0iO3RoaXMudXNlTWFya2VyQ29sb3JGb3JMYWJlbHM9ITE7dGhpcy5yb2xsT3ZlckdyYXBoQWxwaGE9MTt0aGlzLnRleHRDbGlja0VuYWJsZWQ9ITE7dGhpcy5lcXVhbFdpZHRocz0hMDt0aGlzLmJhY2tncm91bmRDb2xvcj0iI0ZGRkZGRiI7dGhpcy5iYWNrZ3JvdW5kQWxwaGE9MDt0aGlzLnVzZUdyYXBoU2V0dGluZ3M9DQohMTt0aGlzLnNob3dFbnRyaWVzPSEwO3RoaXMubGFiZWxEeD0wO2QuYXBwbHlUaGVtZSh0aGlzLGEsdGhpcy5jbmFtZSl9LHNldERhdGE6ZnVuY3Rpb24oYSl7dGhpcy5sZWdlbmREYXRhPWE7dGhpcy5pbnZhbGlkYXRlU2l6ZSgpfSxpbnZhbGlkYXRlU2l6ZTpmdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpO3RoaXMuZW50cmllcz1bXTt0aGlzLnZhbHVlTGFiZWxzPVtdO3ZhciBhPXRoaXMubGVnZW5kRGF0YTt0aGlzLmVuYWJsZWQmJihkLmlmQXJyYXkoYSl8fGQuaWZBcnJheSh0aGlzLmRhdGEpKSYmdGhpcy5kcmF3TGVnZW5kKCl9LGRyYXdMZWdlbmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGI9dGhpcy5wb3NpdGlvbixjPXRoaXMud2lkdGgsZT1hLmRpdlJlYWxXaWR0aCxnPWEuZGl2UmVhbEhlaWdodCxmPXRoaXMuZGl2LGg9dGhpcy5sZWdlbmREYXRhO3RoaXMuZGF0YSYmKGg9dGhpcy5jb21iaW5lTGVnZW5kP3RoaXMubGVnZW5kRGF0YS5jb25jYXQodGhpcy5kYXRhKToNCnRoaXMuZGF0YSk7aXNOYU4odGhpcy5mb250U2l6ZSkmJih0aGlzLmZvbnRTaXplPWEuZm9udFNpemUpO3RoaXMubWF4Q29sdW1uc1JlYWw9dGhpcy5tYXhDb2x1bW5zO2lmKCJyaWdodCI9PWJ8fCJsZWZ0Ij09Yil0aGlzLm1heENvbHVtbnNSZWFsPTEsdGhpcy5hdXRvTWFyZ2lucyYmKHRoaXMubWFyZ2luTGVmdD10aGlzLm1hcmdpblJpZ2h0PTEwKTtlbHNlIGlmKHRoaXMuYXV0b01hcmdpbnMpe3RoaXMubWFyZ2luUmlnaHQ9YS5tYXJnaW5SaWdodDt0aGlzLm1hcmdpbkxlZnQ9YS5tYXJnaW5MZWZ0O3ZhciBrPWEuYXV0b01hcmdpbk9mZnNldDsiYm90dG9tIj09Yj8odGhpcy5tYXJnaW5Cb3R0b209ayx0aGlzLm1hcmdpblRvcD0wKToodGhpcy5tYXJnaW5Ub3A9ayx0aGlzLm1hcmdpbkJvdHRvbT0wKX1jPXZvaWQgMCE9PWM/ZC50b0Nvb3JkaW5hdGUoYyxlKToicmlnaHQiIT1iJiYibGVmdCIhPWI/YS5yZWFsV2lkdGg6MDx0aGlzLmllVz90aGlzLmllVzphLnJlYWxXaWR0aDsib3V0c2lkZSI9PQ0KYj8oYz1mLm9mZnNldFdpZHRoLGc9Zi5vZmZzZXRIZWlnaHQsZi5jbGllbnRIZWlnaHQmJihjPWYuY2xpZW50V2lkdGgsZz1mLmNsaWVudEhlaWdodCkpOihpc05hTihjKXx8KGYuc3R5bGUud2lkdGg9YysicHgiKSxmLmNsYXNzTmFtZT0iYW1DaGFydHNMZWdlbmQgIithLmNsYXNzTmFtZVByZWZpeCsiLWxlZ2VuZC1kaXYiKTt0aGlzLmRpdldpZHRoPWM7KGI9dGhpcy5jb250YWluZXIpPyhiLmNvbnRhaW5lci5pbm5lckhUTUw9IiIsZi5hcHBlbmRDaGlsZChiLmNvbnRhaW5lciksYi53aWR0aD1jLGIuaGVpZ2h0PWcsYi5zZXRTaXplKGMsZyksYi5hZGREZWZzKGEpKTpiPW5ldyBkLkFtRHJhdyhmLGMsZyxhKTt0aGlzLmNvbnRhaW5lcj1iO3RoaXMubHg9MDt0aGlzLmx5PTg7Zz10aGlzLm1hcmtlclNpemU7Zz50aGlzLmZvbnRTaXplJiYodGhpcy5seT1nLzItMSk7MDxnJiYodGhpcy5seCs9Zyt0aGlzLm1hcmtlckxhYmVsR2FwKTt0aGlzLnRpdGxlV2lkdGg9MDtpZihnPXRoaXMudGl0bGUpZz0NCmQudGV4dCh0aGlzLmNvbnRhaW5lcixnLHRoaXMuY29sb3IsYS5mb250RmFtaWx5LHRoaXMuZm9udFNpemUsInN0YXJ0IiwhMCksZC5zZXRDTihhLGcsImxlZ2VuZC10aXRsZSIpLGcudHJhbnNsYXRlKHRoaXMubWFyZ2luTGVmdCx0aGlzLm1hcmdpblRvcCt0aGlzLnZlcnRpY2FsR2FwK3RoaXMubHkrMSksYT1nLmdldEJCb3goKSx0aGlzLnRpdGxlV2lkdGg9YS53aWR0aCsxNSx0aGlzLnRpdGxlSGVpZ2h0PWEuaGVpZ2h0KzY7dGhpcy5pbmRleD10aGlzLm1heExhYmVsV2lkdGg9MDtpZih0aGlzLnNob3dFbnRyaWVzKXtmb3IoYT0wO2E8aC5sZW5ndGg7YSsrKXRoaXMuY3JlYXRlRW50cnkoaFthXSk7Zm9yKGE9dGhpcy5pbmRleD0wO2E8aC5sZW5ndGg7YSsrKXRoaXMuY3JlYXRlVmFsdWUoaFthXSl9dGhpcy5hcnJhbmdlRW50cmllcygpO3RoaXMudXBkYXRlVmFsdWVzKCl9LGFycmFuZ2VFbnRyaWVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wb3NpdGlvbixiPXRoaXMubWFyZ2luTGVmdCsNCnRoaXMudGl0bGVXaWR0aCxjPXRoaXMubWFyZ2luUmlnaHQsZT10aGlzLm1hcmdpblRvcCxnPXRoaXMubWFyZ2luQm90dG9tLGY9dGhpcy5ob3Jpem9udGFsR2FwLGg9dGhpcy5kaXYsaz10aGlzLmRpdldpZHRoLGw9dGhpcy5tYXhDb2x1bW5zUmVhbCxtPXRoaXMudmVydGljYWxHYXAsbj10aGlzLnNwYWNpbmcscT1rLWMtYixwPTAsdD0wLHI9dGhpcy5jb250YWluZXI7dGhpcy5zZXQmJnRoaXMuc2V0LnJlbW92ZSgpO3ZhciB3PXIuc2V0KCk7dGhpcy5zZXQ9dzt2YXIgej1yLnNldCgpO3cucHVzaCh6KTt2YXIgeD10aGlzLmVudHJpZXMsdSxBO2ZvcihBPTA7QTx4Lmxlbmd0aDtBKyspe3U9eFtBXS5nZXRCQm94KCk7dmFyIHk9dS53aWR0aDt5PnAmJihwPXkpO3U9dS5oZWlnaHQ7dT50JiYodD11KX12YXIgeT10PTAsQj1mLEQ9MCxDPTA7Zm9yKEE9MDtBPHgubGVuZ3RoO0ErKyl7dmFyIEk9eFtBXTt0aGlzLnJldmVyc2VkT3JkZXImJihJPXhbeC5sZW5ndGgtQS0xXSk7dT1JLmdldEJCb3goKTsNCnZhciBIO3RoaXMuZXF1YWxXaWR0aHM/SD15KihwK24rdGhpcy5tYXJrZXJMYWJlbEdhcCk6KEg9QixCPUIrdS53aWR0aCtmK24pO0grdS53aWR0aD5xJiYwPEEmJjAhPT15JiYodCsrLEg9eT0wLEI9SCt1LndpZHRoK2YrbixEPUQrQyttLEM9MCk7dS5oZWlnaHQ+QyYmKEM9dS5oZWlnaHQpO0kudHJhbnNsYXRlKEgsRCk7eSsrOyFpc05hTihsKSYmeT49bCYmKHk9MCx0KyssRD1EK0MrbSxCPWYsQz0wKTt6LnB1c2goSSl9dT16LmdldEJCb3goKTtsPXUuaGVpZ2h0KzIqbS0xOyJsZWZ0Ij09YXx8InJpZ2h0Ij09YT8obj11LndpZHRoKzIqZixrPW4rYitjLGguc3R5bGUud2lkdGg9aysicHgiLHRoaXMuaWVXPWspOm49ay1iLWMtMTtjPWQucG9seWdvbih0aGlzLmNvbnRhaW5lcixbMCxuLG4sMF0sWzAsMCxsLGxdLHRoaXMuYmFja2dyb3VuZENvbG9yLHRoaXMuYmFja2dyb3VuZEFscGhhLDEsdGhpcy5ib3JkZXJDb2xvcix0aGlzLmJvcmRlckFscGhhKTtkLnNldENOKHRoaXMuY2hhcnQsDQpjLCJsZWdlbmQtYmciKTt3LnB1c2goYyk7dy50cmFuc2xhdGUoYixlKTtjLnRvQmFjaygpO2I9ZjtpZigidG9wIj09YXx8ImJvdHRvbSI9PWF8fCJhYnNvbHV0ZSI9PWF8fCJvdXRzaWRlIj09YSkiY2VudGVyIj09dGhpcy5hbGlnbj9iPWYrKG4tdS53aWR0aCkvMjoicmlnaHQiPT10aGlzLmFsaWduJiYoYj1mK24tdS53aWR0aCk7ei50cmFuc2xhdGUoYixtKzEpO3RoaXMudGl0bGVIZWlnaHQ+bCYmKGw9dGhpcy50aXRsZUhlaWdodCk7ZT1sK2UrZysxOzA+ZSYmKGU9MCk7ImFic29sdXRlIiE9YSYmIm91dHNpZGUiIT1hJiZlPnRoaXMuY2hhcnQuZGl2UmVhbEhlaWdodCYmKGguc3R5bGUudG9wPSIwcHgiKTtoLnN0eWxlLmhlaWdodD1NYXRoLnJvdW5kKGUpKyJweCI7ci5zZXRTaXplKHRoaXMuZGl2V2lkdGgsZSl9LGNyZWF0ZUVudHJ5OmZ1bmN0aW9uKGEpe2lmKCExIT09YS52aXNpYmxlSW5MZWdlbmQmJiFhLmhpZGVGcm9tTGVnZW5kKXt2YXIgYj10aGlzLGM9Yi5jaGFydCxlPWIudXNlR3JhcGhTZXR0aW5ncywNCmc9YS5tYXJrZXJUeXBlO2cmJihlPSExKTthLmxlZ2VuZEVudHJ5V2lkdGg9Yi5tYXJrZXJTaXplO2d8fChnPWIubWFya2VyVHlwZSk7dmFyIGY9YS5jb2xvcixoPWEuYWxwaGE7YS5sZWdlbmRLZXlDb2xvciYmKGY9YS5sZWdlbmRLZXlDb2xvcigpKTthLmxlZ2VuZEtleUFscGhhJiYoaD1hLmxlZ2VuZEtleUFscGhhKCkpO3ZhciBrOyEwPT09YS5oaWRkZW4mJihrPWY9Yi5tYXJrZXJEaXNhYmxlZENvbG9yKTt2YXIgbD1hLnBhdHRlcm4sbSxuPWEuY3VzdG9tTWFya2VyO258fChuPWIuY3VzdG9tTWFya2VyKTt2YXIgcT1iLmNvbnRhaW5lcixwPWIubWFya2VyU2l6ZSx0PTAscj0wLHc9cC8yO2lmKGUpe2U9YS50eXBlO2Iuc3dpdGNoVHlwZT12b2lkIDA7aWYoImxpbmUiPT1lfHwic3RlcCI9PWV8fCJzbW9vdGhlZExpbmUiPT1lfHwib2hsYyI9PWUpbT1xLnNldCgpLGEuaGlkZGVufHwoZj1hLmxpbmVDb2xvclIsaz1hLmJ1bGxldEJvcmRlckNvbG9yUiksdD1kLmxpbmUocSxbMCwyKg0KcF0sW3AvMixwLzJdLGYsYS5saW5lQWxwaGEsYS5saW5lVGhpY2tuZXNzLGEuZGFzaExlbmd0aCksZC5zZXRDTihjLHQsImdyYXBoLXN0cm9rZSIpLG0ucHVzaCh0KSxhLmJ1bGxldCYmKGEuaGlkZGVufHwoZj1hLmJ1bGxldENvbG9yUiksdD1kLmJ1bGxldChxLGEuYnVsbGV0LGEuYnVsbGV0U2l6ZSxmLGEuYnVsbGV0QWxwaGEsYS5idWxsZXRCb3JkZXJUaGlja25lc3MsayxhLmJ1bGxldEJvcmRlckFscGhhKSkmJihkLnNldENOKGMsdCwiZ3JhcGgtYnVsbGV0IiksdC50cmFuc2xhdGUocCsxLHAvMiksbS5wdXNoKHQpKSx3PTAsdD1wLHI9cC8zO2Vsc2V7YS5nZXRHcmFkUm90YXRpb24mJihtPWEuZ2V0R3JhZFJvdGF0aW9uKCksMD09PW0mJihtPTE4MCkpO3Q9YS5maWxsQ29sb3JzUjshMD09PWEuaGlkZGVuJiYodD1mKTtpZihtPWIuY3JlYXRlTWFya2VyKCJyZWN0YW5nbGUiLHQsYS5maWxsQWxwaGFzLGEubGluZVRoaWNrbmVzcyxmLGEubGluZUFscGhhLG0sbCxhLmRhc2hMZW5ndGgpKXc9DQpwLG0udHJhbnNsYXRlKHcscC8yKTt0PXB9ZC5zZXRDTihjLG0sImdyYXBoLSIrZSk7ZC5zZXRDTihjLG0sImdyYXBoLSIrYS5pZCl9ZWxzZSBpZihuKW09cS5pbWFnZShuLDAsMCxwLHApO2Vsc2V7dmFyIHo7aXNOYU4oYi5ncmFkaWVudFJvdGF0aW9uKXx8KHo9MTgwK2IuZ3JhZGllbnRSb3RhdGlvbik7KG09Yi5jcmVhdGVNYXJrZXIoZyxmLGgsdm9pZCAwLHZvaWQgMCx2b2lkIDAseixsKSkmJm0udHJhbnNsYXRlKHAvMixwLzIpfWQuc2V0Q04oYyxtLCJsZWdlbmQtbWFya2VyIik7Yi5hZGRMaXN0ZW5lcnMobSxhKTtxPXEuc2V0KFttXSk7Yi5zd2l0Y2hhYmxlJiZhLnN3aXRjaGFibGUmJnEuc2V0QXR0cigiY3Vyc29yIiwicG9pbnRlciIpO3ZvaWQgMCE9PWEuaWQmJmQuc2V0Q04oYyxxLCJsZWdlbmQtaXRlbS0iK2EuaWQpO2Quc2V0Q04oYyxxLGEuY2xhc3NOYW1lLCEwKTtrPWIuc3dpdGNoVHlwZTt2YXIgeDtrJiYibm9uZSIhPWsmJjA8cCYmKCJ4Ij09az8oeD1iLmNyZWF0ZVgoKSwNCngudHJhbnNsYXRlKHAvMixwLzIpKTp4PWIuY3JlYXRlVigpLHguZEl0ZW09YSwhMCE9PWEuaGlkZGVuPyJ4Ij09az94LmhpZGUoKTp4LnNob3coKToieCIhPWsmJnguaGlkZSgpLGIuc3dpdGNoYWJsZXx8eC5oaWRlKCksYi5hZGRMaXN0ZW5lcnMoeCxhKSxhLmxlZ2VuZFN3aXRjaD14LHEucHVzaCh4KSxkLnNldENOKGMseCwibGVnZW5kLXN3aXRjaCIpKTtrPWIuY29sb3I7YS5zaG93QmFsbG9vbiYmYi50ZXh0Q2xpY2tFbmFibGVkJiZ2b2lkIDAhPT1iLnNlbGVjdGVkQ29sb3ImJihrPWIuc2VsZWN0ZWRDb2xvcik7Yi51c2VNYXJrZXJDb2xvckZvckxhYmVscyYmIWwmJihrPWYpOyEwPT09YS5oaWRkZW4mJihrPWIubWFya2VyRGlzYWJsZWRDb2xvcik7Zj1kLm1hc3NSZXBsYWNlKGIubGFiZWxUZXh0LHsiW1t0aXRsZV1dIjphLnRpdGxlfSk7dm9pZCAwIT09Yi50YWJJbmRleCYmKHEuc2V0QXR0cigidGFiaW5kZXgiLGIudGFiSW5kZXgpLHEuc2V0QXR0cigicm9sZSIsIm1lbnVpdGVtIiksDQpxLmtleXVwKGZ1bmN0aW9uKGMpezEzPT1jLmtleUNvZGUmJmIuY2xpY2tNYXJrZXIoYSxjKX0pKTtjLmFjY2Vzc2libGUmJmIuYWNjZXNzaWJsZUxhYmVsJiYobD1kLm1hc3NSZXBsYWNlKGIuYWNjZXNzaWJsZUxhYmVsLHsiW1t0aXRsZV1dIjphLnRpdGxlfSksYy5tYWtlQWNjZXNzaWJsZShxLGwpKTtsPWIuZm9udFNpemU7bSYmKHA8PWwmJihwPXAvMitiLmx5LWwvMisobCsyLXApLzItcixtLnRyYW5zbGF0ZSh3LHApLHgmJngudHJhbnNsYXRlKHgueCxwKSksYS5sZWdlbmRFbnRyeVdpZHRoPW0uZ2V0QkJveCgpLndpZHRoKTt2YXIgdTtmJiYoZj1kLmZpeEJyYWtlcyhmKSxhLmxlZ2VuZFRleHRSZWFsPWYsdT1iLmxhYmVsV2lkdGgsdT1pc05hTih1KT9kLnRleHQoYi5jb250YWluZXIsZixrLGMuZm9udEZhbWlseSxsLCJzdGFydCIpOmQud3JhcHBlZFRleHQoYi5jb250YWluZXIsZixrLGMuZm9udEZhbWlseSxsLCJzdGFydCIsITEsdSwwKSxkLnNldENOKGMsdSwibGVnZW5kLWxhYmVsIiksDQp1LnRyYW5zbGF0ZShiLmx4K3QsYi5seSkscS5wdXNoKHUpLGIubGFiZWxEeD10LGM9dS5nZXRCQm94KCkud2lkdGgsYi5tYXhMYWJlbFdpZHRoPGMmJihiLm1heExhYmVsV2lkdGg9YykpO2IuZW50cmllc1tiLmluZGV4XT1xO2EubGVnZW5kRW50cnk9Yi5lbnRyaWVzW2IuaW5kZXhdO2EubGVnZW5kTWFya2VyPW07YS5sZWdlbmRMYWJlbD11O2IuaW5kZXgrK319LGFkZExpc3RlbmVyczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7YSYmYS5tb3VzZW92ZXIoZnVuY3Rpb24oYSl7Yy5yb2xsT3Zlck1hcmtlcihiLGEpfSkubW91c2VvdXQoZnVuY3Rpb24oYSl7Yy5yb2xsT3V0TWFya2VyKGIsYSl9KS5jbGljayhmdW5jdGlvbihhKXtjLmNsaWNrTWFya2VyKGIsYSl9KX0scm9sbE92ZXJNYXJrZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLnN3aXRjaGFibGUmJnRoaXMuZGlzcGF0Y2goInJvbGxPdmVyTWFya2VyIixhLGIpO3RoaXMuZGlzcGF0Y2goInJvbGxPdmVySXRlbSIsYSxiKX0scm9sbE91dE1hcmtlcjpmdW5jdGlvbihhLA0KYil7dGhpcy5zd2l0Y2hhYmxlJiZ0aGlzLmRpc3BhdGNoKCJyb2xsT3V0TWFya2VyIixhLGIpO3RoaXMuZGlzcGF0Y2goInJvbGxPdXRJdGVtIixhLGIpfSxjbGlja01hcmtlcjpmdW5jdGlvbihhLGIpe3RoaXMuc3dpdGNoYWJsZSYmKCEwPT09YS5oaWRkZW4/dGhpcy5kaXNwYXRjaCgic2hvd0l0ZW0iLGEsYik6dGhpcy5kaXNwYXRjaCgiaGlkZUl0ZW0iLGEsYikpO3RoaXMuZGlzcGF0Y2goImNsaWNrTWFya2VyIixhLGIpfSxyb2xsT3ZlckxhYmVsOmZ1bmN0aW9uKGEsYil7YS5oaWRkZW58fHRoaXMudGV4dENsaWNrRW5hYmxlZCYmYS5sZWdlbmRMYWJlbCYmYS5sZWdlbmRMYWJlbC5hdHRyKHtmaWxsOnRoaXMucm9sbE92ZXJDb2xvcn0pO3RoaXMuZGlzcGF0Y2goInJvbGxPdmVySXRlbSIsYSxiKX0scm9sbE91dExhYmVsOmZ1bmN0aW9uKGEsYil7aWYoIWEuaGlkZGVuJiZ0aGlzLnRleHRDbGlja0VuYWJsZWQmJmEubGVnZW5kTGFiZWwpe3ZhciBjPXRoaXMuY29sb3I7dm9pZCAwIT09DQp0aGlzLnNlbGVjdGVkQ29sb3ImJmEuc2hvd0JhbGxvb24mJihjPXRoaXMuc2VsZWN0ZWRDb2xvcik7dGhpcy51c2VNYXJrZXJDb2xvckZvckxhYmVscyYmKGM9YS5saW5lQ29sb3Isdm9pZCAwPT09YyYmKGM9YS5jb2xvcikpO2EubGVnZW5kTGFiZWwuYXR0cih7ZmlsbDpjfSl9dGhpcy5kaXNwYXRjaCgicm9sbE91dEl0ZW0iLGEsYil9LGNsaWNrTGFiZWw6ZnVuY3Rpb24oYSxiKXt0aGlzLnRleHRDbGlja0VuYWJsZWQ/YS5oaWRkZW58fHRoaXMuZGlzcGF0Y2goImNsaWNrTGFiZWwiLGEsYik6dGhpcy5zd2l0Y2hhYmxlJiYoITA9PT1hLmhpZGRlbj90aGlzLmRpc3BhdGNoKCJzaG93SXRlbSIsYSxiKTp0aGlzLmRpc3BhdGNoKCJoaWRlSXRlbSIsYSxiKSl9LGRpc3BhdGNoOmZ1bmN0aW9uKGEsYixjKXthPXt0eXBlOmEsZGF0YUl0ZW06Yix0YXJnZXQ6dGhpcyxldmVudDpjLGNoYXJ0OnRoaXMuY2hhcnR9O3RoaXMuY2hhcnQmJnRoaXMuY2hhcnQuaGFuZGxlTGVnZW5kRXZlbnQoYSk7DQp0aGlzLmZpcmUoYSl9LGNyZWF0ZVZhbHVlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmZvbnRTaXplLGU9Yi5jaGFydDtpZighMSE9PWEudmlzaWJsZUluTGVnZW5kJiYhYS5oaWRlRnJvbUxlZ2VuZCl7dmFyIGc9Yi5tYXhMYWJlbFdpZHRoLGY9MDtiLmZvcmNlV2lkdGgmJihnPWIubGFiZWxXaWR0aCk7Yi5lcXVhbFdpZHRoc3x8KGIudmFsdWVBbGlnbj0ibGVmdCIpO2Y9e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH07YS5sZWdlbmRMYWJlbCYmKGY9YS5sZWdlbmRMYWJlbC5nZXRCQm94KCkpOyJsZWZ0Ij09Yi52YWx1ZUFsaWduJiYoZz1mLndpZHRoKTt2YXIgZj1mLmhlaWdodCxoPWcsaz1iLm1hcmtlclNpemU7azxjKzcmJihrPWMrNyxkLlZNTCYmKGsrPTMpKTtpZihiLnZhbHVlVGV4dCYmMDxiLnZhbHVlV2lkdGgpe3ZhciBsPWIuY29sb3I7Yi51c2VNYXJrZXJDb2xvckZvclZhbHVlcyYmKGw9YS5jb2xvcixhLmxlZ2VuZEtleUNvbG9yJiYobD1hLmxlZ2VuZEtleUNvbG9yKCkpKTsNCiEwPT09YS5oaWRkZW4mJihsPWIubWFya2VyRGlzYWJsZWRDb2xvcik7dmFyIG09Yi52YWx1ZVRleHQsZz1nK2IubHgrYi5sYWJlbER4K2IubWFya2VyTGFiZWxHYXArYi52YWx1ZVdpZHRoLG49ImVuZCI7ImxlZnQiPT1iLnZhbHVlQWxpZ24mJihnLT1iLnZhbHVlV2lkdGgsbj0ic3RhcnQiKTtjPWQudGV4dChiLmNvbnRhaW5lcixtLGwsYi5jaGFydC5mb250RmFtaWx5LGMsbik7ZC5zZXRDTihlLGMsImxlZ2VuZC12YWx1ZSIpO2MudHJhbnNsYXRlKGcsYi5seSk7Yi5lbnRyaWVzW2IuaW5kZXhdLnB1c2goYyk7aCs9Yi52YWx1ZVdpZHRoKzIqYi5tYXJrZXJMYWJlbEdhcDtjLmRJdGVtPWE7Yi52YWx1ZUxhYmVscy5wdXNoKGMpO2s8Zis1JiYoaz1mKzUpfWIuaW5kZXgrKztlPWIuY29udGFpbmVyLnJlY3QoYS5sZWdlbmRFbnRyeVdpZHRoLDAsaCxrLDAsMCkuYXR0cih7c3Ryb2tlOiJub25lIixmaWxsOiIjZmZmIiwiZmlsbC1vcGFjaXR5IjouMDA1fSk7ZS5kSXRlbT1hO2IuZW50cmllc1tiLmluZGV4LQ0KMV0ucHVzaChlKTtlLm1vdXNlb3ZlcihmdW5jdGlvbihjKXtiLnJvbGxPdmVyTGFiZWwoYSxjKX0pLm1vdXNlb3V0KGZ1bmN0aW9uKGMpe2Iucm9sbE91dExhYmVsKGEsYyl9KS5jbGljayhmdW5jdGlvbihjKXtiLmNsaWNrTGFiZWwoYSxjKX0pfX0sY3JlYXRlVjpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWFya2VyU2l6ZTtyZXR1cm4gZC5wb2x5Z29uKHRoaXMuY29udGFpbmVyLFthLzUsYS8yLGEtYS81LGEvMl0sW2EvMyxhLWEvNSxhLzUsYS8xLjddLHRoaXMuc3dpdGNoQ29sb3IpfSxjcmVhdGVYOmZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMubWFya2VyU2l6ZS00KS8yLGI9e3N0cm9rZTp0aGlzLnN3aXRjaENvbG9yLCJzdHJva2Utd2lkdGgiOjN9LGM9dGhpcy5jb250YWluZXIsZT1kLmxpbmUoYyxbLWEsYV0sWy1hLGFdKS5hdHRyKGIpLGE9ZC5saW5lKGMsWy1hLGFdLFthLC1hXSkuYXR0cihiKTtyZXR1cm4gdGhpcy5jb250YWluZXIuc2V0KFtlLGFdKX0sY3JlYXRlTWFya2VyOmZ1bmN0aW9uKGEsDQpiLGMsZSxnLGYsaCxrLGwpe3ZhciBtPXRoaXMubWFya2VyU2l6ZSxuPXRoaXMuY29udGFpbmVyO2d8fChnPXRoaXMubWFya2VyQm9yZGVyQ29sb3IpO2d8fChnPWIpO2lzTmFOKGUpJiYoZT10aGlzLm1hcmtlckJvcmRlclRoaWNrbmVzcyk7aXNOYU4oZikmJihmPXRoaXMubWFya2VyQm9yZGVyQWxwaGEpO3JldHVybiBkLmJ1bGxldChuLGEsbSxiLGMsZSxnLGYsbSxoLGssdGhpcy5jaGFydC5wYXRoLGwpfSx2YWxpZGF0ZU5vdzpmdW5jdGlvbigpe3RoaXMuaW52YWxpZGF0ZVNpemUoKX0sdXBkYXRlVmFsdWVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZUxhYmVscyxiPXRoaXMuY2hhcnQsYyxlPXRoaXMuZGF0YTtpZihhKWZvcihjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBnPWFbY10sZj1nLmRJdGVtO2YucGVyaW9kRGF0YUl0ZW09dm9pZCAwO2YucGVyaW9kUGVyY2VudERhdGFJdGVtPXZvaWQgMDt2YXIgaD0iICI7aWYoZSlmLnZhbHVlP2cudGV4dChmLnZhbHVlKTpnLnRleHQoIiIpOw0KZWxzZXt2YXIgaz1udWxsO2lmKHZvaWQgMCE9PWYudHlwZSl7dmFyIGs9Zi5jdXJyZW50RGF0YUl0ZW0sbD10aGlzLnBlcmlvZFZhbHVlVGV4dDtmLmxlZ2VuZFBlcmlvZFZhbHVlVGV4dCYmKGw9Zi5sZWdlbmRQZXJpb2RWYWx1ZVRleHQpO2YubGVnZW5kUGVyaW9kVmFsdWVUZXh0UiYmKGw9Zi5sZWdlbmRQZXJpb2RWYWx1ZVRleHRSKTtrPyhoPXRoaXMudmFsdWVUZXh0LGYubGVnZW5kVmFsdWVUZXh0JiYoaD1mLmxlZ2VuZFZhbHVlVGV4dCksZi5sZWdlbmRWYWx1ZVRleHRSJiYoaD1mLmxlZ2VuZFZhbHVlVGV4dFIpLGg9Yi5mb3JtYXRTdHJpbmcoaCxrKSk6bCYmYi5mb3JtYXRQZXJpb2RTdHJpbmcmJihsPWQubWFzc1JlcGxhY2UobCx7IltbdGl0bGVdXSI6Zi50aXRsZX0pLGg9Yi5mb3JtYXRQZXJpb2RTdHJpbmcobCxmKSl9ZWxzZSBoPWIuZm9ybWF0U3RyaW5nKHRoaXMudmFsdWVUZXh0LGYpO2w9ZjtrJiYobD1rKTt2YXIgbT10aGlzLnZhbHVlRnVuY3Rpb247bSYmKGg9bShsLA0KaCxiLnBlcmlvZERhdGFJdGVtKSk7dmFyIG47dGhpcy51c2VNYXJrZXJDb2xvckZvckxhYmVscyYmIWsmJmYubGFzdERhdGFJdGVtJiYoaz1mLmxhc3REYXRhSXRlbSk7az9uPWIuZ2V0QmFsbG9vbkNvbG9yKGYsayk6Zi5sZWdlbmRLZXlDb2xvciYmKG49Zi5sZWdlbmRLZXlDb2xvcigpKTtmLmxlZ2VuZENvbG9yRnVuY3Rpb24mJihuPWYubGVnZW5kQ29sb3JGdW5jdGlvbihsLGgsZi5wZXJpb2REYXRhSXRlbSxmLnBlcmlvZFBlcmNlbnREYXRhSXRlbSkpO2cudGV4dChoKTtpZighZi5wYXR0ZXJuJiYodGhpcy51c2VNYXJrZXJDb2xvckZvclZhbHVlcyYmZy5zZXRBdHRyKCJmaWxsIixuKSx0aGlzLnVzZU1hcmtlckNvbG9yRm9yTGFiZWxzKSl7aWYoZz1mLmxlZ2VuZE1hcmtlcilnLnNldEF0dHIoImZpbGwiLG4pLGcuc2V0QXR0cigic3Ryb2tlIixuKTsoZz1mLmxlZ2VuZExhYmVsKSYmKGYuaGlkZGVuP2cuc2V0QXR0cigiZmlsbCIsdGhpcy5tYXJrZXJEaXNhYmxlZENvbG9yKTpnLnNldEF0dHIoImZpbGwiLA0KbikpfX19fSxyZW5kZXJGaXg6ZnVuY3Rpb24oKXtpZighZC5WTUwmJnRoaXMuZW5hYmxlZCl7dmFyIGE9dGhpcy5jb250YWluZXI7YSYmYS5yZW5kZXJGaXgoKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRpdi5pbm5lckhUTUw9IiI7ZC5yZW1vdmUodGhpcy5zZXQpfX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuQW1DaGFydHM7ZC5mb3JtYXRNaWxsaXNlY29uZHM9ZnVuY3Rpb24oYSxiKXtpZigtMSE9YS5pbmRleE9mKCJmZmYiKSl7dmFyIGM9Yi5nZXRNaWxsaXNlY29uZHMoKSxkPVN0cmluZyhjKTsxMD5jJiYoZD0iMDAiK2MpOzEwPD1jJiYxMDA+YyYmKGQ9IjAiK2MpO2E9YS5yZXBsYWNlKC9mZmYvZyxkKX1yZXR1cm4gYX07ZC5leHRyYWN0UGVyaW9kPWZ1bmN0aW9uKGEpe3ZhciBiPWQuc3RyaXBOdW1iZXJzKGEpLGM9MTtiIT1hJiYoYz1OdW1iZXIoYS5zbGljZSgwLGEuaW5kZXhPZihiKSkpKTtyZXR1cm57cGVyaW9kOmIsY291bnQ6Y319O2QuZ2V0RGF0ZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEgaW5zdGFuY2VvZiBEYXRlP2QubmV3RGF0ZShhLGMpOmImJmlzTmFOKGEpP2Quc3RyaW5nVG9EYXRlKGEsYik6bmV3IERhdGUoYSl9O2QuZGF5c0luTW9udGg9ZnVuY3Rpb24oYSl7cmV0dXJuKG5ldyBEYXRlKGEuZ2V0WWVhcigpLGEuZ2V0TW9udGgoKSsNCjEsMCkpLmdldERhdGUoKX07ZC5uZXdEYXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGImJi0xPT1iLmluZGV4T2YoImZmZiIpP25ldyBEYXRlKGEpOm5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSxhLmdldE1vbnRoKCksYS5nZXREYXRlKCksYS5nZXRIb3VycygpLGEuZ2V0TWludXRlcygpLGEuZ2V0U2Vjb25kcygpLGEuZ2V0TWlsbGlzZWNvbmRzKCkpfTtkLnJlc2V0RGF0ZVRvTWluPWZ1bmN0aW9uKGEsYixjLGUpe3ZvaWQgMD09PWUmJihlPTEpO3ZhciBnLGYsaCxrLGwsbSxuO2QudXNlVVRDPyhnPWEuZ2V0VVRDRnVsbFllYXIoKSxmPWEuZ2V0VVRDTW9udGgoKSxoPWEuZ2V0VVRDRGF0ZSgpLGs9YS5nZXRVVENIb3VycygpLGw9YS5nZXRVVENNaW51dGVzKCksbT1hLmdldFVUQ1NlY29uZHMoKSxuPWEuZ2V0VVRDTWlsbGlzZWNvbmRzKCksYT1hLmdldFVUQ0RheSgpKTooZz1hLmdldEZ1bGxZZWFyKCksZj1hLmdldE1vbnRoKCksaD1hLmdldERhdGUoKSxrPWEuZ2V0SG91cnMoKSxsPQ0KYS5nZXRNaW51dGVzKCksbT1hLmdldFNlY29uZHMoKSxuPWEuZ2V0TWlsbGlzZWNvbmRzKCksYT1hLmdldERheSgpKTtzd2l0Y2goYil7Y2FzZSAiWVlZWSI6Zz1NYXRoLmZsb29yKGcvYykqYztmPTA7aD0xO249bT1sPWs9MDticmVhaztjYXNlICJNTSI6Zj1NYXRoLmZsb29yKGYvYykqYztoPTE7bj1tPWw9az0wO2JyZWFrO2Nhc2UgIldXIjpoPWE+PWU/aC1hK2U6aC0oNythKStlO249bT1sPWs9MDticmVhaztjYXNlICJERCI6bj1tPWw9az0wO2JyZWFrO2Nhc2UgImhoIjprPU1hdGguZmxvb3Ioay9jKSpjO249bT1sPTA7YnJlYWs7Y2FzZSAibW0iOmw9TWF0aC5mbG9vcihsL2MpKmM7bj1tPTA7YnJlYWs7Y2FzZSAic3MiOm09TWF0aC5mbG9vcihtL2MpKmM7bj0wO2JyZWFrO2Nhc2UgImZmZiI6bj1NYXRoLmZsb29yKG4vYykqY31kLnVzZVVUQz8oYT1uZXcgRGF0ZSxhLnNldFVUQ0Z1bGxZZWFyKGcsZixoKSxhLnNldFVUQ0hvdXJzKGssbCxtLG4pKTphPW5ldyBEYXRlKGcsZixoLA0KayxsLG0sbik7cmV0dXJuIGF9O2QuZ2V0UGVyaW9kRHVyYXRpb249ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT1iJiYoYj0xKTt2YXIgYztzd2l0Y2goYSl7Y2FzZSAiWVlZWSI6Yz0zMTYyMjRFNTticmVhaztjYXNlICJNTSI6Yz0yNjc4NEU1O2JyZWFrO2Nhc2UgIldXIjpjPTYwNDhFNTticmVhaztjYXNlICJERCI6Yz04NjRFNTticmVhaztjYXNlICJoaCI6Yz0zNkU1O2JyZWFrO2Nhc2UgIm1tIjpjPTZFNDticmVhaztjYXNlICJzcyI6Yz0xRTM7YnJlYWs7Y2FzZSAiZmZmIjpjPTF9cmV0dXJuIGMqYn07ZC5pbnRlcnZhbHM9e3M6e25leHRJbnRlcnZhbDoic3MiLGNvbnRhaW5zOjFFM30sc3M6e25leHRJbnRlcnZhbDoibW0iLGNvbnRhaW5zOjYwLGNvdW50OjB9LG1tOntuZXh0SW50ZXJ2YWw6ImhoIixjb250YWluczo2MCxjb3VudDoxfSxoaDp7bmV4dEludGVydmFsOiJERCIsY29udGFpbnM6MjQsY291bnQ6Mn0sREQ6e25leHRJbnRlcnZhbDoiIixjb250YWluczpJbmZpbml0eSxjb3VudDozfX07DQpkLmdldE1heEludGVydmFsPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZC5pbnRlcnZhbHM7cmV0dXJuIGE+PWNbYl0uY29udGFpbnM/KGE9TWF0aC5yb3VuZChhL2NbYl0uY29udGFpbnMpLGI9Y1tiXS5uZXh0SW50ZXJ2YWwsZC5nZXRNYXhJbnRlcnZhbChhLGIpKToic3MiPT1iP2NbYl0ubmV4dEludGVydmFsOmJ9O2QuZGF5TmFtZXM9IlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5Ii5zcGxpdCgiICIpO2Quc2hvcnREYXlOYW1lcz0iU3VuIE1vbiBUdWUgV2VkIFRodSBGcmkgU2F0Ii5zcGxpdCgiICIpO2QubW9udGhOYW1lcz0iSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlciIuc3BsaXQoIiAiKTtkLnNob3J0TW9udGhOYW1lcz0iSmFuIEZlYiBNYXIgQXByIE1heSBKdW4gSnVsIEF1ZyBTZXAgT2N0IE5vdiBEZWMiLnNwbGl0KCIgIik7DQpkLmdldFdlZWtOdW1iZXI9ZnVuY3Rpb24oYSl7YT1uZXcgRGF0ZShhKTthLnNldEhvdXJzKDAsMCwwKTthLnNldERhdGUoYS5nZXREYXRlKCkrNC0oYS5nZXREYXkoKXx8NykpO3ZhciBiPW5ldyBEYXRlKGEuZ2V0RnVsbFllYXIoKSwwLDEpO3JldHVybiBNYXRoLmNlaWwoKChhLWIpLzg2NEU1KzEpLzcpfTtkLnN0cmluZ1RvRGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXt9LGU9W3twYXR0ZXJuOiJZWVlZIixwZXJpb2Q6InllYXIifSx7cGF0dGVybjoiWVkiLHBlcmlvZDoieWVhciJ9LHtwYXR0ZXJuOiJNTSIscGVyaW9kOiJtb250aCJ9LHtwYXR0ZXJuOiJNIixwZXJpb2Q6Im1vbnRoIn0se3BhdHRlcm46IkREIixwZXJpb2Q6ImRhdGUifSx7cGF0dGVybjoiRCIscGVyaW9kOiJkYXRlIn0se3BhdHRlcm46IkpKIixwZXJpb2Q6ImhvdXJzIn0se3BhdHRlcm46IkoiLHBlcmlvZDoiaG91cnMifSx7cGF0dGVybjoiSEgiLHBlcmlvZDoiaG91cnMifSx7cGF0dGVybjoiSCIscGVyaW9kOiJob3VycyJ9LA0Ke3BhdHRlcm46IktLIixwZXJpb2Q6ImhvdXJzIn0se3BhdHRlcm46IksiLHBlcmlvZDoiaG91cnMifSx7cGF0dGVybjoiTEwiLHBlcmlvZDoiaG91cnMifSx7cGF0dGVybjoiTCIscGVyaW9kOiJob3VycyJ9LHtwYXR0ZXJuOiJOTiIscGVyaW9kOiJtaW51dGVzIn0se3BhdHRlcm46Ik4iLHBlcmlvZDoibWludXRlcyJ9LHtwYXR0ZXJuOiJTUyIscGVyaW9kOiJzZWNvbmRzIn0se3BhdHRlcm46IlMiLHBlcmlvZDoic2Vjb25kcyJ9LHtwYXR0ZXJuOiJRUVEiLHBlcmlvZDoibWlsbGlzZWNvbmRzIn0se3BhdHRlcm46IlFRIixwZXJpb2Q6Im1pbGxpc2Vjb25kcyJ9LHtwYXR0ZXJuOiJRIixwZXJpb2Q6Im1pbGxpc2Vjb25kcyJ9XSxnPSEwLGY9Yi5pbmRleE9mKCJBQSIpOy0xIT1mJiYoYS5zdWJzdHIoZiwyKSwicG0iPT1hLnRvTG93ZXJDYXNlJiYoZz0hMSkpO3ZhciBmPWIsaCxrLGw7Zm9yKGw9MDtsPGUubGVuZ3RoO2wrKylrPWVbbF0ucGVyaW9kLGNba109MCwiZGF0ZSI9PWsmJihjW2tdPQ0KMSk7Zm9yKGw9MDtsPGUubGVuZ3RoO2wrKylpZihoPWVbbF0ucGF0dGVybixrPWVbbF0ucGVyaW9kLC0xIT1iLmluZGV4T2YoaCkpe3ZhciBtPWQuZ2V0RnJvbURhdGVTdHJpbmcoaCxhLGYpO2I9Yi5yZXBsYWNlKGgsIiIpO2lmKCJLSyI9PWh8fCJLIj09aHx8IkxMIj09aHx8IkwiPT1oKWd8fChtKz0xMik7Y1trXT1tfWQudXNlVVRDPyhlPW5ldyBEYXRlLGUuc2V0VVRDRnVsbFllYXIoYy55ZWFyLGMubW9udGgsYy5kYXRlKSxlLnNldFVUQ0hvdXJzKGMuaG91cnMsYy5taW51dGVzLGMuc2Vjb25kcyxjLm1pbGxpc2Vjb25kcykpOmU9bmV3IERhdGUoYy55ZWFyLGMubW9udGgsYy5kYXRlLGMuaG91cnMsYy5taW51dGVzLGMuc2Vjb25kcyxjLm1pbGxpc2Vjb25kcyk7cmV0dXJuIGV9O2QuZ2V0RnJvbURhdGVTdHJpbmc9ZnVuY3Rpb24oYSxiLGMpe2lmKHZvaWQgMCE9PWIpcmV0dXJuIGM9Yy5pbmRleE9mKGEpLGI9U3RyaW5nKGIpLGI9Yi5zdWJzdHIoYyxhLmxlbmd0aCksIjAiPT1iLmNoYXJBdCgwKSYmDQooYj1iLnN1YnN0cigxLGIubGVuZ3RoLTEpKSxiPU51bWJlcihiKSxpc05hTihiKSYmKGI9MCksLTEhPWEuaW5kZXhPZigiTSIpJiZiLS0sYn07ZC5mb3JtYXREYXRlPWZ1bmN0aW9uKGEsYixjKXtjfHwoYz1kKTt2YXIgZSxnLGYsaCxrLGwsbSxuLHE9ZC5nZXRXZWVrTnVtYmVyKGEpO2QudXNlVVRDPyhlPWEuZ2V0VVRDRnVsbFllYXIoKSxnPWEuZ2V0VVRDTW9udGgoKSxmPWEuZ2V0VVRDRGF0ZSgpLGg9YS5nZXRVVENEYXkoKSxrPWEuZ2V0VVRDSG91cnMoKSxsPWEuZ2V0VVRDTWludXRlcygpLG09YS5nZXRVVENTZWNvbmRzKCksbj1hLmdldFVUQ01pbGxpc2Vjb25kcygpKTooZT1hLmdldEZ1bGxZZWFyKCksZz1hLmdldE1vbnRoKCksZj1hLmdldERhdGUoKSxoPWEuZ2V0RGF5KCksaz1hLmdldEhvdXJzKCksbD1hLmdldE1pbnV0ZXMoKSxtPWEuZ2V0U2Vjb25kcygpLG49YS5nZXRNaWxsaXNlY29uZHMoKSk7dmFyIHA9U3RyaW5nKGUpLnN1YnN0cigyLDIpLHQ9IjAiK2g7Yj1iLnJlcGxhY2UoL1cvZywNCnEpO3E9azsyND09cSYmKHE9MCk7dmFyIHI9cTsxMD5yJiYocj0iMCIrcik7Yj1iLnJlcGxhY2UoL0pKL2cscik7Yj1iLnJlcGxhY2UoL0ovZyxxKTtyPWs7MD09PXImJihyPTI0LC0xIT1iLmluZGV4T2YoIkgiKSYmKGYtLSwwPT09ZiYmKGU9bmV3IERhdGUoYSksZS5zZXREYXRlKGUuZ2V0RGF0ZSgpLTEpLGc9ZS5nZXRNb250aCgpLGY9ZS5nZXREYXRlKCksZT1lLmdldEZ1bGxZZWFyKCkpKSk7YT1nKzE7OT5nJiYoYT0iMCIrYSk7cT1mOzEwPmYmJihxPSIwIitmKTt2YXIgdz1yOzEwPncmJih3PSIwIit3KTtiPWIucmVwbGFjZSgvSEgvZyx3KTtiPWIucmVwbGFjZSgvSC9nLHIpO3I9azsxMTxyJiYoci09MTIpO3c9cjsxMD53JiYodz0iMCIrdyk7Yj1iLnJlcGxhY2UoL0tLL2csdyk7Yj1iLnJlcGxhY2UoL0svZyxyKTtyPWs7MD09PXImJihyPTEyKTsxMjxyJiYoci09MTIpO3c9cjsxMD53JiYodz0iMCIrdyk7Yj1iLnJlcGxhY2UoL0xML2csdyk7Yj1iLnJlcGxhY2UoL0wvZyxyKTsNCnI9bDsxMD5yJiYocj0iMCIrcik7Yj1iLnJlcGxhY2UoL05OL2cscik7Yj1iLnJlcGxhY2UoL04vZyxsKTtsPW07MTA+bCYmKGw9IjAiK2wpO2I9Yi5yZXBsYWNlKC9TUy9nLGwpO2I9Yi5yZXBsYWNlKC9TL2csbSk7bT1uOzEwPm0/bT0iMDAiK206MTAwPm0mJihtPSIwIittKTtsPW47MTA+bCYmKGw9IjAwIitsKTtiPWIucmVwbGFjZSgvQS9nLCJAQUAiKTtiPWIucmVwbGFjZSgvUVFRL2csbSk7Yj1iLnJlcGxhY2UoL1FRL2csbCk7Yj1iLnJlcGxhY2UoL1EvZyxuKTtiPWIucmVwbGFjZSgvWVlZWS9nLCJASUlJSUAiKTtiPWIucmVwbGFjZSgvWVkvZywiQElJQCIpO2I9Yi5yZXBsYWNlKC9NTU1NL2csIkBYWFhYQCIpO2I9Yi5yZXBsYWNlKC9NTU0vZywiQFhYWEAiKTtiPWIucmVwbGFjZSgvTU0vZywiQFhYQCIpO2I9Yi5yZXBsYWNlKC9NL2csIkBYQCIpO2I9Yi5yZXBsYWNlKC9ERC9nLCJAUlJAIik7Yj1iLnJlcGxhY2UoL0QvZywiQFJAIik7Yj1iLnJlcGxhY2UoL0VFRUUvZywiQFBQUFBAIik7DQpiPWIucmVwbGFjZSgvRUVFL2csIkBQUFBAIik7Yj1iLnJlcGxhY2UoL0VFL2csIkBQUEAiKTtiPWIucmVwbGFjZSgvRS9nLCJAUEAiKTtiPWIucmVwbGFjZSgvQElJSUlAL2csZSk7Yj1iLnJlcGxhY2UoL0BJSUAvZyxwKTtiPWIucmVwbGFjZSgvQFhYWFhAL2csYy5tb250aE5hbWVzW2ddKTtiPWIucmVwbGFjZSgvQFhYWEAvZyxjLnNob3J0TW9udGhOYW1lc1tnXSk7Yj1iLnJlcGxhY2UoL0BYWEAvZyxhKTtiPWIucmVwbGFjZSgvQFhAL2csZysxKTtiPWIucmVwbGFjZSgvQFJSQC9nLHEpO2I9Yi5yZXBsYWNlKC9AUkAvZyxmKTtiPWIucmVwbGFjZSgvQFBQUFBAL2csYy5kYXlOYW1lc1toXSk7Yj1iLnJlcGxhY2UoL0BQUFBAL2csYy5zaG9ydERheU5hbWVzW2hdKTtiPWIucmVwbGFjZSgvQFBQQC9nLHQpO2I9Yi5yZXBsYWNlKC9AUEAvZyxoKTtyZXR1cm4gYj0xMj5rP2IucmVwbGFjZSgvQEFAL2csYy5hbVN0cmluZyk6Yi5yZXBsYWNlKC9AQUAvZyxjLnBtU3RyaW5nKX07ZC5jaGFuZ2VEYXRlPQ0KZnVuY3Rpb24oYSxiLGMsZSxnKXtpZihkLnVzZVVUQylyZXR1cm4gZC5jaGFuZ2VVVENEYXRlKGEsYixjLGUsZyk7dmFyIGY9LTE7dm9pZCAwPT09ZSYmKGU9ITApO3ZvaWQgMD09PWcmJihnPSExKTshMD09PWUmJihmPTEpO3N3aXRjaChiKXtjYXNlICJZWVlZIjphLnNldEZ1bGxZZWFyKGEuZ2V0RnVsbFllYXIoKStjKmYpO2V8fGd8fGEuc2V0RGF0ZShhLmdldERhdGUoKSsxKTticmVhaztjYXNlICJNTSI6Yj1hLmdldE1vbnRoKCk7dmFyIGg9YS5nZXRGdWxsWWVhcigpO2Euc2V0TW9udGgoYS5nZXRNb250aCgpK2MqZik7aD09YS5nZXRGdWxsWWVhcigpJiZhLmdldE1vbnRoKCk+YitjKmYmJmEuc2V0RGF0ZShhLmdldERhdGUoKS0xKTtlfHxnfHxhLnNldERhdGUoYS5nZXREYXRlKCkrMSk7YnJlYWs7Y2FzZSAiREQiOmEuc2V0RGF0ZShhLmdldERhdGUoKStjKmYpO2JyZWFrO2Nhc2UgIldXIjphLnNldERhdGUoYS5nZXREYXRlKCkrYypmKjcpO2JyZWFrO2Nhc2UgImhoIjphLnNldEhvdXJzKGEuZ2V0SG91cnMoKSsNCmMqZik7YnJlYWs7Y2FzZSAibW0iOmEuc2V0TWludXRlcyhhLmdldE1pbnV0ZXMoKStjKmYpO2JyZWFrO2Nhc2UgInNzIjphLnNldFNlY29uZHMoYS5nZXRTZWNvbmRzKCkrYypmKTticmVhaztjYXNlICJmZmYiOmEuc2V0TWlsbGlzZWNvbmRzKGEuZ2V0TWlsbGlzZWNvbmRzKCkrYypmKX1yZXR1cm4gYX07ZC5jaGFuZ2VVVENEYXRlPWZ1bmN0aW9uKGEsYixjLGQsZyl7dmFyIGY9LTE7dm9pZCAwPT09ZCYmKGQ9ITApO3ZvaWQgMD09PWcmJihnPSExKTshMD09PWQmJihmPTEpO3N3aXRjaChiKXtjYXNlICJZWVlZIjphLnNldFVUQ0Z1bGxZZWFyKGEuZ2V0VVRDRnVsbFllYXIoKStjKmYpO2R8fGd8fGEuc2V0VVRDRGF0ZShhLmdldFVUQ0RhdGUoKSsxKTticmVhaztjYXNlICJNTSI6Yj1hLmdldFVUQ01vbnRoKCk7YS5zZXRVVENNb250aChhLmdldFVUQ01vbnRoKCkrYypmKTthLmdldFVUQ01vbnRoKCk+YitjKmYmJmEuc2V0VVRDRGF0ZShhLmdldFVUQ0RhdGUoKS0xKTtkfHxnfHxhLnNldFVUQ0RhdGUoYS5nZXRVVENEYXRlKCkrDQoxKTticmVhaztjYXNlICJERCI6YS5zZXRVVENEYXRlKGEuZ2V0VVRDRGF0ZSgpK2MqZik7YnJlYWs7Y2FzZSAiV1ciOmEuc2V0VVRDRGF0ZShhLmdldFVUQ0RhdGUoKStjKmYqNyk7YnJlYWs7Y2FzZSAiaGgiOmEuc2V0VVRDSG91cnMoYS5nZXRVVENIb3VycygpK2MqZik7YnJlYWs7Y2FzZSAibW0iOmEuc2V0VVRDTWludXRlcyhhLmdldFVUQ01pbnV0ZXMoKStjKmYpO2JyZWFrO2Nhc2UgInNzIjphLnNldFVUQ1NlY29uZHMoYS5nZXRVVENTZWNvbmRzKCkrYypmKTticmVhaztjYXNlICJmZmYiOmEuc2V0VVRDTWlsbGlzZWNvbmRzKGEuZ2V0VVRDTWlsbGlzZWNvbmRzKCkrYypmKX1yZXR1cm4gYX19KSgpOw0K"></script>
<script src="data:application/javascript;base64,Ly8gZnVuY3Rpb24gdG8gZ2V0IGFtQ2hhcnQgY2hhcnQgd2l0aCBkaXYgaWQNCmZ1bmN0aW9uIGdldEFtQ2hhcnQoaWQpIHsNCiAgICB2YXIgYWxsQ2hhcnRzID0gQW1DaGFydHMuY2hhcnRzOw0KICAgIGlmKGFsbENoYXJ0cyAhPT0gdW5kZWZpbmVkKXsNCiAgICAgICAgZm9yICh2YXIgaSA9IChhbGxDaGFydHMubGVuZ3RoIC0gMSk7IGkgPiAtMTsgaS0tKSB7DQogICAgICAgICAgICBpZihhbGxDaGFydHNbaV0uZGl2ICE9PSB1bmRlZmluZWQpeyAvLyBmb3IgbWFya2Rvd24gYnVnID8NCiAgICAgICAgICAgICAgICBpZiAoaWQgPT0gYWxsQ2hhcnRzW2ldLmRpdi5pZCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQ2hhcnRzW2ldOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KLy8gZnVuY3Rpb24gdG8gcmVtb3ZlZCBhbUNoYXJ0IGNoYXJ0IHdpdGggZGl2IGlkDQpmdW5jdGlvbiByZW1vdmVBbUNoYXJ0KGlkKSB7DQogIHZhciB0bXBfYW0gPSBnZXRBbUNoYXJ0KGlkKTsNCiAgaWYodG1wX2FtKXsNCiAgICB0bXBfYW0uY2xlYXIoKTsNCiAgfQ0KfQ0KDQovLyBncm91cCBmb3Igc3luY2hyb25pc2F0aW9uDQp2YXIgYW1TdG9ja19yZWZfZ3JvdXAgPSB7fTsNCg0KZnVuY3Rpb24gYWRkQW1TdG9ja1JlZkdyb3VwKGdyb3VwLCBpZCl7DQogIGlmIChhbVN0b2NrX3JlZl9ncm91cC5oYXNPd25Qcm9wZXJ0eShncm91cCkpIHsNCiAgICBpZihhbVN0b2NrX3JlZl9ncm91cFtncm91cF0uaW5kZXhPZihpZCkgPT09IC0xKXsNCiAgICAgICAgICBhbVN0b2NrX3JlZl9ncm91cFtncm91cF0ucHVzaChpZCk7DQogICAgfQ0KICB9ZWxzZSB7DQogICAgYW1TdG9ja19yZWZfZ3JvdXBbZ3JvdXBdPSBbaWRdOw0KICB9DQp9DQoNCmZ1bmN0aW9uIGZpbmRBbVN0b2NrUmVmR3JvdXAoaWQpew0KICBmb3IgKHZhciBnciBpbiBhbVN0b2NrX3JlZl9ncm91cCkgew0KICAgIGlmKGFtU3RvY2tfcmVmX2dyb3VwW2dyXS5pbmRleE9mKGlkKSAhPT0gLTEpew0KICAgICAgcmV0dXJuIGFtU3RvY2tfcmVmX2dyb3VwW2dyXTsNCiAgICB9DQogIH0NCiAgcmV0dXJuIHVuZGVmaW5lZDsNCn0NCg0KdmFyIGFtU3RvY2tfaXNfdHNfbW9kdWxlID0gW107DQoNCmZ1bmN0aW9uIGFkZEFtU3RvY2tJc1RzTW9kKGlkKXsNCiAgICBhbVN0b2NrX2lzX3RzX21vZHVsZS5wdXNoKGlkKTsNCn0NCg0KZnVuY3Rpb24gZmluZEFtU3RvY2tJc1RzTW9kKGlkKXsNCiAgaWYoYW1TdG9ja19pc190c19tb2R1bGUuaW5kZXhPZihpZCkgIT09IC0xKXsNCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KICByZXR1cm4gZmFsc2U7DQp9DQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vIEZ1bmN0aW9uIGZvciBzaGlueSBtb2R1bGUNCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIA0KaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSl7DQogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdhbUNoYXJ0U3RvY2tNb2R1bGVDaGFuZ2VEYXRhJywgZnVuY3Rpb24ocGFyYW1zKXsNCiAgICAgIC8vIGdldCBjb250YWluZXIgaWQNCiAgICAgIHZhciBjaGFydCA9IGdldEFtQ2hhcnQocGFyYW1zWzBdKTsNCiAgICAgIGlmKGNoYXJ0ICE9PSB1bmRlZmluZWQpew0KICAgICAgICB0bXBfem9vbWVkX2V2ZW50ID0gY2hhcnQuZXZlbnRzLnpvb21lZDsNCiAgICAgICAgY2hhcnQuZXZlbnRzLnpvb21lZCA9IFtdOw0KICAgICAgICBjaGFydC5kYXRhU2V0c1swXS5kYXRhUHJvdmlkZXIgPSBwYXJhbXNbMV07DQogICAgICAgIGNoYXJ0LmNhdGVnb3J5QXhlc1NldHRpbmdzLmdyb3VwVG9QZXJpb2RzID0gcGFyYW1zWzJdOw0KICAgICAgICBjaGFydC5jYXRlZ29yeUF4ZXNTZXR0aW5ncy5taW5QZXJpb2QgPSBwYXJhbXNbMl1bMF07DQogICAgICAgIGNoYXJ0LnZhbGlkYXRlTm93KHRydWUsIHRydWUpOw0KICAgICAgICBjaGFydC56b29tKGNoYXJ0LnByZXZpb3VzU3RhcnREYXRlLCBjaGFydC5wcmV2aW91c0VuZERhdGUpOw0KICAgICAgICBjaGFydC5ldmVudHMuem9vbWVkID0gdG1wX3pvb21lZF9ldmVudDsNCiAgICAgIH0NCiAgfSk7DQogIA0KICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignYW1TZXJpYWxVcGRhdGVEYXRhJywgZnVuY3Rpb24ocGFyYW1zKXsNCiAgICAgIC8vIGdldCBjb250YWluZXIgaWQNCiAgICAgIHZhciBjaGFydCA9IGdldEFtQ2hhcnQocGFyYW1zWzBdKTsNCiAgICAgIGlmKGNoYXJ0ICE9PSB1bmRlZmluZWQpew0KICAgICAgICBpZihwYXJhbXNbMl0pew0KICAgICAgICAgIHRtcF96b29tZWRfZXZlbnQgPSBjaGFydC5ldmVudHMuem9vbWVkOw0KICAgICAgICAgIGNoYXJ0LmV2ZW50cy56b29tZWQgPSBbXTsNCiAgICAgICAgfQ0KICAgICAgICBjaGFydC5kYXRhUHJvdmlkZXIgPSBwYXJhbXNbMV07DQogICAgICAgIGNoYXJ0LnZhbGlkYXRlTm93KHRydWUsIHRydWUpOw0KICAgICAgICBpZihwYXJhbXNbMl0pew0KICAgICAgICAgIGNoYXJ0Lnpvb20oY2hhcnQucHJldlN0YXJ0SW5kZXgsIGNoYXJ0LnByZXZFbmRJbmRleCk7DQogICAgICAgICAgY2hhcnQuZXZlbnRzLnpvb21lZCA9IHRtcF96b29tZWRfZXZlbnQ7DQogICAgICAgIH0NCiAgICAgIH0NCiAgfSk7DQogIA0KICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignYW1YWVVwZGF0ZURhdGEnLCBmdW5jdGlvbihwYXJhbXMpew0KICAgICAgLy8gZ2V0IGNvbnRhaW5lciBpZA0KICAgICAgdmFyIGNoYXJ0ID0gZ2V0QW1DaGFydChwYXJhbXNbMF0pOw0KICAgICAgaWYoY2hhcnQgIT09IHVuZGVmaW5lZCl7DQogICAgICAgIGlmKHBhcmFtc1syXSl7DQogICAgICAgICAgdG1wX3pvb21lZF9ldmVudCA9IGNoYXJ0LnZhbHVlQXhlc1swXS5ldmVudHMuYXhpc1pvb21lZDsNCiAgICAgICAgICBjaGFydC52YWx1ZUF4ZXNbMF0uZXZlbnRzLmF4aXNab29tZWQgPSBbXTsNCiAgICAgICAgfQ0KICAgICAgICBjaGFydC5kYXRhUHJvdmlkZXIgPSBwYXJhbXNbMV07DQogICAgICAgIGNoYXJ0LnZhbGlkYXRlTm93KHRydWUsIHRydWUpOw0KICAgICAgICBpZihwYXJhbXNbMl0pew0KICAgICAgICAgIGNoYXJ0LnZhbHVlQXhlc1swXS56b29tVG9WYWx1ZXMoY2hhcnQudmFsdWVBeGVzWzBdLnByZXZTdGFydFZhbHVlLCBjaGFydC52YWx1ZUF4ZXNbMF0ucHJldkVuZFZhbHVlKTsNCiAgICAgICAgICBjaGFydC52YWx1ZUF4ZXNbMF0uZXZlbnRzLmF4aXNab29tZWQgPSB0bXBfem9vbWVkX2V2ZW50Ow0KICAgICAgICB9DQogICAgICB9DQogIH0pOw0KfQ0KDQpIVE1MV2lkZ2V0cy53aWRnZXQoew0KDQogICAgbmFtZTogJ3JhbWNoYXJ0c19iYXNlJywNCg0KICAgIHR5cGU6ICdvdXRwdXQnLA0KDQogICAgZmFjdG9yeTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsNCg0KICAgICAgICAvLyBhZGQgbGl0dGxlIHByb2Nlc3NEZWxheQ0KICAgICAgICBBbUNoYXJ0cy5wcm9jZXNzRGVsYXkgPSAxMDsNCg0KICAgICAgICAvLyBpbml0IHRoZSBjaGFydCBlbGVtZW50LCBlbXB0eSBzaW5jZSB3ZSBkb24ndCBoYXZlIGFueSBjaGFydCBkYXRhDQogICAgICAgIHZhciBhbWNoYXJ0Ow0KDQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICByZW5kZXJWYWx1ZTogZnVuY3Rpb24gKHgpIHsNCg0KICAgICAgICAgICAgICAgIC8vIGNsZWFyIGV4aXN0aW5nIGNoYXJ0IGlmIG5lZWRlZA0KICAgICAgICAgICAgICAgIHZhciBybV9jaGFydCA9IHJlbW92ZUFtQ2hhcnQoZWwuaWQpOw0KDQogICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBiYWNrZ3JvdW5kDQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWwuaWQpLnN0eWxlLmJhY2tncm91bmQgPSB4LmJhY2tncm91bmQ7DQogICAgICAgICAgICAgICAgYW1jaGFydCA9IEFtQ2hhcnRzLm1ha2VDaGFydChlbC5pZCwgeC5jaGFydERhdGEpOw0KDQogICAgICAgICAgICAgICAgLy8gZ3JvdXAgYW1TdG9jaw0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHpvb21lZEdyb3VwRXZlbnQoZXZlbnQsIGVsaWQpew0KICAgICAgICAgICAgICAgICAgdmFyIGxpbmtlZF9jaGFydCA9IGZpbmRBbVN0b2NrUmVmR3JvdXAoZWwuaWQpOw0KICAgICAgICAgICAgICAgICAgdmFyIHRtcF96b29tZWRfZXZlbnQ7DQogICAgICAgICAgICAgICAgICB2YXIgdG1wX2FtOw0KICAgICAgICAgICAgICAgICAgICBpZihsaW5rZWRfY2hhcnQgIT09IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciB0bXBfaWQgaW4gbGlua2VkX2NoYXJ0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxpbmtlZF9jaGFydFt0bXBfaWRdICE9PSBlbC5pZCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgIHRtcF9hbSA9IGdldEFtQ2hhcnQobGlua2VkX2NoYXJ0W3RtcF9pZF0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRtcF9hbSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBfem9vbWVkX2V2ZW50ID0gdG1wX2FtLmV2ZW50cy56b29tZWQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBfYW0uZXZlbnRzLnpvb21lZCA9IFtdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmluZEFtU3RvY2tJc1RzTW9kKGxpbmtlZF9jaGFydFt0bXBfaWRdKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcF9hbS56b29tKGV2ZW50LmNoYXJ0LnByZXZpb3VzU3RhcnREYXRlLCBldmVudC5jaGFydC5wcmV2aW91c0VuZERhdGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBfYW0uZXZlbnRzLnpvb21lZCA9IHRtcF96b29tZWRfZXZlbnQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcF9hbS5wcmV2aW91c1N0YXJ0RGF0ZSA9IGV2ZW50LnN0YXJ0RGF0ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wX2FtLnByZXZpb3VzRW5kRGF0ZSA9IGV2ZW50LmVuZERhdGU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UobGlua2VkX2NoYXJ0W3RtcF9pZF0ucmVwbGFjZSgiYW1fdHNfbW9kdWxlIiwgImN1cnZlX3pvb20iKSwge3N0YXJ0IDogZXZlbnQuc3RhcnREYXRlLCBlbmQgOiBldmVudC5lbmREYXRlfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBfYW0uem9vbShldmVudC5zdGFydERhdGUsIGV2ZW50LmVuZERhdGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBfYW0uZXZlbnRzLnpvb21lZCA9IHRtcF96b29tZWRfZXZlbnQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSAgIA0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZih4Lmdyb3VwICE9PSBudWxsKXsNCiAgICAgICAgICAgICAgICAgICAgYWRkQW1TdG9ja1JlZkdyb3VwKHguZ3JvdXAsIGVsLmlkKTsNCiAgICAgICAgICAgICAgICAgICAgYW1jaGFydC5hZGRMaXN0ZW5lcigiem9vbWVkIiwgem9vbWVkR3JvdXBFdmVudCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmKHguaXNfdHNfbW9kdWxlKXsNCiAgICAgICAgICAgICAgICAgICAgYWRkQW1TdG9ja0lzVHNNb2QoZWwuaWQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBhZGQgY2hhcnQgbGlzdGVuZXJzDQogICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHgubGlzdGVuZXJzKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICh4Lmxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhbWNoYXJ0LmFkZExpc3RlbmVyKGtleSwgeC5saXN0ZW5lcnNba2V5XSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAod2luZG93LlNoaW55KSB7DQogICAgICAgICAgICAgICAgICAgIGhhbmRsZUluaXQoKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBhbWNoYXJ0LmFkZExpc3RlbmVyKCJpbml0IiwgaGFuZGxlSW5pdCk7DQogICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVJbml0KCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIga2V5X2hhbmRsZTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGljZTsNCg0KICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGljZSBpbiB4LmF4ZXNfbGlzdGVuZXJzSW5kaWNlcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gSmF2YVNjcmlwdCByZWR1Y2VzIGluZGljZXMgYnkgMQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28sIG5vIG5lZWQgdG8gZG8gaW5kaWNlID0gaW5kaWNlIC0xDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGtleV9oYW5kbGUgaW4geC5heGVzX2xpc3RlbmVyc1tpbmRpY2VdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1jaGFydC5heGVzW2luZGljZV0uYWRkTGlzdGVuZXIoa2V5X2hhbmRsZSwgeC5heGVzX2xpc3RlbmVyc1tpbmRpY2VdW2tleV9oYW5kbGVdKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGZvciAoa2V5X2hhbmRsZSBpbiB4LmNhdGVnb3J5QXhpc19saXN0ZW5lcnMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFtY2hhcnQuY2F0ZWdvcnlBeGlzLmFkZExpc3RlbmVyKGtleV9oYW5kbGUsIHguY2F0ZWdvcnlBeGlzX2xpc3RlbmVyc1trZXlfaGFuZGxlXSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBmb3IgKGtleV9oYW5kbGUgaW4geC5jaGFydEN1cnNvcl9saXN0ZW5lcnMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFtY2hhcnQuY2hhcnRDdXJzb3IuYWRkTGlzdGVuZXIoa2V5X2hhbmRsZSwgeC5jaGFydEN1cnNvcl9saXN0ZW5lcnNba2V5X2hhbmRsZV0pOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgZm9yIChrZXlfaGFuZGxlIGluIHguZGF0YVNldFNlbGVjdG9yX2xpc3RlbmVycykgew0KICAgICAgICAgICAgICAgICAgICAgICAgYW1jaGFydC5kYXRhU2V0U2VsZWN0b3IuYWRkTGlzdGVuZXIoa2V5X2hhbmRsZSwgeC5kYXRhU2V0U2VsZWN0b3JfbGlzdGVuZXJzW2tleV9oYW5kbGVdKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGZvciAoa2V5X2hhbmRsZSBpbiB4LmxlZ2VuZF9saXN0ZW5lcnMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFtY2hhcnQubGVnZW5kLmFkZExpc3RlbmVyKGtleV9oYW5kbGUsIHgubGVnZW5kX2xpc3RlbmVyc1trZXlfaGFuZGxlXSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGljZSBpbiB4LnBhbmVsc19saXN0ZW5lcnNJbmRpY2VzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBKYXZhU2NyaXB0IHJlZHVjZXMgaW5kaWNlcyBieSAxDQogICAgICAgICAgICAgICAgICAgICAgICAvLyBzbywgbm8gbmVlZCB0byBkbyBpbmRpY2UgPSBpbmRpY2UgLTENCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoa2V5X2hhbmRsZSBpbiB4LnBhbmVsc19saXN0ZW5lcnNbaW5kaWNlXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtY2hhcnQucGFuZWxzW2luZGljZV0uYWRkTGlzdGVuZXIoa2V5X2hhbmRsZSwgeC5wYW5lbHNfbGlzdGVuZXJzW2luZGljZV1ba2V5X2hhbmRsZV0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgZm9yIChrZXlfaGFuZGxlIGluIHguc3RvY2tMZWdlbmRfbGlzdGVuZXJzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhbWNoYXJ0LnBhbmVsc1swXS5zdG9ja0xlZ2VuZC5hZGRMaXN0ZW5lcihrZXlfaGFuZGxlLCB4LnN0b2NrTGVnZW5kX2xpc3RlbmVyc1trZXlfaGFuZGxlXSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBmb3IgKGtleV9oYW5kbGUgaW4geC5wZXJpb2RTZWxlY3Rvcl9saXN0ZW5lcnMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFtY2hhcnQucGVyaW9kU2VsZWN0b3IuYWRkTGlzdGVuZXIoa2V5X2hhbmRsZSwgeC5wZXJpb2RTZWxlY3Rvcl9saXN0ZW5lcnNba2V5X2hhbmRsZV0pOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRpY2UgaW4geC52YWx1ZUF4ZXNfbGlzdGVuZXJzSW5kaWNlcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gSmF2YVNjcmlwdCByZWR1Y2VzIGluZGljZXMgYnkgMQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28sIG5vIG5lZWQgdG8gZG8gaW5kaWNlID0gaW5kaWNlIC0xDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGtleV9oYW5kbGUgaW4geC52YWx1ZUF4ZXNfbGlzdGVuZXJzW2luZGljZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbWNoYXJ0LnZhbHVlQXhlc1tpbmRpY2VdLmFkZExpc3RlbmVyKGtleV9oYW5kbGUsIHgudmFsdWVBeGVzX2xpc3RlbmVyc1tpbmRpY2VdW2tleV9oYW5kbGVdKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuU2hpbnkpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG15ZXZlbnQ7DQogICAgICAgICAgICAgICAgICAgIGlmIChhbWNoYXJ0LmV2ZW50cy5pbml0WzBdICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG15ZXZlbnQgPSB7dHlwZTogImluaXQiLCBjaGFydDogYW1jaGFydH07DQogICAgICAgICAgICAgICAgICAgICAgICBhbWNoYXJ0LmV2ZW50cy5pbml0WzBdLmhhbmRsZXIobXlldmVudCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGFtY2hhcnQuZXZlbnRzLnJlbmRlcmVkWzBdICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG15ZXZlbnQgPSB7dHlwZTogInJlbmRlcmVkIiwgY2hhcnQ6IGFtY2hhcnR9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgYW1jaGFydC5ldmVudHMucmVuZGVyZWRbMF0uaGFuZGxlcihteWV2ZW50KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQoNCg0KICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkgew0KICAgICAgICAgICAgICAgIGlmIChhbWNoYXJ0KSBhbWNoYXJ0LmhhbmRsZVJlc2l6ZSgpOw0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgLy8gTWFrZSB0aGUgc2lnbWEgb2JqZWN0IGF2YWlsYWJsZSBhcyBhIHByb3BlcnR5IG9uIHRoZSB3aWRnZXQNCiAgICAgICAgICAgIC8vIGluc3RhbmNlIHdlJ3JlIHJldHVybmluZyBmcm9tIGZhY3RvcnkoKS4gVGhpcyBpcyBnZW5lcmFsbHkgYQ0KICAgICAgICAgICAgLy8gZ29vZCBpZGVhIGZvciBleHRlbnNpYmlsaXR5LS1pdCBoZWxwcyB1c2VycyBvZiB0aGlzIHdpZGdldA0KICAgICAgICAgICAgLy8gaW50ZXJhY3QgZGlyZWN0bHkgd2l0aCBzaWdtYSwgaWYgbmVlZGVkLg0KICAgICAgICAgICAgY2hhcnQ6IGFtY2hhcnQNCiAgICAgICAgfTsNCiAgICB9DQp9KTsNCg=="></script>
<script src="data:application/javascript;base64,KGZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LkFtQ2hhcnRzO2UuQW1SZWN0YW5ndWxhckNoYXJ0PWUuQ2xhc3Moe2luaGVyaXRzOmUuQW1Db29yZGluYXRlQ2hhcnQsY29uc3RydWN0OmZ1bmN0aW9uKGEpe2UuQW1SZWN0YW5ndWxhckNoYXJ0LmJhc2UuY29uc3RydWN0LmNhbGwodGhpcyxhKTt0aGlzLnRoZW1lPWE7dGhpcy5jcmVhdGVFdmVudHMoInpvb21lZCIsImNoYW5nZWQiKTt0aGlzLm1hcmdpblJpZ2h0PXRoaXMubWFyZ2luQm90dG9tPXRoaXMubWFyZ2luVG9wPXRoaXMubWFyZ2luTGVmdD0yMDt0aGlzLmRlcHRoM0Q9dGhpcy5hbmdsZT0wO3RoaXMucGxvdEFyZWFGaWxsQ29sb3JzPSIjRkZGRkZGIjt0aGlzLnBsb3RBcmVhRmlsbEFscGhhcz0wO3RoaXMucGxvdEFyZWFCb3JkZXJDb2xvcj0iIzAwMDAwMCI7dGhpcy5wbG90QXJlYUJvcmRlckFscGhhPTA7dGhpcy5tYXhab29tRmFjdG9yPTIwO3RoaXMuem9vbU91dEJ1dHRvbkltYWdlU2l6ZT0xOTt0aGlzLnpvb21PdXRCdXR0b25JbWFnZT0KImxlbnMiO3RoaXMuem9vbU91dFRleHQ9IlNob3cgYWxsIjt0aGlzLnpvb21PdXRCdXR0b25Db2xvcj0iI2U1ZTVlNSI7dGhpcy56b29tT3V0QnV0dG9uQWxwaGE9MDt0aGlzLnpvb21PdXRCdXR0b25Sb2xsT3ZlckFscGhhPTE7dGhpcy56b29tT3V0QnV0dG9uUGFkZGluZz04O3RoaXMudHJlbmRMaW5lcz1bXTt0aGlzLmF1dG9NYXJnaW5zPSEwO3RoaXMubWFyZ2luc1VwZGF0ZWQ9ITE7dGhpcy5hdXRvTWFyZ2luT2Zmc2V0PTEwO2UuYXBwbHlUaGVtZSh0aGlzLGEsIkFtUmVjdGFuZ3VsYXJDaGFydCIpfSxpbml0Q2hhcnQ6ZnVuY3Rpb24oKXtlLkFtUmVjdGFuZ3VsYXJDaGFydC5iYXNlLmluaXRDaGFydC5jYWxsKHRoaXMpO3RoaXMudXBkYXRlRHh5KCk7IXRoaXMubWFyZ2luc1VwZGF0ZWQmJnRoaXMuYXV0b01hcmdpbnMmJih0aGlzLnJlc2V0TWFyZ2lucygpLHRoaXMuZHJhd0dyYXBocz0hMSk7dGhpcy5wcm9jZXNzU2Nyb2xsYmFycygpO3RoaXMudXBkYXRlTWFyZ2lucygpO3RoaXMudXBkYXRlUGxvdEFyZWEoKTsKdGhpcy51cGRhdGVTY3JvbGxiYXJzKCk7dGhpcy51cGRhdGVUcmVuZExpbmVzKCk7dGhpcy51cGRhdGVDaGFydEN1cnNvcigpO3RoaXMudXBkYXRlVmFsdWVBeGVzKCk7dGhpcy5zY3JvbGxiYXJPbmx5fHx0aGlzLnVwZGF0ZUdyYXBocygpfSxkcmF3Q2hhcnQ6ZnVuY3Rpb24oKXtlLkFtUmVjdGFuZ3VsYXJDaGFydC5iYXNlLmRyYXdDaGFydC5jYWxsKHRoaXMpO3RoaXMuZHJhd1Bsb3RBcmVhKCk7aWYoZS5pZkFycmF5KHRoaXMuY2hhcnREYXRhKSl7dmFyIGE9dGhpcy5jaGFydEN1cnNvcjthJiZhLmRyYXcoKX19LHJlc2V0TWFyZ2luczpmdW5jdGlvbigpe3ZhciBhPXt9LGI7aWYoInh5Ij09dGhpcy50eXBlKXt2YXIgYz10aGlzLnhBeGVzLGQ9dGhpcy55QXhlcztmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKXt2YXIgZz1jW2JdO2cuaWdub3JlQXhpc1dpZHRofHwoZy5zZXRPcmllbnRhdGlvbighMCksZy5maXhBeGlzUG9zaXRpb24oKSxhW2cucG9zaXRpb25dPSEwKX1mb3IoYj0wO2I8CmQubGVuZ3RoO2IrKyljPWRbYl0sYy5pZ25vcmVBeGlzV2lkdGh8fChjLnNldE9yaWVudGF0aW9uKCExKSxjLmZpeEF4aXNQb3NpdGlvbigpLGFbYy5wb3NpdGlvbl09ITApfWVsc2V7ZD10aGlzLnZhbHVlQXhlcztmb3IoYj0wO2I8ZC5sZW5ndGg7YisrKWM9ZFtiXSxjLmlnbm9yZUF4aXNXaWR0aHx8KGMuc2V0T3JpZW50YXRpb24odGhpcy5yb3RhdGUpLGMuZml4QXhpc1Bvc2l0aW9uKCksYVtjLnBvc2l0aW9uXT0hMCk7KGI9dGhpcy5jYXRlZ29yeUF4aXMpJiYhYi5pZ25vcmVBeGlzV2lkdGgmJihiLnNldE9yaWVudGF0aW9uKCF0aGlzLnJvdGF0ZSksYi5maXhBeGlzUG9zaXRpb24oKSxiLmZpeEF4aXNQb3NpdGlvbigpLGFbYi5wb3NpdGlvbl09ITApfWEubGVmdCYmKHRoaXMubWFyZ2luTGVmdD0wKTthLnJpZ2h0JiYodGhpcy5tYXJnaW5SaWdodD0wKTthLnRvcCYmKHRoaXMubWFyZ2luVG9wPTApO2EuYm90dG9tJiYodGhpcy5tYXJnaW5Cb3R0b209MCk7dGhpcy5maXhNYXJnaW5zPQphfSxtZWFzdXJlTWFyZ2luczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudmFsdWVBeGVzLGIsYz10aGlzLmF1dG9NYXJnaW5PZmZzZXQsZD10aGlzLmZpeE1hcmdpbnMsZz10aGlzLnJlYWxXaWR0aCxoPXRoaXMucmVhbEhlaWdodCxmPWMsZT1jLGs9ZztiPWg7dmFyIG07Zm9yKG09MDttPGEubGVuZ3RoO20rKylhW21dLmhhbmRsZVN5bmNocm9uaXphdGlvbigpLGI9dGhpcy5nZXRBeGlzQm91bmRzKGFbbV0sZixrLGUsYiksZj1NYXRoLnJvdW5kKGIubCksaz1NYXRoLnJvdW5kKGIuciksZT1NYXRoLnJvdW5kKGIudCksYj1NYXRoLnJvdW5kKGIuYik7aWYoYT10aGlzLmNhdGVnb3J5QXhpcyliPXRoaXMuZ2V0QXhpc0JvdW5kcyhhLGYsayxlLGIpLGY9TWF0aC5yb3VuZChiLmwpLGs9TWF0aC5yb3VuZChiLnIpLGU9TWF0aC5yb3VuZChiLnQpLGI9TWF0aC5yb3VuZChiLmIpO2QubGVmdCYmZjxjJiYodGhpcy5tYXJnaW5MZWZ0PU1hdGgucm91bmQoLWYrYyksIWlzTmFOKHRoaXMubWluTWFyZ2luTGVmdCkmJgp0aGlzLm1hcmdpbkxlZnQ8dGhpcy5taW5NYXJnaW5MZWZ0JiYodGhpcy5tYXJnaW5MZWZ0PXRoaXMubWluTWFyZ2luTGVmdCkpO2QucmlnaHQmJms+PWctYyYmKHRoaXMubWFyZ2luUmlnaHQ9TWF0aC5yb3VuZChrLWcrYyksIWlzTmFOKHRoaXMubWluTWFyZ2luUmlnaHQpJiZ0aGlzLm1hcmdpblJpZ2h0PHRoaXMubWluTWFyZ2luUmlnaHQmJih0aGlzLm1hcmdpblJpZ2h0PXRoaXMubWluTWFyZ2luUmlnaHQpKTtkLnRvcCYmZTxjK3RoaXMudGl0bGVIZWlnaHQmJih0aGlzLm1hcmdpblRvcD1NYXRoLnJvdW5kKHRoaXMubWFyZ2luVG9wLWUrYyt0aGlzLnRpdGxlSGVpZ2h0KSwhaXNOYU4odGhpcy5taW5NYXJnaW5Ub3ApJiZ0aGlzLm1hcmdpblRvcDx0aGlzLm1pbk1hcmdpblRvcCYmKHRoaXMubWFyZ2luVG9wPXRoaXMubWluTWFyZ2luVG9wKSk7ZC5ib3R0b20mJmI+aC1jJiYodGhpcy5tYXJnaW5Cb3R0b209TWF0aC5yb3VuZCh0aGlzLm1hcmdpbkJvdHRvbStiLWgrYyksIWlzTmFOKHRoaXMubWluTWFyZ2luQm90dG9tKSYmCnRoaXMubWFyZ2luQm90dG9tPHRoaXMubWluTWFyZ2luQm90dG9tJiYodGhpcy5tYXJnaW5Cb3R0b209dGhpcy5taW5NYXJnaW5Cb3R0b20pKTt0aGlzLmluaXRDaGFydCgpfSxnZXRBeGlzQm91bmRzOmZ1bmN0aW9uKGEsYixjLGQsZyl7aWYoIWEuaWdub3JlQXhpc1dpZHRoKXt2YXIgaD1hLmxhYmVsc1NldCxmPWEudGlja0xlbmd0aDthLmluc2lkZSYmKGY9MCk7aWYoaClzd2l0Y2goaD1hLmdldEJCb3goKSxhLnBvc2l0aW9uKXtjYXNlICJ0b3AiOmE9aC55O2Q+YSYmKGQ9YSk7YnJlYWs7Y2FzZSAiYm90dG9tIjphPWgueStoLmhlaWdodDtnPGEmJihnPWEpO2JyZWFrO2Nhc2UgInJpZ2h0IjphPWgueCtoLndpZHRoK2YrMztjPGEmJihjPWEpO2JyZWFrO2Nhc2UgImxlZnQiOmE9aC54LWYsYj5hJiYoYj1hKX19cmV0dXJue2w6Yix0OmQscjpjLGI6Z319LGRyYXdab29tT3V0QnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS56YlNldCl7dmFyIGI9YS5jb250YWluZXIuc2V0KCk7CmEuem9vbUJ1dHRvblNldC5wdXNoKGIpO3ZhciBjPWEuY29sb3IsZD1hLmZvbnRTaXplLGc9YS56b29tT3V0QnV0dG9uSW1hZ2VTaXplLGg9YS56b29tT3V0QnV0dG9uSW1hZ2UucmVwbGFjZSgvXC5bYS16XSokL2ksIiIpLGY9YS5sYW5nT2JqLnpvb21PdXRUZXh0fHxhLnpvb21PdXRUZXh0LGw9YS56b29tT3V0QnV0dG9uQ29sb3Isaz1hLnpvb21PdXRCdXR0b25BbHBoYSxtPWEuem9vbU91dEJ1dHRvbkZvbnRTaXplLHA9YS56b29tT3V0QnV0dG9uUGFkZGluZztpc05hTihtKXx8KGQ9bSk7KG09YS56b29tT3V0QnV0dG9uRm9udENvbG9yKSYmKGM9bSk7dmFyIG09YS56b29tT3V0QnV0dG9uLG47bSYmKG0uZm9udFNpemUmJihkPW0uZm9udFNpemUpLG0uY29sb3ImJihjPW0uY29sb3IpLG0uYmFja2dyb3VuZENvbG9yJiYobD1tLmJhY2tncm91bmRDb2xvciksaXNOYU4obS5iYWNrZ3JvdW5kQWxwaGEpfHwoYS56b29tT3V0QnV0dG9uUm9sbE92ZXJBbHBoYT1tLmJhY2tncm91bmRBbHBoYSkpOwp2YXIgdT1tPTAsdT1hLnBhdGhUb0ltYWdlcztpZihoKXtpZihlLmlzQWJzb2x1dGUoaCl8fHZvaWQgMD09PXUpdT0iIjtuPWEuY29udGFpbmVyLmltYWdlKHUraCthLmV4dGVuc2lvbiwwLDAsZyxnKTtlLnNldENOKGEsbiwiem9vbS1vdXQtaW1hZ2UiKTtiLnB1c2gobik7bj1uLmdldEJCb3goKTttPW4ud2lkdGgrNX12b2lkIDAhPT1mJiYoYz1lLnRleHQoYS5jb250YWluZXIsZixjLGEuZm9udEZhbWlseSxkLCJzdGFydCIpLGUuc2V0Q04oYSxjLCJ6b29tLW91dC1sYWJlbCIpLGQ9Yy5nZXRCQm94KCksdT1uP24uaGVpZ2h0LzItMzpkLmhlaWdodC8yLGMudHJhbnNsYXRlKG0sdSksYi5wdXNoKGMpKTtuPWIuZ2V0QkJveCgpO2M9MTtlLmlzTW9kZXJufHwoYz0wKTtsPWUucmVjdChhLmNvbnRhaW5lcixuLndpZHRoKzIqcCs1LG4uaGVpZ2h0KzIqcC0yLGwsMSwxLGwsYyk7bC5zZXRBdHRyKCJvcGFjaXR5IixrKTtsLnRyYW5zbGF0ZSgtcCwtcCk7ZS5zZXRDTihhLGwsInpvb20tb3V0LWJnIik7CmIucHVzaChsKTtsLnRvQmFjaygpO2EuemJCRz1sO249bC5nZXRCQm94KCk7Yi50cmFuc2xhdGUoYS5tYXJnaW5MZWZ0UmVhbCthLnBsb3RBcmVhV2lkdGgtbi53aWR0aCtwLGEubWFyZ2luVG9wUmVhbCtwKTtiLmhpZGUoKTtiLm1vdXNlb3ZlcihmdW5jdGlvbigpe2Eucm9sbE92ZXJaQigpfSkubW91c2VvdXQoZnVuY3Rpb24oKXthLnJvbGxPdXRaQigpfSkuY2xpY2soZnVuY3Rpb24oKXthLmNsaWNrWkIoKX0pLnRvdWNoc3RhcnQoZnVuY3Rpb24oKXthLnJvbGxPdmVyWkIoKX0pLnRvdWNoZW5kKGZ1bmN0aW9uKCl7YS5yb2xsT3V0WkIoKTthLmNsaWNrWkIoKX0pO2ZvcihrPTA7azxiLmxlbmd0aDtrKyspYltrXS5hdHRyKHtjdXJzb3I6InBvaW50ZXIifSk7dm9pZCAwIT09YS56b29tT3V0QnV0dG9uVGFiSW5kZXgmJihiLnNldEF0dHIoInRhYmluZGV4IixhLnpvb21PdXRCdXR0b25UYWJJbmRleCksYi5zZXRBdHRyKCJyb2xlIiwibWVudWl0ZW0iKSxiLmtleXVwKGZ1bmN0aW9uKGIpezEzPT0KYi5rZXlDb2RlJiZhLmNsaWNrWkIoKX0pKTthLnpiU2V0PWJ9fSxyb2xsT3ZlclpCOmZ1bmN0aW9uKCl7dGhpcy5yb2xsZWRPdmVyWkI9ITA7dGhpcy56YkJHLnNldEF0dHIoIm9wYWNpdHkiLHRoaXMuem9vbU91dEJ1dHRvblJvbGxPdmVyQWxwaGEpfSxyb2xsT3V0WkI6ZnVuY3Rpb24oKXt0aGlzLnJvbGxlZE92ZXJaQj0hMTt0aGlzLnpiQkcuc2V0QXR0cigib3BhY2l0eSIsdGhpcy56b29tT3V0QnV0dG9uQWxwaGEpfSxjbGlja1pCOmZ1bmN0aW9uKCl7dGhpcy5yb2xsZWRPdmVyWkI9ITE7dGhpcy56b29tT3V0KCl9LHpvb21PdXQ6ZnVuY3Rpb24oKXt0aGlzLnpvb21PdXRWYWx1ZUF4ZXMoKX0sZHJhd1Bsb3RBcmVhOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5keCxiPXRoaXMuZHksYz10aGlzLm1hcmdpbkxlZnRSZWFsLGQ9dGhpcy5tYXJnaW5Ub3BSZWFsLGc9dGhpcy5wbG90QXJlYVdpZHRoLTEsaD10aGlzLnBsb3RBcmVhSGVpZ2h0LTEsZj10aGlzLnBsb3RBcmVhRmlsbENvbG9ycywKbD10aGlzLnBsb3RBcmVhRmlsbEFscGhhcyxrPXRoaXMucGxvdEFyZWFCb3JkZXJDb2xvcixtPXRoaXMucGxvdEFyZWFCb3JkZXJBbHBoYTsib2JqZWN0Ij09dHlwZW9mIGwmJihsPWxbMF0pO2Y9ZS5wb2x5Z29uKHRoaXMuY29udGFpbmVyLFswLGcsZywwLDBdLFswLDAsaCxoLDBdLGYsbCwxLGssbSx0aGlzLnBsb3RBcmVhR3JhZGllbnRBbmdsZSk7ZS5zZXRDTih0aGlzLGYsInBsb3QtYXJlYSIpO2YudHJhbnNsYXRlKGMrYSxkK2IpO3RoaXMuc2V0LnB1c2goZik7MCE9PWEmJjAhPT1iJiYoZj10aGlzLnBsb3RBcmVhRmlsbENvbG9ycywib2JqZWN0Ij09dHlwZW9mIGYmJihmPWZbMF0pLGY9ZS5hZGp1c3RMdW1pbm9zaXR5KGYsLS4xNSksZz1lLnBvbHlnb24odGhpcy5jb250YWluZXIsWzAsYSxnK2EsZywwXSxbMCxiLGIsMCwwXSxmLGwsMSxrLG0pLGUuc2V0Q04odGhpcyxnLCJwbG90LWFyZWEtYm90dG9tIiksZy50cmFuc2xhdGUoYyxkK2gpLHRoaXMuc2V0LnB1c2goZyksYT1lLnBvbHlnb24odGhpcy5jb250YWluZXIsClswLDAsYSxhLDBdLFswLGgsaCtiLGIsMF0sZixsLDEsayxtKSxlLnNldENOKHRoaXMsYSwicGxvdC1hcmVhLWxlZnQiKSxhLnRyYW5zbGF0ZShjLGQpLHRoaXMuc2V0LnB1c2goYSkpOyhjPXRoaXMuYmJzZXQpJiZ0aGlzLnNjcm9sbGJhck9ubHkmJmMucmVtb3ZlKCl9LHVwZGF0ZVBsb3RBcmVhOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy51cGRhdGVXaWR0aCgpLGI9dGhpcy51cGRhdGVIZWlnaHQoKSxjPXRoaXMuY29udGFpbmVyO3RoaXMucmVhbFdpZHRoPWE7dGhpcy5yZWFsV2lkdGg9YjtjJiZ0aGlzLmNvbnRhaW5lci5zZXRTaXplKGEsYik7dmFyIGM9dGhpcy5tYXJnaW5MZWZ0UmVhbCxkPXRoaXMubWFyZ2luVG9wUmVhbCxhPWEtYy10aGlzLm1hcmdpblJpZ2h0UmVhbC10aGlzLmR4LGI9Yi1kLXRoaXMubWFyZ2luQm90dG9tUmVhbDsxPmEmJihhPTEpOzE+YiYmKGI9MSk7dGhpcy5wbG90QXJlYVdpZHRoPU1hdGgucm91bmQoYSk7dGhpcy5wbG90QXJlYUhlaWdodD1NYXRoLnJvdW5kKGIpOwp0aGlzLnBsb3RCYWxsb29uc1NldC50cmFuc2xhdGUoYyxkKX0sdXBkYXRlRHh5OmZ1bmN0aW9uKCl7dGhpcy5keD1NYXRoLnJvdW5kKHRoaXMuZGVwdGgzRCpNYXRoLmNvcyh0aGlzLmFuZ2xlKk1hdGguUEkvMTgwKSk7dGhpcy5keT1NYXRoLnJvdW5kKC10aGlzLmRlcHRoM0QqTWF0aC5zaW4odGhpcy5hbmdsZSpNYXRoLlBJLzE4MCkpO3RoaXMuZDN4PU1hdGgucm91bmQodGhpcy5jb2x1bW5TcGFjaW5nM0QqTWF0aC5jb3ModGhpcy5hbmdsZSpNYXRoLlBJLzE4MCkpO3RoaXMuZDN5PU1hdGgucm91bmQoLXRoaXMuY29sdW1uU3BhY2luZzNEKk1hdGguc2luKHRoaXMuYW5nbGUqTWF0aC5QSS8xODApKX0sdXBkYXRlTWFyZ2luczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0VGl0bGVIZWlnaHQoKTt0aGlzLnRpdGxlSGVpZ2h0PWE7dGhpcy5tYXJnaW5Ub3BSZWFsPXRoaXMubWFyZ2luVG9wLXRoaXMuZHk7dGhpcy5maXhNYXJnaW5zJiYhdGhpcy5maXhNYXJnaW5zLnRvcCYmKHRoaXMubWFyZ2luVG9wUmVhbCs9CmEpO3RoaXMubWFyZ2luQm90dG9tUmVhbD10aGlzLm1hcmdpbkJvdHRvbTt0aGlzLm1hcmdpbkxlZnRSZWFsPXRoaXMubWFyZ2luTGVmdDt0aGlzLm1hcmdpblJpZ2h0UmVhbD10aGlzLm1hcmdpblJpZ2h0fSx1cGRhdGVWYWx1ZUF4ZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZhbHVlQXhlcyxiO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07dGhpcy5zZXRBeGlzUmVuZGVyZXJzKGMpO3RoaXMudXBkYXRlT2JqZWN0U2l6ZShjKX19LHNldEF4aXNSZW5kZXJlcnM6ZnVuY3Rpb24oYSl7YS5heGlzUmVuZGVyZXI9ZS5SZWNBeGlzO2EuZ3VpZGVGaWxsUmVuZGVyZXI9ZS5SZWNGaWxsO2EuYXhpc0l0ZW1SZW5kZXJlcj1lLlJlY0l0ZW07YS5tYXJnaW5zQ2hhbmdlZD0hMH0sdXBkYXRlR3JhcGhzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaHMsYjtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO2MuaW5kZXg9YjtjLnJvdGF0ZT10aGlzLnJvdGF0ZTt0aGlzLnVwZGF0ZU9iamVjdFNpemUoYyl9fSwKdXBkYXRlT2JqZWN0U2l6ZTpmdW5jdGlvbihhKXthLndpZHRoPXRoaXMucGxvdEFyZWFXaWR0aC0xO2EuaGVpZ2h0PXRoaXMucGxvdEFyZWFIZWlnaHQtMTthLng9dGhpcy5tYXJnaW5MZWZ0UmVhbDthLnk9dGhpcy5tYXJnaW5Ub3BSZWFsO2EuZHg9dGhpcy5keDthLmR5PXRoaXMuZHl9LHVwZGF0ZUNoYXJ0Q3Vyc29yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydEN1cnNvcjthJiYoYT1lLnByb2Nlc3NPYmplY3QoYSxlLkNoYXJ0Q3Vyc29yLHRoaXMudGhlbWUpLHRoaXMudXBkYXRlT2JqZWN0U2l6ZShhKSx0aGlzLmFkZENoYXJ0Q3Vyc29yKGEpLGEuY2hhcnQ9dGhpcyl9LHByb2Nlc3NTY3JvbGxiYXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydFNjcm9sbGJhcjthJiYoYT1lLnByb2Nlc3NPYmplY3QoYSxlLkNoYXJ0U2Nyb2xsYmFyLHRoaXMudGhlbWUpLHRoaXMuYWRkQ2hhcnRTY3JvbGxiYXIoYSkpfSx1cGRhdGVTY3JvbGxiYXJzOmZ1bmN0aW9uKCl7fSxyZW1vdmVDaGFydEN1cnNvcjpmdW5jdGlvbigpe2UuY2FsbE1ldGhvZCgiZGVzdHJveSIsClt0aGlzLmNoYXJ0Q3Vyc29yXSk7dGhpcy5jaGFydEN1cnNvcj1udWxsfSx6b29tVHJlbmRMaW5lczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJlbmRMaW5lcyxiO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07Yy52YWx1ZUF4aXMucmVjYWxjdWxhdGVUb1BlcmNlbnRzP2Muc2V0JiZjLnNldC5oaWRlKCk6KGMueD10aGlzLm1hcmdpbkxlZnRSZWFsLGMueT10aGlzLm1hcmdpblRvcFJlYWwsYy5kcmF3KCkpfX0saGFuZGxlQ3Vyc29yVmFsdWVab29tOmZ1bmN0aW9uKCl7fSxhZGRUcmVuZExpbmU6ZnVuY3Rpb24oYSl7dGhpcy50cmVuZExpbmVzLnB1c2goYSl9LHpvb21PdXRWYWx1ZUF4ZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy52YWx1ZUF4ZXMsYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uem9vbU91dCgpfSxyZW1vdmVUcmVuZExpbmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50cmVuZExpbmVzLGM7Zm9yKGM9Yi5sZW5ndGgtMTswPD1jO2MtLSliW2NdPT1hJiYKYi5zcGxpY2UoYywxKX0sYWRqdXN0TWFyZ2luczpmdW5jdGlvbihhLGIpe3ZhciBjPWEucG9zaXRpb24sZD1hLnNjcm9sbGJhckhlaWdodCthLm9mZnNldDthLmVuYWJsZWQmJigidG9wIj09Yz9iP3RoaXMubWFyZ2luTGVmdFJlYWwrPWQ6dGhpcy5tYXJnaW5Ub3BSZWFsKz1kOmI/dGhpcy5tYXJnaW5SaWdodFJlYWwrPWQ6dGhpcy5tYXJnaW5Cb3R0b21SZWFsKz1kKX0sZ2V0U2Nyb2xsYmFyUG9zaXRpb246ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSJib3R0b20iLGc9InRvcCI7YS5vcHBvc2l0ZUF4aXN8fChnPWQsZD0idG9wIik7YS5wb3NpdGlvbj1iPyJib3R0b20iPT1jfHwibGVmdCI9PWM/ZDpnOiJ0b3AiPT1jfHwicmlnaHQiPT1jP2Q6Z30sdXBkYXRlQ2hhcnRTY3JvbGxiYXI6ZnVuY3Rpb24oYSxiKXtpZihhKXthLnJvdGF0ZT1iO3ZhciBjPXRoaXMubWFyZ2luVG9wUmVhbCxkPXRoaXMubWFyZ2luTGVmdFJlYWwsZz1hLnNjcm9sbGJhckhlaWdodCxoPXRoaXMuZHgsZj10aGlzLmR5LAplPWEub2Zmc2V0OyJ0b3AiPT1hLnBvc2l0aW9uP2I/KGEueT1jLGEueD1kLWctZSk6KGEueT1jLWcrZi1lLGEueD1kK2gpOmI/KGEueT1jK2YsYS54PWQrdGhpcy5wbG90QXJlYVdpZHRoK2grZSk6KGEueT1jK3RoaXMucGxvdEFyZWFIZWlnaHQrZSxhLng9dGhpcy5tYXJnaW5MZWZ0UmVhbCl9fSxzaG93WkI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy56YlNldDthJiYoYj10aGlzLnpvb21PdXRUZXh0LCIiIT09YiYmYiYmdGhpcy5kcmF3Wm9vbU91dEJ1dHRvbigpKTtpZihiPXRoaXMuemJTZXQpdGhpcy56b29tQnV0dG9uU2V0LnB1c2goYiksYT9iLnNob3coKTpiLmhpZGUoKSx0aGlzLnJvbGxPdXRaQigpfSxoYW5kbGVSZWxlYXNlT3V0c2lkZTpmdW5jdGlvbihhKXtlLkFtUmVjdGFuZ3VsYXJDaGFydC5iYXNlLmhhbmRsZVJlbGVhc2VPdXRzaWRlLmNhbGwodGhpcyxhKTsoYT10aGlzLmNoYXJ0Q3Vyc29yKSYmYS5oYW5kbGVSZWxlYXNlT3V0c2lkZSYmYS5oYW5kbGVSZWxlYXNlT3V0c2lkZSgpfSwKaGFuZGxlTW91c2VEb3duOmZ1bmN0aW9uKGEpe2UuQW1SZWN0YW5ndWxhckNoYXJ0LmJhc2UuaGFuZGxlTW91c2VEb3duLmNhbGwodGhpcyxhKTt2YXIgYj10aGlzLmNoYXJ0Q3Vyc29yO2ImJmIuaGFuZGxlTW91c2VEb3duJiYhdGhpcy5yb2xsZWRPdmVyWkImJmIuaGFuZGxlTW91c2VEb3duKGEpfSx1cGRhdGU6ZnVuY3Rpb24oKXtlLkFtUmVjdGFuZ3VsYXJDaGFydC5iYXNlLnVwZGF0ZS5jYWxsKHRoaXMpO3RoaXMuY2hhcnRDdXJzb3ImJnRoaXMuY2hhcnRDdXJzb3IudXBkYXRlJiZ0aGlzLmNoYXJ0Q3Vyc29yLnVwZGF0ZSgpfSxoYW5kbGVTY3JvbGxiYXJWYWx1ZVpvb206ZnVuY3Rpb24oYSl7dGhpcy5yZWxhdGl2ZVpvb21WYWx1ZUF4ZXMoYS50YXJnZXQudmFsdWVBeGVzLGEucmVsYXRpdmVTdGFydCxhLnJlbGF0aXZlRW5kKTt0aGlzLnpvb21BeGVzQW5kR3JhcGhzKCl9LHpvb21WYWx1ZVNjcm9sbGJhcjpmdW5jdGlvbihhKXtpZihhJiZhLmVuYWJsZWQpe3ZhciBiPWEudmFsdWVBeGVzWzBdLApjPWIucmVsYXRpdmVTdGFydCxkPWIucmVsYXRpdmVFbmQ7Yi5yZXZlcnNlZCYmKGQ9MS1jLGM9MS1iLnJlbGF0aXZlRW5kKTthLnBlcmNlbnRab29tKGMsZCl9fSx6b29tQXhlc0FuZEdyYXBoczpmdW5jdGlvbigpe2lmKCF0aGlzLnNjcm9sbGJhck9ubHkpe3ZhciBhPXRoaXMudmFsdWVBeGVzLGI7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnpvb20odGhpcy5zdGFydCx0aGlzLmVuZCk7YT10aGlzLmdyYXBocztmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uem9vbSh0aGlzLnN0YXJ0LHRoaXMuZW5kKTsoYj10aGlzLmNoYXJ0Q3Vyc29yKSYmYi5jbGVhclNlbGVjdGlvbigpO3RoaXMuem9vbVRyZW5kTGluZXMoKX19LGhhbmRsZVZhbHVlQXhpc1pvb21SZWFsOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5yZWxhdGl2ZVN0YXJ0LGQ9YS5yZWxhdGl2ZUVuZDtpZihjPmQpdmFyIGc9YyxjPWQsZD1nO3RoaXMucmVsYXRpdmVab29tVmFsdWVBeGVzKGIsYyxkKTt0aGlzLnVwZGF0ZUFmdGVyVmFsdWVab29tKCl9LAp1cGRhdGVBZnRlclZhbHVlWm9vbTpmdW5jdGlvbigpe3RoaXMuem9vbUF4ZXNBbmRHcmFwaHMoKTt0aGlzLnpvb21TY3JvbGxiYXIoKX0scmVsYXRpdmVab29tVmFsdWVBeGVzOmZ1bmN0aW9uKGEsYixjKXt0aGlzLmhpZGVCYWxsb29uUmVhbCgpO2I9ZS5maXRUb0JvdW5kcyhiLDAsMSk7Yz1lLmZpdFRvQm91bmRzKGMsMCwxKTtpZihiPmMpe3ZhciBkPWI7Yj1jO2M9ZH12YXIgZD0xL3RoaXMubWF4Wm9vbUZhY3RvcixnPWUuZ2V0RGVjaW1hbHMoZCkrNDtjLWI8ZCYmKGM9YisoYy1iKS8yLGI9Yy1kLzIsYys9ZC8yLDE8YyYmKGItPWMtMSxjPTEpLDA+YiYmKGI9MCxjPWQpKTtiPWUucm91bmRUbyhiLGcpO2M9ZS5yb3VuZFRvKGMsZyk7ZD0hMTtpZihhKXtmb3IoZz0wO2c8YS5sZW5ndGg7ZysrKXt2YXIgaD1hW2ddLnpvb21Ub1JlbGF0aXZlVmFsdWVzKGIsYywhMCk7aCYmKGQ9aCl9dGhpcy5zaG93WkIoKX1yZXR1cm4gZH0sYWRkQ2hhcnRDdXJzb3I6ZnVuY3Rpb24oYSl7ZS5jYWxsTWV0aG9kKCJkZXN0cm95IiwKW3RoaXMuY2hhcnRDdXJzb3JdKTthJiYodGhpcy5saXN0ZW5UbyhhLCJtb3ZlZCIsdGhpcy5oYW5kbGVDdXJzb3JNb3ZlKSx0aGlzLmxpc3RlblRvKGEsInpvb21lZCIsdGhpcy5oYW5kbGVDdXJzb3Jab29tKSx0aGlzLmxpc3RlblRvKGEsInpvb21TdGFydGVkIix0aGlzLmhhbmRsZUN1cnNvclpvb21TdGFydGVkKSx0aGlzLmxpc3RlblRvKGEsInBhbm5pbmciLHRoaXMuaGFuZGxlQ3Vyc29yUGFubmluZyksdGhpcy5saXN0ZW5UbyhhLCJvbkhpZGVDdXJzb3IiLHRoaXMuaGFuZGxlQ3Vyc29ySGlkZSkpO3RoaXMuY2hhcnRDdXJzb3I9YX0saGFuZGxlQ3Vyc29yQ2hhbmdlOmZ1bmN0aW9uKCl7fSxoYW5kbGVDdXJzb3JNb3ZlOmZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy52YWx1ZUF4ZXM7Zm9yKGI9MDtiPGMubGVuZ3RoO2IrKylpZighYS5wYW5uaW5nKXt2YXIgZD1jW2JdO2QmJmQuc2hvd0JhbGxvb24mJmQuc2hvd0JhbGxvb24oYS54LGEueSl9fSxoYW5kbGVDdXJzb3Jab29tOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc2tpcFpvb21lZCl0aGlzLnNraXBab29tZWQ9CiExO2Vsc2V7dmFyIGI9dGhpcy5zdGFydFgwLGM9dGhpcy5lbmRYMCxkPXRoaXMuZW5kWTAsZz10aGlzLnN0YXJ0WTAsZT1hLnN0YXJ0WCxmPWEuZW5kWCxsPWEuc3RhcnRZLGs9YS5lbmRZO3RoaXMuc3RhcnRYMD10aGlzLmVuZFgwPXRoaXMuc3RhcnRZMD10aGlzLmVuZFkwPU5hTjt0aGlzLmhhbmRsZUN1cnNvclpvb21SZWFsKGIrZSooYy1iKSxiK2YqKGMtYiksZytsKihkLWcpLGcrayooZC1nKSxhKX19LGhhbmRsZUN1cnNvckhpZGU6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMudmFsdWVBeGVzO2ZvcihhPTA7YTxiLmxlbmd0aDthKyspYlthXS5oaWRlQmFsbG9vbigpO2I9dGhpcy5ncmFwaHM7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKyliW2FdLmhpZGVCYWxsb29uUmVhbCgpfX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgZT13aW5kb3cuQW1DaGFydHM7ZS5BbVNlcmlhbENoYXJ0PWUuQ2xhc3Moe2luaGVyaXRzOmUuQW1SZWN0YW5ndWxhckNoYXJ0LGNvbnN0cnVjdDpmdW5jdGlvbihhKXt0aGlzLnR5cGU9InNlcmlhbCI7ZS5BbVNlcmlhbENoYXJ0LmJhc2UuY29uc3RydWN0LmNhbGwodGhpcyxhKTt0aGlzLmNuYW1lPSJBbVNlcmlhbENoYXJ0Ijt0aGlzLnRoZW1lPWE7dGhpcy5jb2x1bW5TcGFjaW5nPTU7dGhpcy5jb2x1bW5TcGFjaW5nM0Q9MDt0aGlzLmNvbHVtbldpZHRoPS44O3ZhciBiPW5ldyBlLkNhdGVnb3J5QXhpcyhhKTtiLmNoYXJ0PXRoaXM7dGhpcy5jYXRlZ29yeUF4aXM9Yjt0aGlzLnpvb21PdXRPbkRhdGFVcGRhdGU9ITA7dGhpcy5tb3VzZVdoZWVsWm9vbUVuYWJsZWQ9dGhpcy5tb3VzZVdoZWVsU2Nyb2xsRW5hYmxlZD10aGlzLnJvdGF0ZT10aGlzLnNraXBab29tPSExO3RoaXMubWluU2VsZWN0ZWRUaW1lPTA7ZS5hcHBseVRoZW1lKHRoaXMsYSx0aGlzLmNuYW1lKX0sCmluaXRDaGFydDpmdW5jdGlvbigpe2UuQW1TZXJpYWxDaGFydC5iYXNlLmluaXRDaGFydC5jYWxsKHRoaXMpO3RoaXMudXBkYXRlQ2F0ZWdvcnlBeGlzKHRoaXMuY2F0ZWdvcnlBeGlzLHRoaXMucm90YXRlLCJjYXRlZ29yeUF4aXMiKTtpZih0aGlzLmRhdGFDaGFuZ2VkKXRoaXMucGFyc2VEYXRhKCk7ZWxzZSB0aGlzLm9uRGF0YVVwZGF0ZWQoKTt0aGlzLmRyYXdHcmFwaHM9ITB9LG9uRGF0YVVwZGF0ZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvdW50Q29sdW1ucygpLGI9dGhpcy5jaGFydERhdGEsYz10aGlzLmdyYXBocyxkO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBnPWNbZF07Zy5kYXRhPWI7Zy5jb2x1bW5Db3VudD1hfTA8Yi5sZW5ndGgmJih0aGlzLmZpcnN0VGltZT10aGlzLmdldFN0YXJ0VGltZShiWzBdLnRpbWUpLHRoaXMubGFzdFRpbWU9dGhpcy5nZXRFbmRUaW1lKGJbYi5sZW5ndGgtMV0udGltZSkpO3RoaXMuZHJhd0NoYXJ0KCk7dGhpcy5hdXRvTWFyZ2lucyYmCiF0aGlzLm1hcmdpbnNVcGRhdGVkPyh0aGlzLm1hcmdpbnNVcGRhdGVkPSEwLHRoaXMubWVhc3VyZU1hcmdpbnMoKSk6dGhpcy5kaXNwRFVwZCgpfSxzeW5jR3JpZDpmdW5jdGlvbigpe2lmKHRoaXMuc3luY2hyb25pemVHcmlkKXt2YXIgYT10aGlzLnZhbHVlQXhlcyxiLGM7aWYoMDxhLmxlbmd0aCl7dmFyIGQ9MDtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWI9YVtjXSxkPGIuZ3JpZENvdW50UmVhbCYmKGQ9Yi5ncmlkQ291bnRSZWFsKTt2YXIgZz0hMTtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWlmKGI9YVtjXSxiLmdyaWRDb3VudFJlYWw8ZCl7dmFyIGg9KGQtYi5ncmlkQ291bnRSZWFsKS8yLGY9Zz1oOzAhPT1oLU1hdGgucm91bmQoaCkmJihnLT0uNSxmKz0uNSk7MDw9Yi5taW4mJjA+Yi5taW4tZypiLnN0ZXAmJihmKz1nLGc9MCk7MD49Yi5tYXgmJjA8Yi5tYXgrZipiLnN0ZXAmJihnKz1mLGY9MCk7aD1lLmdldERlY2ltYWxzKGIuc3RlcCk7Yi5taW5pbXVtPWUucm91bmRUbyhiLm1pbi0KZypiLnN0ZXAsaCk7Yi5tYXhpbXVtPWUucm91bmRUbyhiLm1heCtmKmIuc3RlcCxoKTtiLnNldFN0ZXA9Yi5zdGVwO2c9Yi5zdHJpY3RNaW5NYXg9ITB9ZyYmdGhpcy51cGRhdGVBZnRlclZhbHVlWm9vbSgpO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspYj1hW2NdLGIubWluaW11bT1OYU4sYi5tYXhpbXVtPU5hTixiLnNldFN0ZXA9TmFOLGIuc3RyaWN0TWluTWF4PSExfX19LGhhbmRsZVdoZWVsUmVhbDpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLndoZWVsQnVzeSl7dmFyIGM9dGhpcy5jYXRlZ29yeUF4aXMsZD1jLnBhcnNlRGF0ZXMsZz1jLm1pbkR1cmF0aW9uKCksZT0xLGY9MTt0aGlzLm1vdXNlV2hlZWxab29tRW5hYmxlZD9ifHwoZT0tMSk6YiYmKGU9LTEpO3ZhciBsPXRoaXMuY2hhcnRDdXJzb3I7aWYobClpZihsLm1vdXNlSXNPdmVyKCkpe3ZhciBrPWwubW91c2VYLGw9bC5tb3VzZVk7ZSE9ZiYmKGs9dGhpcy5yb3RhdGU/bC90aGlzLnBsb3RBcmVhSGVpZ2h0OmsvdGhpcy5wbG90QXJlYVdpZHRoLAplKj1rLGYqPTEtayk7az0uMDUqKHRoaXMuZW5kLXRoaXMuc3RhcnQpO2QmJihrPS4wNSoodGhpcy5lbmRUaW1lLXRoaXMuc3RhcnRUaW1lKS9nKTsxPmsmJihrPTEpO2UqPWs7Zio9aztpZighZHx8Yy5lcXVhbFNwYWNpbmcpZT1NYXRoLnJvdW5kKGUpLGY9TWF0aC5yb3VuZChmKTtsPXRoaXMuY2hhcnREYXRhLmxlbmd0aDtjPXRoaXMubGFzdFRpbWU7az10aGlzLmZpcnN0VGltZTswPmE/ZD8obD10aGlzLmVuZFRpbWUtdGhpcy5zdGFydFRpbWUsZD10aGlzLnN0YXJ0VGltZStlKmcsZz10aGlzLmVuZFRpbWUrZipnLDA8ZiYmMDxlJiZnPj1jJiYoZz1jLGQ9Yy1sKSx0aGlzLnpvb21Ub0RhdGVzKG5ldyBEYXRlKGQpLG5ldyBEYXRlKGcpKSk6KDA8ZiYmMDxlJiZ0aGlzLmVuZD49bC0xJiYoZT1mPTApLGQ9dGhpcy5zdGFydCtlLGc9dGhpcy5lbmQrZix0aGlzLnpvb21Ub0luZGV4ZXMoZCxnKSk6ZD8obD10aGlzLmVuZFRpbWUtdGhpcy5zdGFydFRpbWUsZD10aGlzLnN0YXJ0VGltZS0KZSpnLGc9dGhpcy5lbmRUaW1lLWYqZywwPGYmJjA8ZSYmZDw9ayYmKGQ9ayxnPWsrbCksdGhpcy56b29tVG9EYXRlcyhuZXcgRGF0ZShkKSxuZXcgRGF0ZShnKSkpOigwPGYmJjA8ZSYmMT50aGlzLnN0YXJ0JiYoZT1mPTApLGQ9dGhpcy5zdGFydC1lLGc9dGhpcy5lbmQtZix0aGlzLnpvb21Ub0luZGV4ZXMoZCxnKSl9ZWxzZSB0aGlzLmhhbmRsZU1vdXNlT3V0KCl9fSx2YWxpZGF0ZURhdGE6ZnVuY3Rpb24oYSl7dGhpcy5tYXJnaW5zVXBkYXRlZD0hMTt0aGlzLnpvb21PdXRPbkRhdGFVcGRhdGUmJiFhJiYodGhpcy5lbmRUaW1lPXRoaXMuZW5kPXRoaXMuc3RhcnRUaW1lPXRoaXMuc3RhcnQ9TmFOKTt2YXIgYj1hPSExLGM9ITEsZD10aGlzLmNoYXJ0U2Nyb2xsYmFyO2QmJihkLmRyYWdnaW5nJiYoYT0hMCxkLmhhbmRsZURyYWdTdG9wKCkpLGQucmVzaXppbmdSaWdodCYmKGM9ITAsZC5yaWdodERyYWdTdG9wKCkpLGQucmVzaXppbmdMZWZ0JiYoYj0hMCxkLmxlZnREcmFnU3RvcCgpKSk7CmUuQW1TZXJpYWxDaGFydC5iYXNlLnZhbGlkYXRlRGF0YS5jYWxsKHRoaXMpO2EmJmQuaGFuZGxlRHJhZ1N0YXJ0KCk7YyYmZC5yaWdodERyYWdTdGFydCgpO2ImJmQubGVmdERyYWdTdGFydCgpfSxkcmF3Q2hhcnQ6ZnVuY3Rpb24oKXtpZigwPHRoaXMucmVhbFdpZHRoJiYwPHRoaXMucmVhbEhlaWdodCl7ZS5BbVNlcmlhbENoYXJ0LmJhc2UuZHJhd0NoYXJ0LmNhbGwodGhpcyk7dmFyIGE9dGhpcy5jaGFydERhdGE7aWYoZS5pZkFycmF5KGEpKXt2YXIgYj10aGlzLmNoYXJ0U2Nyb2xsYmFyOyFifHwhdGhpcy5tYXJnaW5zVXBkYXRlZCYmdGhpcy5hdXRvTWFyZ2luc3x8Yi5kcmF3KCk7KGI9dGhpcy52YWx1ZVNjcm9sbGJhcikmJmIuZHJhdygpO3ZhciBiPWEubGVuZ3RoLTEsYyxkO2M9dGhpcy5jYXRlZ29yeUF4aXM7aWYoYy5wYXJzZURhdGVzJiYhYy5lcXVhbFNwYWNpbmcpe2lmKGM9dGhpcy5zdGFydFRpbWUsZD10aGlzLmVuZFRpbWUsaXNOYU4oYyl8fGlzTmFOKGQpKWM9dGhpcy5maXJzdFRpbWUsCmQ9dGhpcy5sYXN0VGltZX1lbHNle2M9dGhpcy5zdGFydDtkPXRoaXMuZW5kO2lmKGlzTmFOKGMpfHxpc05hTihkKSlkPWM9TmFOO2lzTmFOKGMpJiYoaXNOYU4odGhpcy5zdGFydFRpbWUpfHwoYz10aGlzLmdldENsb3Nlc3RJbmRleChhLCJ0aW1lIix0aGlzLnN0YXJ0VGltZSwhMCwwLGEubGVuZ3RoKSkpO2lzTmFOKGQpJiYoaXNOYU4odGhpcy5lbmRUaW1lKXx8KGQ9dGhpcy5nZXRDbG9zZXN0SW5kZXgoYSwidGltZSIsdGhpcy5lbmRUaW1lLCExLDAsYS5sZW5ndGgpKSk7aWYoaXNOYU4oYyl8fGlzTmFOKGQpKWM9MCxkPWJ9dGhpcy5lbmRUaW1lPXRoaXMuc3RhcnRUaW1lPXRoaXMuZW5kPXRoaXMuc3RhcnQ9dm9pZCAwO3RoaXMuem9vbShjLGQpfX1lbHNlIHRoaXMuY2xlYW5DaGFydCgpfSxjbGVhbkNoYXJ0OmZ1bmN0aW9uKCl7ZS5jYWxsTWV0aG9kKCJkZXN0cm95IixbdGhpcy52YWx1ZUF4ZXMsdGhpcy5ncmFwaHMsdGhpcy5jYXRlZ29yeUF4aXMsdGhpcy5jaGFydFNjcm9sbGJhciwKdGhpcy5jaGFydEN1cnNvcix0aGlzLnZhbHVlU2Nyb2xsYmFyXSl9LHVwZGF0ZUNhdGVnb3J5QXhpczpmdW5jdGlvbihhLGIsYyl7YS5jaGFydD10aGlzO2EuaWQ9YzthLnJvdGF0ZT1iO2Euc2V0T3JpZW50YXRpb24oIXRoaXMucm90YXRlKTthLmluaXQoKTt0aGlzLnNldEF4aXNSZW5kZXJlcnMoYSk7dGhpcy51cGRhdGVPYmplY3RTaXplKGEpfSx1cGRhdGVWYWx1ZUF4ZXM6ZnVuY3Rpb24oKXtlLkFtU2VyaWFsQ2hhcnQuYmFzZS51cGRhdGVWYWx1ZUF4ZXMuY2FsbCh0aGlzKTt2YXIgYT10aGlzLnZhbHVlQXhlcyxiO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl0sZD10aGlzLnJvdGF0ZTtjLnJvdGF0ZT1kO2Muc2V0T3JpZW50YXRpb24oZCk7ZD10aGlzLmNhdGVnb3J5QXhpcztpZighZC5zdGFydE9uQXhpc3x8ZC5wYXJzZURhdGVzKWMuZXhwYW5kTWluTWF4PSEwfX0sZ2V0U3RhcnRUaW1lOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2F0ZWdvcnlBeGlzO3JldHVybiBlLnJlc2V0RGF0ZVRvTWluKG5ldyBEYXRlKGEpLApiLm1pblBlcmlvZCwxLGIuZmlyc3REYXlPZldlZWspLmdldFRpbWUoKX0sZ2V0RW5kVGltZTpmdW5jdGlvbihhKXt2YXIgYj1lLmV4dHJhY3RQZXJpb2QodGhpcy5jYXRlZ29yeUF4aXMubWluUGVyaW9kKTtyZXR1cm4gZS5jaGFuZ2VEYXRlKG5ldyBEYXRlKGEpLGIucGVyaW9kLGIuY291bnQsITApLmdldFRpbWUoKS0xfSx1cGRhdGVNYXJnaW5zOmZ1bmN0aW9uKCl7ZS5BbVNlcmlhbENoYXJ0LmJhc2UudXBkYXRlTWFyZ2lucy5jYWxsKHRoaXMpO3ZhciBhPXRoaXMuY2hhcnRTY3JvbGxiYXI7YSYmKHRoaXMuZ2V0U2Nyb2xsYmFyUG9zaXRpb24oYSx0aGlzLnJvdGF0ZSx0aGlzLmNhdGVnb3J5QXhpcy5wb3NpdGlvbiksdGhpcy5hZGp1c3RNYXJnaW5zKGEsdGhpcy5yb3RhdGUpKTtpZihhPXRoaXMudmFsdWVTY3JvbGxiYXIpdGhpcy5nZXRTY3JvbGxiYXJQb3NpdGlvbihhLCF0aGlzLnJvdGF0ZSx0aGlzLnZhbHVlQXhlc1swXS5wb3NpdGlvbiksdGhpcy5hZGp1c3RNYXJnaW5zKGEsCiF0aGlzLnJvdGF0ZSl9LHVwZGF0ZVNjcm9sbGJhcnM6ZnVuY3Rpb24oKXtlLkFtU2VyaWFsQ2hhcnQuYmFzZS51cGRhdGVTY3JvbGxiYXJzLmNhbGwodGhpcyk7dGhpcy51cGRhdGVDaGFydFNjcm9sbGJhcih0aGlzLmNoYXJ0U2Nyb2xsYmFyLHRoaXMucm90YXRlKTt0aGlzLnVwZGF0ZUNoYXJ0U2Nyb2xsYmFyKHRoaXMudmFsdWVTY3JvbGxiYXIsIXRoaXMucm90YXRlKX0sem9vbTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2F0ZWdvcnlBeGlzO2MucGFyc2VEYXRlcyYmIWMuZXF1YWxTcGFjaW5nPyh0aGlzLnRpbWVab29tKGEsYiksaXNOYU4oYSkmJnRoaXMuem9vbU91dFZhbHVlQXhlcygpKTp0aGlzLmluZGV4Wm9vbShhLGIpOyhjPXRoaXMuY2hhcnRDdXJzb3IpJiYoYy5wYW58fGMuaGlkZUN1cnNvclJlYWwoKSk7dGhpcy51cGRhdGVMZWdlbmRWYWx1ZXMoKX0sdGltZVpvb206ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm1heFNlbGVjdGVkVGltZTtpc05hTihjKXx8KGIhPQp0aGlzLmVuZFRpbWUmJmItYT5jJiYoYT1iLWMpLGEhPXRoaXMuc3RhcnRUaW1lJiZiLWE+YyYmKGI9YStjKSk7dmFyIGQ9dGhpcy5taW5TZWxlY3RlZFRpbWU7aWYoMDxkJiZiLWE8ZCl7dmFyIGc9TWF0aC5yb3VuZChhKyhiLWEpLzIpLGQ9TWF0aC5yb3VuZChkLzIpO2E9Zy1kO2I9ZytkfWQ9dGhpcy5jaGFydERhdGE7Zz10aGlzLmNhdGVnb3J5QXhpcztpZihlLmlmQXJyYXkoZCkmJihhIT10aGlzLnN0YXJ0VGltZXx8YiE9dGhpcy5lbmRUaW1lKSl7dmFyIGg9Zy5taW5EdXJhdGlvbigpLGY9dGhpcy5maXJzdFRpbWUsbD10aGlzLmxhc3RUaW1lO2F8fChhPWYsaXNOYU4oYyl8fChhPWwtYykpO2J8fChiPWwpO2E+bCYmKGE9bCk7YjxmJiYoYj1mKTthPGYmJihhPWYpO2I+bCYmKGI9bCk7YjxhJiYoYj1hK2gpO2ItYTxoLzUmJihiPGw/Yj1hK2gvNTphPWItaC81KTt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO2M9ZC5sZW5ndGgtMTtoPXRoaXMuZ2V0Q2xvc2VzdEluZGV4KGQsCiJ0aW1lIixhLCEwLDAsYyk7ZD10aGlzLmdldENsb3Nlc3RJbmRleChkLCJ0aW1lIixiLCExLGgsYyk7Zy50aW1lWm9vbShhLGIpO2cuem9vbShoLGQpO3RoaXMuc3RhcnQ9ZS5maXRUb0JvdW5kcyhoLDAsYyk7dGhpcy5lbmQ9ZS5maXRUb0JvdW5kcyhkLDAsYyk7dGhpcy56b29tQXhlc0FuZEdyYXBocygpO3RoaXMuem9vbVNjcm9sbGJhcigpO3RoaXMuZml4Q3Vyc29yKCk7dGhpcy5zaG93WkIoKTt0aGlzLnN5bmNHcmlkKCk7dGhpcy51cGRhdGVDb2x1bW5zRGVwdGgoKTt0aGlzLmRpc3BhdGNoVGltZVpvb21FdmVudCgpfX0sc2hvd1pCOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLmNhdGVnb3J5QXhpcztiJiZiLnBhcnNlRGF0ZXMmJiFiLmVxdWFsU3BhY2luZyYmKHRoaXMuc3RhcnRUaW1lPnRoaXMuZmlyc3RUaW1lJiYoYT0hMCksdGhpcy5lbmRUaW1lPHRoaXMubGFzdFRpbWUmJihhPSEwKSk7MDx0aGlzLnN0YXJ0JiYoYT0hMCk7dGhpcy5lbmQ8dGhpcy5jaGFydERhdGEubGVuZ3RoLQoxJiYoYT0hMCk7aWYoYj10aGlzLnZhbHVlQXhlcyliPWJbMF0saXNOYU4oYi5yZWxhdGl2ZVN0YXJ0KXx8KDAhPT1lLnJvdW5kVG8oYi5yZWxhdGl2ZVN0YXJ0LDMpJiYoYT0hMCksMSE9ZS5yb3VuZFRvKGIucmVsYXRpdmVFbmQsMykmJihhPSEwKSk7ZS5BbVNlcmlhbENoYXJ0LmJhc2Uuc2hvd1pCLmNhbGwodGhpcyxhKX0sdXBkYXRlQWZ0ZXJWYWx1ZVpvb206ZnVuY3Rpb24oKXtlLkFtU2VyaWFsQ2hhcnQuYmFzZS51cGRhdGVBZnRlclZhbHVlWm9vbS5jYWxsKHRoaXMpO3RoaXMudXBkYXRlQ29sdW1uc0RlcHRoKCl9LGluZGV4Wm9vbTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubWF4U2VsZWN0ZWRTZXJpZXMsZD0hMTtpc05hTihjKXx8KGIhPXRoaXMuZW5kJiZiLWE+YyYmKGE9Yi1jLGQ9ITApLGEhPXRoaXMuc3RhcnQmJmItYT5jJiYoYj1hK2MsZD0hMCkpO2lmKGQmJihkPXRoaXMuY2hhcnRTY3JvbGxiYXIpJiZkLmRyYWdnZXIpe3ZhciBnPWQuZHJhZ2dlci5nZXRCQm94KCk7CmQubWF4V2lkdGg9Zy53aWR0aDtkLm1heEhlaWdodD1nLmhlaWdodH1pZihhIT10aGlzLnN0YXJ0fHxiIT10aGlzLmVuZClkPXRoaXMuY2hhcnREYXRhLmxlbmd0aC0xLGlzTmFOKGEpJiYoYT0wLGlzTmFOKGMpfHwoYT1kLWMpKSxpc05hTihiKSYmKGI9ZCksYjxhJiYoYj1hKSxiPmQmJihiPWQpLGE+ZCYmKGE9ZC0xKSwwPmEmJihhPTApLHRoaXMuc3RhcnQ9YSx0aGlzLmVuZD1iLHRoaXMuY2F0ZWdvcnlBeGlzLnpvb20oYSxiKSx0aGlzLnpvb21BeGVzQW5kR3JhcGhzKCksdGhpcy56b29tU2Nyb2xsYmFyKCksdGhpcy5maXhDdXJzb3IoKSwwIT09YXx8YiE9dGhpcy5jaGFydERhdGEubGVuZ3RoLTE/dGhpcy5zaG93WkIoITApOnRoaXMuc2hvd1pCKCExKSx0aGlzLnN5bmNHcmlkKCksdGhpcy51cGRhdGVDb2x1bW5zRGVwdGgoKSx0aGlzLmRpc3BhdGNoSW5kZXhab29tRXZlbnQoKX0sdXBkYXRlR3JhcGhzOmZ1bmN0aW9uKCl7ZS5BbVNlcmlhbENoYXJ0LmJhc2UudXBkYXRlR3JhcGhzLmNhbGwodGhpcyk7CnZhciBhPXRoaXMuZ3JhcGhzLGI7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtjLmNvbHVtbldpZHRoUmVhbD10aGlzLmNvbHVtbldpZHRoO2MuY2F0ZWdvcnlBeGlzPXRoaXMuY2F0ZWdvcnlBeGlzO2UuaXNTdHJpbmcoYy5maWxsVG9HcmFwaCkmJihjLmZpbGxUb0dyYXBoPXRoaXMuZ3JhcGhzQnlJZFtjLmZpbGxUb0dyYXBoXSl9fSx6b29tQXhlc0FuZEdyYXBoczpmdW5jdGlvbigpe2UuQW1TZXJpYWxDaGFydC5iYXNlLnpvb21BeGVzQW5kR3JhcGhzLmNhbGwodGhpcyk7dGhpcy51cGRhdGVDb2x1bW5zRGVwdGgoKX0sdXBkYXRlQ29sdW1uc0RlcHRoOmZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMuZGVwdGgzRHx8MCE9PXRoaXMuYW5nbGUpe3ZhciBhLGI9dGhpcy5ncmFwaHMsYzt0aGlzLmNvbHVtbnNBcnJheT1bXTtmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKXtjPWJbYV07dmFyIGQ9Yy5jb2x1bW5zQXJyYXk7aWYoZCl7dmFyIGc7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKyl0aGlzLmNvbHVtbnNBcnJheS5wdXNoKGRbZ10pfX10aGlzLmNvbHVtbnNBcnJheS5zb3J0KHRoaXMuY29tcGFyZURlcHRoKTsKYj10aGlzLmNvbHVtbnNTZXQ7aWYoMDx0aGlzLmNvbHVtbnNBcnJheS5sZW5ndGgpe2Q9dGhpcy5jb250YWluZXIuc2V0KCk7dGhpcy5jb2x1bW5TZXQucHVzaChkKTtmb3IoYT0wO2E8dGhpcy5jb2x1bW5zQXJyYXkubGVuZ3RoO2ErKylkLnB1c2godGhpcy5jb2x1bW5zQXJyYXlbYV0uY29sdW1uLnNldCk7YyYmZC50cmFuc2xhdGUoYy54LGMueSk7dGhpcy5jb2x1bW5zU2V0PWR9ZS5yZW1vdmUoYil9fSxjb21wYXJlRGVwdGg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5kZXB0aD5iLmRlcHRoPzE6LTF9LHpvb21TY3JvbGxiYXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0U2Nyb2xsYmFyLGI9dGhpcy5jYXRlZ29yeUF4aXM7aWYoYSl7aWYoIXRoaXMuem9vbWVkQnlTY3JvbGxiYXIpe3ZhciBjPWEuZHJhZ2dlcjtjJiZjLnN0b3AoKX10aGlzLnpvb21lZEJ5U2Nyb2xsYmFyPSExO2IucGFyc2VEYXRlcyYmIWIuZXF1YWxTcGFjaW5nP2EudGltZVpvb20odGhpcy5zdGFydFRpbWUsCnRoaXMuZW5kVGltZSk6YS56b29tKHRoaXMuc3RhcnQsdGhpcy5lbmQpfXRoaXMuem9vbVZhbHVlU2Nyb2xsYmFyKHRoaXMudmFsdWVTY3JvbGxiYXIpfSx1cGRhdGVUcmVuZExpbmVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmVuZExpbmVzLGI7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXSxjPWUucHJvY2Vzc09iamVjdChjLGUuVHJlbmRMaW5lLHRoaXMudGhlbWUpO2FbYl09YztjLmNoYXJ0PXRoaXM7Yy5pZHx8KGMuaWQ9InRyZW5kTGluZUF1dG8iK2IrIl8iKyhuZXcgRGF0ZSkuZ2V0VGltZSgpKTtlLmlzU3RyaW5nKGMudmFsdWVBeGlzKSYmKGMudmFsdWVBeGlzPXRoaXMuZ2V0VmFsdWVBeGlzQnlJZChjLnZhbHVlQXhpcykpO2MudmFsdWVBeGlzfHwoYy52YWx1ZUF4aXM9dGhpcy52YWx1ZUF4ZXNbMF0pO2MuY2F0ZWdvcnlBeGlzPXRoaXMuY2F0ZWdvcnlBeGlzfX0sdmFsaWRhdGVOb3c6ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnpvb21PdXRPbkRhdGFVcGRhdGUmJgoodGhpcy5lbmRUaW1lPXRoaXMuZW5kPXRoaXMuc3RhcnRUaW1lPXRoaXMuc3RhcnQ9TmFOKTtlLkFtU2VyaWFsQ2hhcnQuYmFzZS52YWxpZGF0ZU5vdy5jYWxsKHRoaXMsYSxiKX0sY291bnRDb2x1bW5zOmZ1bmN0aW9uKCl7dmFyIGE9MCxiPXRoaXMudmFsdWVBeGVzLmxlbmd0aCxjPXRoaXMuZ3JhcGhzLmxlbmd0aCxkLGcsZT0hMSxmLGw7Zm9yKGw9MDtsPGI7bCsrKXtnPXRoaXMudmFsdWVBeGVzW2xdO3ZhciBrPWcuc3RhY2tUeXBlLG09MDtpZigiMTAwJSI9PWt8fCJyZWd1bGFyIj09aylmb3IoZT0hMSxmPTA7ZjxjO2YrKylkPXRoaXMuZ3JhcGhzW2ZdLGQudGNjPTEsZC52YWx1ZUF4aXM9PWcmJiJjb2x1bW4iPT1kLnR5cGUmJighZSYmZC5zdGFja2FibGUmJihhKyssZT0hMCksKCFkLnN0YWNrYWJsZSYmZC5jbHVzdGVyZWR8fGQubmV3U3RhY2smJjAhPT1tKSYmYSsrLGQuY29sdW1uSW5kZXg9YS0xLGQuY2x1c3RlcmVkfHwoZC5jb2x1bW5JbmRleD0wKSxtKyspO2lmKCJub25lIj09Cmt8fCIzZCI9PWspe209ITE7Zm9yKGY9MDtmPGM7ZisrKWQ9dGhpcy5ncmFwaHNbZl0sZC52YWx1ZUF4aXM9PWcmJiJjb2x1bW4iPT1kLnR5cGUmJihkLmNsdXN0ZXJlZD8oZC50Y2M9MSxkLm5ld1N0YWNrJiYoYT0wKSxkLmhpZGRlbnx8KGQuY29sdW1uSW5kZXg9YSxhKyspKTpkLmhpZGRlbnx8KG09ITAsZC50Y2M9MSxkLmNvbHVtbkluZGV4PTApKTttJiYwPT09YSYmKGE9MSl9aWYoIjNkIj09ayl7Zz0xO2ZvcihtPTA7bTxjO20rKylkPXRoaXMuZ3JhcGhzW21dLGQubmV3U3RhY2smJmcrKyxkLmRlcHRoQ291bnQ9ZyxkLnRjYz1hO2E9Z31pZigicmVndWxhciI9PWt8fCIxMDAlIj09aylmb3IoZz0xMCxtPTA7bTxjO20rKylkPXRoaXMuZ3JhcGhzW21dLGQubmV3U3RhY2smJmctLSxkLmRlcHRoQ291bnQ9ZyxkLnRjYz1hfXJldHVybiBhfSxwYXJzZURhdGE6ZnVuY3Rpb24oKXtlLkFtU2VyaWFsQ2hhcnQuYmFzZS5wYXJzZURhdGEuY2FsbCh0aGlzKTt0aGlzLnBhcnNlU2VyaWFsRGF0YSh0aGlzLmRhdGFQcm92aWRlcil9LApnZXRDYXRlZ29yeUluZGV4QnlWYWx1ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0RGF0YSxjO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXS5jYXRlZ29yeT09YSlyZXR1cm4gY30saGFuZGxlU2Nyb2xsYmFyWm9vbTpmdW5jdGlvbihhKXt0aGlzLnpvb21lZEJ5U2Nyb2xsYmFyPSEwO3RoaXMuem9vbShhLnN0YXJ0LGEuZW5kKX0sZGlzcGF0Y2hUaW1lWm9vbUV2ZW50OmZ1bmN0aW9uKCl7aWYodGhpcy5kcmF3R3JhcGhzJiYodGhpcy5wcmV2U3RhcnRUaW1lIT10aGlzLnN0YXJ0VGltZXx8dGhpcy5wcmV2RW5kVGltZSE9dGhpcy5lbmRUaW1lKSl7dmFyIGE9e3R5cGU6Inpvb21lZCJ9O2Euc3RhcnREYXRlPW5ldyBEYXRlKHRoaXMuc3RhcnRUaW1lKTthLmVuZERhdGU9bmV3IERhdGUodGhpcy5lbmRUaW1lKTthLnN0YXJ0SW5kZXg9dGhpcy5zdGFydDthLmVuZEluZGV4PXRoaXMuZW5kO3RoaXMuc3RhcnRJbmRleD10aGlzLnN0YXJ0O3RoaXMuZW5kSW5kZXg9dGhpcy5lbmQ7CnRoaXMuc3RhcnREYXRlPWEuc3RhcnREYXRlO3RoaXMuZW5kRGF0ZT1hLmVuZERhdGU7dGhpcy5wcmV2U3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO3RoaXMucHJldkVuZFRpbWU9dGhpcy5lbmRUaW1lO3ZhciBiPXRoaXMuY2F0ZWdvcnlBeGlzLGM9ZS5leHRyYWN0UGVyaW9kKGIubWluUGVyaW9kKS5wZXJpb2QsYj1iLmRhdGVGb3JtYXRzT2JqZWN0W2NdO2Euc3RhcnRWYWx1ZT1lLmZvcm1hdERhdGUoYS5zdGFydERhdGUsYix0aGlzKTthLmVuZFZhbHVlPWUuZm9ybWF0RGF0ZShhLmVuZERhdGUsYix0aGlzKTthLmNoYXJ0PXRoaXM7YS50YXJnZXQ9dGhpczt0aGlzLmZpcmUoYSl9fSxkaXNwYXRjaEluZGV4Wm9vbUV2ZW50OmZ1bmN0aW9uKCl7aWYodGhpcy5kcmF3R3JhcGhzJiYodGhpcy5wcmV2U3RhcnRJbmRleCE9dGhpcy5zdGFydHx8dGhpcy5wcmV2RW5kSW5kZXghPXRoaXMuZW5kKSl7dGhpcy5zdGFydEluZGV4PXRoaXMuc3RhcnQ7dGhpcy5lbmRJbmRleD10aGlzLmVuZDt2YXIgYT0KdGhpcy5jaGFydERhdGE7aWYoZS5pZkFycmF5KGEpJiYhaXNOYU4odGhpcy5zdGFydCkmJiFpc05hTih0aGlzLmVuZCkpe3ZhciBiPXtjaGFydDp0aGlzLHRhcmdldDp0aGlzLHR5cGU6Inpvb21lZCJ9O2Iuc3RhcnRJbmRleD10aGlzLnN0YXJ0O2IuZW5kSW5kZXg9dGhpcy5lbmQ7Yi5zdGFydFZhbHVlPWFbdGhpcy5zdGFydF0uY2F0ZWdvcnk7Yi5lbmRWYWx1ZT1hW3RoaXMuZW5kXS5jYXRlZ29yeTt0aGlzLmNhdGVnb3J5QXhpcy5wYXJzZURhdGVzJiYodGhpcy5zdGFydFRpbWU9YVt0aGlzLnN0YXJ0XS50aW1lLHRoaXMuZW5kVGltZT1hW3RoaXMuZW5kXS50aW1lLGIuc3RhcnREYXRlPW5ldyBEYXRlKHRoaXMuc3RhcnRUaW1lKSxiLmVuZERhdGU9bmV3IERhdGUodGhpcy5lbmRUaW1lKSk7dGhpcy5wcmV2U3RhcnRJbmRleD10aGlzLnN0YXJ0O3RoaXMucHJldkVuZEluZGV4PXRoaXMuZW5kO3RoaXMuZmlyZShiKX19fSx1cGRhdGVMZWdlbmRWYWx1ZXM6ZnVuY3Rpb24oKXt0aGlzLmxlZ2VuZCYmCnRoaXMubGVnZW5kLnVwZGF0ZVZhbHVlcygpfSxnZXRDbG9zZXN0SW5kZXg6ZnVuY3Rpb24oYSxiLGMsZCxnLGUpezA+ZyYmKGc9MCk7ZT5hLmxlbmd0aC0xJiYoZT1hLmxlbmd0aC0xKTt2YXIgZj1nK01hdGgucm91bmQoKGUtZykvMiksbD1hW2ZdW2JdO3JldHVybiBjPT1sP2Y6MT49ZS1nP2Q/ZzpNYXRoLmFicyhhW2ddW2JdLWMpPE1hdGguYWJzKGFbZV1bYl0tYyk/ZzplOmM9PWw/ZjpjPGw/dGhpcy5nZXRDbG9zZXN0SW5kZXgoYSxiLGMsZCxnLGYpOnRoaXMuZ2V0Q2xvc2VzdEluZGV4KGEsYixjLGQsZixlKX0sem9vbVRvSW5kZXhlczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2hhcnREYXRhO2lmKGMpe3ZhciBkPWMubGVuZ3RoOzA8ZCYmKDA+YSYmKGE9MCksYj5kLTEmJihiPWQtMSksZD10aGlzLmNhdGVnb3J5QXhpcyxkLnBhcnNlRGF0ZXMmJiFkLmVxdWFsU3BhY2luZz90aGlzLnpvb20oY1thXS50aW1lLHRoaXMuZ2V0RW5kVGltZShjW2JdLnRpbWUpKTp0aGlzLnpvb20oYSwKYikpfX0sem9vbVRvRGF0ZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNoYXJ0RGF0YTtpZihjKWlmKHRoaXMuY2F0ZWdvcnlBeGlzLmVxdWFsU3BhY2luZyl7dmFyIGQ9dGhpcy5nZXRDbG9zZXN0SW5kZXgoYywidGltZSIsYS5nZXRUaW1lKCksITAsMCxjLmxlbmd0aCk7Yj1lLnJlc2V0RGF0ZVRvTWluKGIsdGhpcy5jYXRlZ29yeUF4aXMubWluUGVyaW9kLDEpO2M9dGhpcy5nZXRDbG9zZXN0SW5kZXgoYywidGltZSIsYi5nZXRUaW1lKCksITEsMCxjLmxlbmd0aCk7dGhpcy56b29tKGQsYyl9ZWxzZSB0aGlzLnpvb20oYS5nZXRUaW1lKCksYi5nZXRUaW1lKCkpfSx6b29tVG9DYXRlZ29yeVZhbHVlczpmdW5jdGlvbihhLGIpe3RoaXMuY2hhcnREYXRhJiZ0aGlzLnpvb20odGhpcy5nZXRDYXRlZ29yeUluZGV4QnlWYWx1ZShhKSx0aGlzLmdldENhdGVnb3J5SW5kZXhCeVZhbHVlKGIpKX0sZm9ybWF0UGVyaW9kU3RyaW5nOmZ1bmN0aW9uKGEsYil7aWYoYil7Yi5wZXJpb2REYXRhSXRlbT0Ke307Yi5wZXJpb2RQZXJjZW50RGF0YUl0ZW09e307dmFyIGM9WyJ2YWx1ZSIsIm9wZW4iLCJsb3ciLCJoaWdoIiwiY2xvc2UiXSxkPSJ2YWx1ZSBvcGVuIGxvdyBoaWdoIGNsb3NlIGF2ZXJhZ2Ugc3VtIGNvdW50Ii5zcGxpdCgiICIpLGc9Yi52YWx1ZUF4aXMsaD10aGlzLmNoYXJ0RGF0YSxmPWIubnVtYmVyRm9ybWF0dGVyO2Z8fChmPXRoaXMubmYpO2Zvcih2YXIgbD0wO2w8Yy5sZW5ndGg7bCsrKXtmb3IodmFyIGs9Y1tsXSxtPTAscD0wLG49MCx1PTAsdix4LEUsdCxyLEIscSx3LHksQyxGPXRoaXMuc3RhcnQ7Rjw9dGhpcy5lbmQ7RisrKXt2YXIgRD1oW0ZdO2lmKEQpe3ZhciBBPUQuYXhlc1tnLmlkXS5ncmFwaHNbYi5pZF07aWYoQSl7aWYoQS52YWx1ZXMpe3ZhciB6PUEudmFsdWVzW2tdLEQ9RC54LmNhdGVnb3J5QXhpcztpZih0aGlzLnJvdGF0ZSl7aWYoMD5EfHxEPkEuZ3JhcGguaGVpZ2h0KXo9TmFOfWVsc2UgaWYoMD5EfHxEPkEuZ3JhcGgud2lkdGgpej1OYU47aWYoIWlzTmFOKHopKXtpc05hTih2KSYmCih2PXopO3g9ejtpZihpc05hTihFKXx8RT56KUU9ejtpZihpc05hTih0KXx8dDx6KXQ9ejtyPWUuZ2V0RGVjaW1hbHMobSk7RD1lLmdldERlY2ltYWxzKHopO20rPXo7bT1lLnJvdW5kVG8obSxNYXRoLm1heChyLEQpKTtwKys7cj1tL3B9fWlmKEEucGVyY2VudHMmJihBPUEucGVyY2VudHNba10sIWlzTmFOKEEpKSl7aXNOYU4oQikmJihCPUEpO3E9QTtpZihpc05hTih3KXx8dz5BKXc9QTtpZihpc05hTih5KXx8eTxBKXk9QTtDPWUuZ2V0RGVjaW1hbHMobik7ej1lLmdldERlY2ltYWxzKEEpO24rPUE7bj1lLnJvdW5kVG8obixNYXRoLm1heChDLHopKTt1Kys7Qz1uL3V9fX19bT17b3Blbjp2LGNsb3NlOngsaGlnaDp0LGxvdzpFLGF2ZXJhZ2U6cixzdW06bSxjb3VudDpwfTtuPXtvcGVuOkIsY2xvc2U6cSxoaWdoOnksbG93OncsYXZlcmFnZTpDLHN1bTpuLGNvdW50OnV9O2E9ZS5mb3JtYXRWYWx1ZShhLG0sZCxmLGsrIlxcLiIsdGhpcy51c2VQcmVmaXhlcyx0aGlzLnByZWZpeGVzT2ZTbWFsbE51bWJlcnMsCnRoaXMucHJlZml4ZXNPZkJpZ051bWJlcnMpO2E9ZS5mb3JtYXRWYWx1ZShhLG4sZCx0aGlzLnBmLCJwZXJjZW50c1xcLiIraysiXFwuIik7Yi5wZXJpb2REYXRhSXRlbVtrXT1tO2IucGVyaW9kUGVyY2VudERhdGFJdGVtW2tdPW59fXJldHVybiBhPWUuY2xlYW5Gcm9tRW1wdHkoYSl9LGZvcm1hdFN0cmluZzpmdW5jdGlvbihhLGIsYyl7aWYoYil7dmFyIGQ9Yi5ncmFwaDtpZih2b2lkIDAhPT1hKXtpZigtMSE9YS5pbmRleE9mKCJbW2NhdGVnb3J5XV0iKSl7dmFyIGc9Yi5zZXJpYWxEYXRhSXRlbS5jYXRlZ29yeTtpZih0aGlzLmNhdGVnb3J5QXhpcy5wYXJzZURhdGVzKXt2YXIgaD10aGlzLmJhbGxvb25EYXRlRm9ybWF0LGY9dGhpcy5jaGFydEN1cnNvcjtmJiZmLmNhdGVnb3J5QmFsbG9vbkRhdGVGb3JtYXQmJihoPWYuY2F0ZWdvcnlCYWxsb29uRGF0ZUZvcm1hdCk7aD1lLmZvcm1hdERhdGUoZyxoLHRoaXMpOy0xIT1oLmluZGV4T2YoImZmZiIpJiYoaD1lLmZvcm1hdE1pbGxpc2Vjb25kcyhoLApnKSk7Zz1ofWE9YS5yZXBsYWNlKC9cW1xbY2F0ZWdvcnlcXVxdL2csU3RyaW5nKGcucmVwbGFjZSgiJCIsIiQkJCIpKSl9Zz1kLm51bWJlckZvcm1hdHRlcjtnfHwoZz10aGlzLm5mKTtoPWIuZ3JhcGgudmFsdWVBeGlzOyhmPWguZHVyYXRpb24pJiYhaXNOYU4oYi52YWx1ZXMudmFsdWUpJiZoLm1heEludGVydmFsJiYoZj1lLmZvcm1hdER1cmF0aW9uKGIudmFsdWVzLnZhbHVlLGYsIiIsaC5kdXJhdGlvblVuaXRzLGgubWF4SW50ZXJ2YWwsZyksYT1hLnJlcGxhY2UoUmVnRXhwKCJcXFtcXFt2YWx1ZVxcXVxcXSIsImciKSxmKSk7ImRhdGUiPT1oLnR5cGUmJihoPWUuZm9ybWF0RGF0ZShuZXcgRGF0ZShiLnZhbHVlcy52YWx1ZSksZC5kYXRlRm9ybWF0LHRoaXMpLGY9UmVnRXhwKCJcXFtcXFt2YWx1ZVxcXVxcXSIsImciKSxhPWEucmVwbGFjZShmLGgpLGg9ZS5mb3JtYXREYXRlKG5ldyBEYXRlKGIudmFsdWVzLm9wZW4pLGQuZGF0ZUZvcm1hdCx0aGlzKSxmPVJlZ0V4cCgiXFxbXFxbb3BlblxcXVxcXSIsCiJnIiksYT1hLnJlcGxhY2UoZixoKSk7ZD0idmFsdWUgb3BlbiBsb3cgaGlnaCBjbG9zZSB0b3RhbCIuc3BsaXQoIiAiKTtoPXRoaXMucGY7YT1lLmZvcm1hdFZhbHVlKGEsYi5wZXJjZW50cyxkLGgsInBlcmNlbnRzXFwuIik7YT1lLmZvcm1hdFZhbHVlKGEsYi52YWx1ZXMsZCxnLCIiLHRoaXMudXNlUHJlZml4ZXMsdGhpcy5wcmVmaXhlc09mU21hbGxOdW1iZXJzLHRoaXMucHJlZml4ZXNPZkJpZ051bWJlcnMpO2E9ZS5mb3JtYXRWYWx1ZShhLGIudmFsdWVzLFsicGVyY2VudHMiXSxoKTstMSE9YS5pbmRleE9mKCJbWyIpJiYoYT1lLmZvcm1hdERhdGFDb250ZXh0VmFsdWUoYSxiLmRhdGFDb250ZXh0KSk7LTEhPWEuaW5kZXhPZigiW1siKSYmYi5ncmFwaC5jdXN0b21EYXRhJiYoYT1lLmZvcm1hdERhdGFDb250ZXh0VmFsdWUoYSxiLmdyYXBoLmN1c3RvbURhdGEpKTthPWUuQW1TZXJpYWxDaGFydC5iYXNlLmZvcm1hdFN0cmluZy5jYWxsKHRoaXMsYSxiLGMpfXJldHVybiBhfX0sdXBkYXRlQ2hhcnRDdXJzb3I6ZnVuY3Rpb24oKXtlLkFtU2VyaWFsQ2hhcnQuYmFzZS51cGRhdGVDaGFydEN1cnNvci5jYWxsKHRoaXMpOwp2YXIgYT10aGlzLmNoYXJ0Q3Vyc29yLGI9dGhpcy5jYXRlZ29yeUF4aXM7aWYoYSl7dmFyIGM9YS5jYXRlZ29yeUJhbGxvb25BbHBoYSxkPWEuY2F0ZWdvcnlCYWxsb29uQ29sb3IsZz1hLmNvbG9yO3ZvaWQgMD09PWQmJihkPWEuY3Vyc29yQ29sb3IpO3ZhciBoPWEudmFsdWVab29tYWJsZSxmPWEuem9vbWFibGUsbD1hLnZhbHVlTGluZUVuYWJsZWQ7dGhpcy5yb3RhdGU/KGEudkxpbmVFbmFibGVkPWwsYS5oWm9vbUVuYWJsZWQ9aCxhLnZab29tRW5hYmxlZD1mKTooYS5oTGluZUVuYWJsZWQ9bCxhLnZab29tRW5hYmxlZD1oLGEuaFpvb21FbmFibGVkPWYpO2lmKGEudmFsdWVMaW5lQmFsbG9vbkVuYWJsZWQpZm9yKGw9MDtsPHRoaXMudmFsdWVBeGVzLmxlbmd0aDtsKyspaD10aGlzLnZhbHVlQXhlc1tsXSwoZj1oLmJhbGxvb24pfHwoZj17fSksZj1lLmV4dGVuZChmLHRoaXMuYmFsbG9vbiwhMCksZi5maWxsQ29sb3I9ZCxmLmJhbGxvb25Db2xvcj1kLGYuZmlsbEFscGhhPWMsZi5ib3JkZXJDb2xvcj0KZCxmLmNvbG9yPWcsaC5iYWxsb29uPWY7ZWxzZSBmb3IoZj0wO2Y8dGhpcy52YWx1ZUF4ZXMubGVuZ3RoO2YrKyloPXRoaXMudmFsdWVBeGVzW2ZdLGguYmFsbG9vbiYmKGguYmFsbG9vbj1udWxsKTtiJiYoYi5iYWxsb29uVGV4dEZ1bmN0aW9uPWEuY2F0ZWdvcnlCYWxsb29uRnVuY3Rpb24sYS5jYXRlZ29yeUxpbmVBeGlzPWIsYi5iYWxsb29uVGV4dD1hLmNhdGVnb3J5QmFsbG9vblRleHQsYS5jYXRlZ29yeUJhbGxvb25FbmFibGVkJiYoKGY9Yi5iYWxsb29uKXx8KGY9e30pLGY9ZS5leHRlbmQoZix0aGlzLmJhbGxvb24sITApLGYuZmlsbENvbG9yPWQsZi5iYWxsb29uQ29sb3I9ZCxmLmZpbGxBbHBoYT1jLGYuYm9yZGVyQ29sb3I9ZCxmLmNvbG9yPWcsYi5iYWxsb29uPWYpLGIuYmFsbG9vbiYmKGIuYmFsbG9vbi5lbmFibGVkPWEuY2F0ZWdvcnlCYWxsb29uRW5hYmxlZCkpfX0sYWRkQ2hhcnRTY3JvbGxiYXI6ZnVuY3Rpb24oYSl7ZS5jYWxsTWV0aG9kKCJkZXN0cm95IixbdGhpcy5jaGFydFNjcm9sbGJhcl0pOwphJiYoYS5jaGFydD10aGlzLHRoaXMubGlzdGVuVG8oYSwiem9vbWVkIix0aGlzLmhhbmRsZVNjcm9sbGJhclpvb20pKTt0aGlzLnJvdGF0ZT92b2lkIDA9PT1hLndpZHRoJiYoYS53aWR0aD1hLnNjcm9sbGJhckhlaWdodCk6dm9pZCAwPT09YS5oZWlnaHQmJihhLmhlaWdodD1hLnNjcm9sbGJhckhlaWdodCk7YS5ncmlkQXhpcz10aGlzLmNhdGVnb3J5QXhpczt0aGlzLmNoYXJ0U2Nyb2xsYmFyPWF9LGFkZFZhbHVlU2Nyb2xsYmFyOmZ1bmN0aW9uKGEpe2UuY2FsbE1ldGhvZCgiZGVzdHJveSIsW3RoaXMudmFsdWVTY3JvbGxiYXJdKTthJiYoYS5jaGFydD10aGlzLHRoaXMubGlzdGVuVG8oYSwiem9vbWVkIix0aGlzLmhhbmRsZVNjcm9sbGJhclZhbHVlWm9vbSksdGhpcy5saXN0ZW5UbyhhLCJ6b29tU3RhcnRlZCIsdGhpcy5oYW5kbGVDdXJzb3Jab29tU3RhcnRlZCkpO3ZhciBiPWEuc2Nyb2xsYmFySGVpZ2h0O3RoaXMucm90YXRlP3ZvaWQgMD09PWEuaGVpZ2h0JiYoYS5oZWlnaHQ9CmIpOnZvaWQgMD09PWEud2lkdGgmJihhLndpZHRoPWIpO2EuZ3JpZEF4aXN8fChhLmdyaWRBeGlzPXRoaXMudmFsdWVBeGVzWzBdKTthLnZhbHVlQXhlcz10aGlzLnZhbHVlQXhlczt0aGlzLnZhbHVlU2Nyb2xsYmFyPWF9LHJlbW92ZUNoYXJ0U2Nyb2xsYmFyOmZ1bmN0aW9uKCl7ZS5jYWxsTWV0aG9kKCJkZXN0cm95IixbdGhpcy5jaGFydFNjcm9sbGJhcl0pO3RoaXMuY2hhcnRTY3JvbGxiYXI9bnVsbH0scmVtb3ZlVmFsdWVTY3JvbGxiYXI6ZnVuY3Rpb24oKXtlLmNhbGxNZXRob2QoImRlc3Ryb3kiLFt0aGlzLnZhbHVlU2Nyb2xsYmFyXSk7dGhpcy52YWx1ZVNjcm9sbGJhcj1udWxsfSxoYW5kbGVSZWxlYXNlT3V0c2lkZTpmdW5jdGlvbihhKXtlLkFtU2VyaWFsQ2hhcnQuYmFzZS5oYW5kbGVSZWxlYXNlT3V0c2lkZS5jYWxsKHRoaXMsYSk7ZS5jYWxsTWV0aG9kKCJoYW5kbGVSZWxlYXNlT3V0c2lkZSIsW3RoaXMuY2hhcnRTY3JvbGxiYXIsdGhpcy52YWx1ZVNjcm9sbGJhcl0pfSwKdXBkYXRlOmZ1bmN0aW9uKCl7ZS5BbVNlcmlhbENoYXJ0LmJhc2UudXBkYXRlLmNhbGwodGhpcyk7dGhpcy5jaGFydFNjcm9sbGJhciYmdGhpcy5jaGFydFNjcm9sbGJhci51cGRhdGUmJnRoaXMuY2hhcnRTY3JvbGxiYXIudXBkYXRlKCk7dGhpcy52YWx1ZVNjcm9sbGJhciYmdGhpcy52YWx1ZVNjcm9sbGJhci51cGRhdGUmJnRoaXMudmFsdWVTY3JvbGxiYXIudXBkYXRlKCl9LHByb2Nlc3NTY3JvbGxiYXJzOmZ1bmN0aW9uKCl7ZS5BbVNlcmlhbENoYXJ0LmJhc2UucHJvY2Vzc1Njcm9sbGJhcnMuY2FsbCh0aGlzKTt2YXIgYT10aGlzLnZhbHVlU2Nyb2xsYmFyO2EmJihhPWUucHJvY2Vzc09iamVjdChhLGUuQ2hhcnRTY3JvbGxiYXIsdGhpcy50aGVtZSksYS5pZD0idmFsdWVTY3JvbGxiYXIiLHRoaXMuYWRkVmFsdWVTY3JvbGxiYXIoYSkpfSxoYW5kbGVWYWx1ZUF4aXNab29tOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlVmFsdWVBeGlzWm9vbVJlYWwoYSx0aGlzLnZhbHVlQXhlcyl9LAp6b29tT3V0OmZ1bmN0aW9uKCl7ZS5BbVNlcmlhbENoYXJ0LmJhc2Uuem9vbU91dC5jYWxsKHRoaXMpO3RoaXMuem9vbSgpO3RoaXMuc3luY0dyaWQoKX0sZ2V0TmV4dEl0ZW06ZnVuY3Rpb24oYSl7dmFyIGI9YS5pbmRleCxjPXRoaXMuY2hhcnREYXRhLGQ9YS5ncmFwaDtpZihiKzE8Yy5sZW5ndGgpZm9yKGIrPTE7YjxjLmxlbmd0aDtiKyspaWYoYT1jW2JdKWlmKGE9YS5heGVzW2QudmFsdWVBeGlzLmlkXS5ncmFwaHNbZC5pZF0sIWlzTmFOKGEueSkpcmV0dXJuIGF9LGhhbmRsZUN1cnNvclpvb21SZWFsOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGg9ZS50YXJnZXQsZixsO3RoaXMucm90YXRlPyhpc05hTihhKXx8aXNOYU4oYil8fHRoaXMucmVsYXRpdmVab29tVmFsdWVBeGVzKHRoaXMudmFsdWVBeGVzLGEsYikmJnRoaXMudXBkYXRlQWZ0ZXJWYWx1ZVpvb20oKSxoLnZab29tRW5hYmxlZCYmKGY9ZS5zdGFydCxsPWUuZW5kKSk6KGlzTmFOKGMpfHxpc05hTihkKXx8dGhpcy5yZWxhdGl2ZVpvb21WYWx1ZUF4ZXModGhpcy52YWx1ZUF4ZXMsCmMsZCkmJnRoaXMudXBkYXRlQWZ0ZXJWYWx1ZVpvb20oKSxoLmhab29tRW5hYmxlZCYmKGY9ZS5zdGFydCxsPWUuZW5kKSk7aXNOYU4oZil8fGlzTmFOKGwpfHwoYT10aGlzLmNhdGVnb3J5QXhpcyxhLnBhcnNlRGF0ZXMmJiFhLmVxdWFsU3BhY2luZz90aGlzLnpvb21Ub0RhdGVzKG5ldyBEYXRlKGYpLG5ldyBEYXRlKGwpKTp0aGlzLnpvb21Ub0luZGV4ZXMoZixsKSl9LGhhbmRsZUN1cnNvclpvb21TdGFydGVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZUF4ZXM7aWYoYSl7dmFyIGE9YVswXSxiPWEucmVsYXRpdmVTdGFydCxjPWEucmVsYXRpdmVFbmQ7YS5yZXZlcnNlZCYmKGI9MS1hLnJlbGF0aXZlRW5kLGM9MS1hLnJlbGF0aXZlU3RhcnQpO3RoaXMucm90YXRlPyh0aGlzLnN0YXJ0WDA9Yix0aGlzLmVuZFgwPWMpOih0aGlzLnN0YXJ0WTA9Yix0aGlzLmVuZFkwPWMpfXRoaXMuY2F0ZWdvcnlBeGlzJiYodGhpcy5zdGFydDA9dGhpcy5zdGFydCx0aGlzLmVuZDA9dGhpcy5lbmQsCnRoaXMuc3RhcnRUaW1lMD10aGlzLnN0YXJ0VGltZSx0aGlzLmVuZFRpbWUwPXRoaXMuZW5kVGltZSl9LGZpeEN1cnNvcjpmdW5jdGlvbigpe3RoaXMuY2hhcnRDdXJzb3ImJnRoaXMuY2hhcnRDdXJzb3IuZml4UG9zaXRpb24oKTt0aGlzLnByZXZDdXJzb3JJdGVtPW51bGx9LGhhbmRsZUN1cnNvck1vdmU6ZnVuY3Rpb24oYSl7ZS5BbVNlcmlhbENoYXJ0LmJhc2UuaGFuZGxlQ3Vyc29yTW92ZS5jYWxsKHRoaXMsYSk7dmFyIGI9YS50YXJnZXQsYz10aGlzLmNhdGVnb3J5QXhpcztpZihhLnBhbm5pbmcpdGhpcy5oYW5kbGVDdXJzb3JIaWRlKGEpO2Vsc2UgaWYodGhpcy5jaGFydERhdGEmJiFiLmlzSGlkZGVuKXt2YXIgZD10aGlzLmdyYXBocztpZihkKXt2YXIgZztnPWMueFRvSW5kZXgodGhpcy5yb3RhdGU/YS55OmEueCk7aWYoZz10aGlzLmNoYXJ0RGF0YVtnXSl7dmFyIGgsZixsLGs7aWYoYi5vbmVCYWxsb29uT25seSYmYi52YWx1ZUJhbGxvb25zRW5hYmxlZCl7dmFyIG09SW5maW5pdHk7CmZvcihoPWQubGVuZ3RoLTE7MDw9aDtoLS0paWYoZj1kW2hdLGYuYmFsbG9vbi5lbmFibGVkJiZmLnNob3dCYWxsb29uJiYhZi5oaWRkZW4pe2w9Zi52YWx1ZUF4aXMuaWQ7bD1nLmF4ZXNbbF0uZ3JhcGhzW2YuaWRdO2lmKGIuc2hvd05leHRBdmFpbGFibGUmJmlzTmFOKGwueSkmJihsPXRoaXMuZ2V0TmV4dEl0ZW0obCksIWwpKWNvbnRpbnVlO2w9bC55OyJ0b3AiPT1mLnNob3dCYWxsb29uQXQmJihsPTApOyJib3R0b20iPT1mLnNob3dCYWxsb29uQXQmJihsPXRoaXMuaGVpZ2h0KTt2YXIgcD1iLm1vdXNlWCxuPWIubW91c2VZO2w9dGhpcy5yb3RhdGU/TWF0aC5hYnMocC1sKTpNYXRoLmFicyhuLWwpO2w8bSYmKG09bCxrPWYpfWIubW9zdENsb3NlR3JhcGg9a31pZih0aGlzLnByZXZDdXJzb3JJdGVtIT1nfHxrIT10aGlzLnByZXZNb3N0Q2xvc2VHcmFwaCl7bT1bXTtmb3IoaD0wO2g8ZC5sZW5ndGg7aCsrKXtmPWRbaF07bD1mLnZhbHVlQXhpcy5pZDtsPWcuYXhlc1tsXS5ncmFwaHNbZi5pZF07CmlmKGIuc2hvd05leHRBdmFpbGFibGUmJmlzTmFOKGwueSkmJihsPXRoaXMuZ2V0TmV4dEl0ZW0obCksIWwmJmYuYmFsbG9vbikpe2YuYmFsbG9vbi5oaWRlKCk7Y29udGludWV9ayYmZiE9az8oZi5zaG93R3JhcGhCYWxsb29uKGwsYi5wb2ludGVyLCExLGIuZ3JhcGhCdWxsZXRTaXplLGIuZ3JhcGhCdWxsZXRBbHBoYSksZi5iYWxsb29uLmhpZGUoMCkpOmIudmFsdWVCYWxsb29uc0VuYWJsZWQ/KGYuYmFsbG9vbi5zaG93QnVsbGV0PWIuYnVsbGV0c0VuYWJsZWQsZi5iYWxsb29uLmJ1bGxldFNpemU9Yi5idWxsZXRTaXplLzIsYS5oaWRlQmFsbG9vbnN8fChmLnNob3dHcmFwaEJhbGxvb24obCxiLnBvaW50ZXIsITEsYi5ncmFwaEJ1bGxldFNpemUsYi5ncmFwaEJ1bGxldEFscGhhKSxmLmJhbGxvb24uc2V0JiZtLnB1c2goe2JhbGxvb246Zi5iYWxsb29uLHk6Zi5iYWxsb29uLnBvaW50VG9ZfSkpKTooZi5jdXJyZW50RGF0YUl0ZW09bCxmLnJlc2l6ZUJ1bGxldChsLGIuZ3JhcGhCdWxsZXRTaXplLApiLmdyYXBoQnVsbGV0QWxwaGEpKX1iLmF2b2lkQmFsbG9vbk92ZXJsYXBwaW5nJiZ0aGlzLmFycmFuZ2VCYWxsb29ucyhtKTt0aGlzLnByZXZDdXJzb3JJdGVtPWd9dGhpcy5wcmV2TW9zdENsb3NlR3JhcGg9a319ZD1lLmZpdFRvQm91bmRzKGEueCwwLGIud2lkdGgpO2s9ZS5maXRUb0JvdW5kcyhhLnksMCxiLmhlaWdodCk7Yy5zaG93QmFsbG9vbihkLGssYi5jYXRlZ29yeUJhbGxvb25EYXRlRm9ybWF0LGEuc2tpcCk7dGhpcy51cGRhdGVMZWdlbmRWYWx1ZXMoKX19LGhhbmRsZUN1cnNvckhpZGU6ZnVuY3Rpb24oYSl7ZS5BbVNlcmlhbENoYXJ0LmJhc2UuaGFuZGxlQ3Vyc29ySGlkZS5jYWxsKHRoaXMsYSk7YT10aGlzLmNhdGVnb3J5QXhpczt0aGlzLnByZXZDdXJzb3JJdGVtPW51bGw7dGhpcy51cGRhdGVMZWdlbmRWYWx1ZXMoKTthJiZhLmhpZGVCYWxsb29uKCk7YT10aGlzLmdyYXBoczt2YXIgYjtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uY3VycmVudERhdGFJdGVtPW51bGx9LApoYW5kbGVDdXJzb3JQYW5uaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGMsZD1hLmRlbHRhWCxnPWEuZGVsdGFZLGg9YS5kZWx0YTJYLGY9YS5kZWx0YTJZO2E9ITE7aWYodGhpcy5yb3RhdGUpe2lzTmFOKGgpJiYoaD1kLGE9ITApO3ZhciBsPXRoaXMuZW5kWDA7Yz10aGlzLnN0YXJ0WDA7dmFyIGs9bC1jLGw9bC1rKmgsbT1rO2F8fChtPTApO2E9ZS5maXRUb0JvdW5kcyhjLWsqZCwwLDEtbSl9ZWxzZSBpc05hTihmKSYmKGY9ZyxhPSEwKSxsPXRoaXMuZW5kWTAsYz10aGlzLnN0YXJ0WTAsaz1sLWMsbCs9aypnLG09ayxhfHwobT0wKSxhPWUuZml0VG9Cb3VuZHMoYytrKmYsMCwxLW0pO2M9ZS5maXRUb0JvdW5kcyhsLG0sMSk7dmFyIHA7Yi52YWx1ZVpvb21hYmxlJiYocD10aGlzLnJlbGF0aXZlWm9vbVZhbHVlQXhlcyh0aGlzLnZhbHVlQXhlcyxhLGMpKTt2YXIgbjtjPXRoaXMuY2F0ZWdvcnlBeGlzO3RoaXMucm90YXRlJiYoZD1nLGg9Zik7YT0hMTtpc05hTihoKSYmKGg9CmQsYT0hMCk7aWYoYi56b29tYWJsZSYmKDA8TWF0aC5hYnMoZCl8fDA8TWF0aC5hYnMoaCkpKWlmKGMucGFyc2VEYXRlcyYmIWMuZXF1YWxTcGFjaW5nKXtpZihmPXRoaXMuc3RhcnRUaW1lMCxnPXRoaXMuZW5kVGltZTAsYz1nLWYsaCo9YyxrPXRoaXMuZmlyc3RUaW1lLGw9dGhpcy5sYXN0VGltZSxtPWMsYXx8KG09MCksYT1NYXRoLnJvdW5kKGUuZml0VG9Cb3VuZHMoZi1jKmQsayxsLW0pKSxoPU1hdGgucm91bmQoZS5maXRUb0JvdW5kcyhnLWgsayttLGwpKSx0aGlzLnN0YXJ0VGltZSE9YXx8dGhpcy5lbmRUaW1lIT1oKW49e2NoYXJ0OnRoaXMsdGFyZ2V0OmIsdHlwZToiem9vbWVkIixzdGFydDphLGVuZDpofSx0aGlzLnNraXBab29tZWQ9ITAsYi5maXJlKG4pLHRoaXMuem9vbShhLGgpLG49ITB9ZWxzZSBpZihmPXRoaXMuc3RhcnQwLGc9dGhpcy5lbmQwLGM9Zy1mLGQ9TWF0aC5yb3VuZChjKmQpLGg9TWF0aC5yb3VuZChjKmgpLGs9dGhpcy5jaGFydERhdGEubGVuZ3RoLTEsYXx8CihjPTApLGE9ZS5maXRUb0JvdW5kcyhmLWQsMCxrLWMpLGM9ZS5maXRUb0JvdW5kcyhnLWgsYyxrKSx0aGlzLnN0YXJ0IT1hfHx0aGlzLmVuZCE9Yyl0aGlzLnNraXBab29tZWQ9ITAsYi5maXJlKHtjaGFydDp0aGlzLHRhcmdldDpiLHR5cGU6Inpvb21lZCIsc3RhcnQ6YSxlbmQ6Y30pLHRoaXMuem9vbShhLGMpLG49ITA7IW4mJnAmJnRoaXMudXBkYXRlQWZ0ZXJWYWx1ZVpvb20oKX0sYXJyYW5nZUJhbGxvb25zOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGxvdEFyZWFIZWlnaHQ7YS5zb3J0KHRoaXMuY29tcGFyZVkpO3ZhciBjLGQsZSxoPXRoaXMucGxvdEFyZWFXaWR0aCxmPWEubGVuZ3RoO2ZvcihjPTA7YzxmO2MrKylkPWFbY10uYmFsbG9vbixkLnNldEJvdW5kcygwLDAsaCxiKSxkLnJlc3RvcmVQcmV2aW91cygpLGQuZHJhdygpLGI9ZC55UG9zLTM7YS5yZXZlcnNlKCk7Zm9yKGM9MDtjPGY7YysrKXtkPWFbY10uYmFsbG9vbjt2YXIgYj1kLmJvdHRvbSxsPWQuYm90dG9tLWQueVBvczsKMDxjJiZiLWw8ZSszJiZkLnNldEJvdW5kcyYmKGQuc2V0Qm91bmRzKDAsZSszLGgsZStsKzMpLGQucmVzdG9yZVByZXZpb3VzKCksZC5kcmF3KCkpO2Quc2V0JiZkLnNldC5zaG93KCk7ZT1kLmJvdHRvbX19LGNvbXBhcmVZOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEueTxiLnk/MTotMX19KX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LkFtQ2hhcnRzO2UuQ3Vib2lkPWUuQ2xhc3Moe2NvbnN0cnVjdDpmdW5jdGlvbihhLGIsYyxkLGUsaCxmLGwsayxtLHAsbix1LHYseCxFLHQpe3RoaXMuc2V0PWEuc2V0KCk7dGhpcy5jb250YWluZXI9YTt0aGlzLmg9TWF0aC5yb3VuZChjKTt0aGlzLnc9TWF0aC5yb3VuZChiKTt0aGlzLmR4PWQ7dGhpcy5keT1lO3RoaXMuY29sb3JzPWg7dGhpcy5hbHBoYT1mO3RoaXMuYndpZHRoPWw7dGhpcy5iY29sb3I9azt0aGlzLmJhbHBoYT1tO3RoaXMuZGFzaExlbmd0aD12O3RoaXMudG9wUmFkaXVzPUU7dGhpcy5wYXR0ZXJuPXg7dGhpcy5yb3RhdGU9dTt0aGlzLmJjbj10O3U/MD5iJiYwPT09cCYmKHA9MTgwKTowPmMmJjI3MD09cCYmKHA9OTApO3RoaXMuZ3JhZGllbnRSb3RhdGlvbj1wOzA9PT1kJiYwPT09ZSYmKHRoaXMuY29ybmVyUmFkaXVzPW4pO3RoaXMuZHJhdygpfSxkcmF3OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZXQ7YS5jbGVhcigpOwp2YXIgYj10aGlzLmNvbnRhaW5lcixjPWIuY2hhcnQsZD10aGlzLncsZz10aGlzLmgsaD10aGlzLmR4LGY9dGhpcy5keSxsPXRoaXMuY29sb3JzLGs9dGhpcy5hbHBoYSxtPXRoaXMuYndpZHRoLHA9dGhpcy5iY29sb3Isbj10aGlzLmJhbHBoYSx1PXRoaXMuZ3JhZGllbnRSb3RhdGlvbix2PXRoaXMuY29ybmVyUmFkaXVzLHg9dGhpcy5kYXNoTGVuZ3RoLEU9dGhpcy5wYXR0ZXJuLHQ9dGhpcy50b3BSYWRpdXMscj10aGlzLmJjbixCPWwscT1sOyJvYmplY3QiPT10eXBlb2YgbCYmKEI9bFswXSxxPWxbbC5sZW5ndGgtMV0pO3ZhciB3LHksQyxGLEQsQSx6LEwsTSxRPWs7RSYmKGs9MCk7dmFyIEcsSCxJLEosSz10aGlzLnJvdGF0ZTtpZigwPE1hdGguYWJzKGgpfHwwPE1hdGguYWJzKGYpKWlmKGlzTmFOKHQpKXo9cSxxPWUuYWRqdXN0THVtaW5vc2l0eShCLC0uMikscT1lLmFkanVzdEx1bWlub3NpdHkoQiwtLjIpLHc9ZS5wb2x5Z29uKGIsWzAsaCxkK2gsZCwwXSxbMCxmLGYsMCwwXSwKcSxrLDEscCwwLHUpLDA8biYmKE09ZS5saW5lKGIsWzAsaCxkK2hdLFswLGYsZl0scCxuLG0seCkpLHk9ZS5wb2x5Z29uKGIsWzAsMCxkLGQsMF0sWzAsZyxnLDAsMF0scSxrLDEscCwwLHUpLHkudHJhbnNsYXRlKGgsZiksMDxuJiYoQz1lLmxpbmUoYixbaCxoXSxbZixmK2ddLHAsbixtLHgpKSxGPWUucG9seWdvbihiLFswLDAsaCxoLDBdLFswLGcsZytmLGYsMF0scSxrLDEscCwwLHUpLEQ9ZS5wb2x5Z29uKGIsW2QsZCxkK2gsZCtoLGRdLFswLGcsZytmLGYsMF0scSxrLDEscCwwLHUpLDA8biYmKEE9ZS5saW5lKGIsW2QsZCtoLGQraCxkXSxbMCxmLGcrZixnXSxwLG4sbSx4KSkscT1lLmFkanVzdEx1bWlub3NpdHkoeiwuMiksej1lLnBvbHlnb24oYixbMCxoLGQraCxkLDBdLFtnLGcrZixnK2YsZyxnXSxxLGssMSxwLDAsdSksMDxuJiYoTD1lLmxpbmUoYixbMCxoLGQraF0sW2csZytmLGcrZl0scCxuLG0seCkpO2Vsc2V7dmFyIE4sTyxQO0s/KE49Zy8yLHE9aC8yLFA9Zy8yLE89CmQraC8yLEg9TWF0aC5hYnMoZy8yKSxHPU1hdGguYWJzKGgvMikpOihxPWQvMixOPWYvMixPPWQvMixQPWcrZi8yKzEsRz1NYXRoLmFicyhkLzIpLEg9TWF0aC5hYnMoZi8yKSk7ST1HKnQ7Sj1IKnQ7LjE8RyYmLjE8RyYmKHc9ZS5jaXJjbGUoYixHLEIsayxtLHAsbiwhMSxIKSx3LnRyYW5zbGF0ZShxLE4pKTsuMTxJJiYuMTxJJiYoej1lLmNpcmNsZShiLEksZS5hZGp1c3RMdW1pbm9zaXR5KEIsLjUpLGssbSxwLG4sITEsSiksei50cmFuc2xhdGUoTyxQKSl9az1ROzE+TWF0aC5hYnMoZykmJihnPTApOzE+TWF0aC5hYnMoZCkmJihkPTApOyFpc05hTih0KSYmKDA8TWF0aC5hYnMoaCl8fDA8TWF0aC5hYnMoZikpPyhsPVtCXSxsPXtmaWxsOmwsc3Ryb2tlOnAsInN0cm9rZS13aWR0aCI6bSwic3Ryb2tlLW9wYWNpdHkiOm4sImZpbGwtb3BhY2l0eSI6a30sSz8oaz0iTTAsMCBMIitkKyIsIisoZy8yLWcvMip0KSxtPSIgQiIsMDxkJiYobT0iIEEiKSxlLlZNTD8oays9bStNYXRoLnJvdW5kKGQtCkkpKyIsIitNYXRoLnJvdW5kKGcvMi1KKSsiLCIrTWF0aC5yb3VuZChkK0kpKyIsIitNYXRoLnJvdW5kKGcvMitKKSsiLCIrZCsiLDAsIitkKyIsIitnLGs9aysoIiBMMCwiK2cpKyhtK01hdGgucm91bmQoLUcpKyIsIitNYXRoLnJvdW5kKGcvMi1IKSsiLCIrTWF0aC5yb3VuZChHKSsiLCIrTWF0aC5yb3VuZChnLzIrSCkrIiwwLCIrZysiLDAsMCIpKTooays9IkEiK0krIiwiK0orIiwwLDAsMCwiK2QrIiwiKyhnLWcvMiooMS10KSkrIkwwLCIrZyxrKz0iQSIrRysiLCIrSCsiLDAsMCwxLDAsMCIpLEc9OTApOihtPWQvMi1kLzIqdCxrPSJNMCwwIEwiK20rIiwiK2csZS5WTUw/KGs9Ik0wLDAgTCIrbSsiLCIrZyxtPSIgQiIsMD5nJiYobT0iIEEiKSxrKz1tK01hdGgucm91bmQoZC8yLUkpKyIsIitNYXRoLnJvdW5kKGctSikrIiwiK01hdGgucm91bmQoZC8yK0kpKyIsIitNYXRoLnJvdW5kKGcrSikrIiwwLCIrZysiLCIrZCsiLCIrZyxrKz0iIEwiK2QrIiwwIixrKz1tK01hdGgucm91bmQoZC8KMitHKSsiLCIrTWF0aC5yb3VuZChIKSsiLCIrTWF0aC5yb3VuZChkLzItRykrIiwiK01hdGgucm91bmQoLUgpKyIsIitkKyIsMCwwLDAiKTooays9IkEiK0krIiwiK0orIiwwLDAsMCwiKyhkLWQvMiooMS10KSkrIiwiK2crIkwiK2QrIiwwIixrKz0iQSIrRysiLCIrSCsiLDAsMCwxLDAsMCIpLEc9MTgwKSxiPWIucGF0aChrKS5hdHRyKGwpLGIuZ3JhZGllbnQoImxpbmVhckdyYWRpZW50IixbQixlLmFkanVzdEx1bWlub3NpdHkoQiwtLjMpLGUuYWRqdXN0THVtaW5vc2l0eShCLC0uMyksQl0sRyksSz9iLnRyYW5zbGF0ZShoLzIsMCk6Yi50cmFuc2xhdGUoMCxmLzIpKTpiPTA9PT1nP2UubGluZShiLFswLGRdLFswLDBdLHAsbixtLHgpOjA9PT1kP2UubGluZShiLFswLDBdLFswLGddLHAsbixtLHgpOjA8dj9lLnJlY3QoYixkLGcsbCxrLG0scCxuLHYsdSx4KTplLnBvbHlnb24oYixbMCwwLGQsZCwwXSxbMCxnLGcsMCwwXSxsLGssbSxwLG4sdSwhMSx4KTtkPWlzTmFOKHQpPzA+Zz9bdywKTSx5LEMsRixELEEseixMLGJdOlt6LEwseSxDLEYsRCx3LE0sQSxiXTpLPzA8ZD9bdyxiLHpdOlt6LGIsd106MD5nP1t3LGIsel06W3osYix3XTtlLnNldENOKGMsYixyKyJmcm9udCIpO2Uuc2V0Q04oYyx5LHIrImJhY2siKTtlLnNldENOKGMseixyKyJ0b3AiKTtlLnNldENOKGMsdyxyKyJib3R0b20iKTtlLnNldENOKGMsRixyKyJsZWZ0Iik7ZS5zZXRDTihjLEQscisicmlnaHQiKTtmb3Iodz0wO3c8ZC5sZW5ndGg7dysrKWlmKHk9ZFt3XSlhLnB1c2goeSksZS5zZXRDTihjLHkscisiZWxlbWVudCIpO0UmJmIucGF0dGVybihFLE5hTixjLnBhdGgpfSx3aWR0aDpmdW5jdGlvbihhKXtpc05hTihhKSYmKGE9MCk7dGhpcy53PU1hdGgucm91bmQoYSk7dGhpcy5kcmF3KCl9LGhlaWdodDpmdW5jdGlvbihhKXtpc05hTihhKSYmKGE9MCk7dGhpcy5oPU1hdGgucm91bmQoYSk7dGhpcy5kcmF3KCl9LGFuaW1hdGVIZWlnaHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2MuYW5pbWF0aW9uRmluaXNoZWQ9CiExO2MuZWFzaW5nPWI7Yy50b3RhbEZyYW1lcz1hKmUudXBkYXRlUmF0ZTtjLnJoPWMuaDtjLmZyYW1lPTA7Yy5oZWlnaHQoMSk7c2V0VGltZW91dChmdW5jdGlvbigpe2MudXBkYXRlSGVpZ2h0LmNhbGwoYyl9LDFFMy9lLnVwZGF0ZVJhdGUpfSx1cGRhdGVIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZnJhbWUrKzt2YXIgYj1hLnRvdGFsRnJhbWVzO2EuZnJhbWU8PWI/KGI9YS5lYXNpbmcoMCxhLmZyYW1lLDEsYS5yaC0xLGIpLGEuaGVpZ2h0KGIpLHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2EudXBkYXRlSGVpZ2h0LmNhbGwoYSl9KTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS51cGRhdGVIZWlnaHQuY2FsbChhKX0sMUUzL2UudXBkYXRlUmF0ZSkpOihhLmhlaWdodChhLnJoKSxhLmFuaW1hdGlvbkZpbmlzaGVkPSEwKX0sYW5pbWF0ZVdpZHRoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztjLmFuaW1hdGlvbkZpbmlzaGVkPQohMTtjLmVhc2luZz1iO2MudG90YWxGcmFtZXM9YSplLnVwZGF0ZVJhdGU7Yy5ydz1jLnc7Yy5mcmFtZT0wO2Mud2lkdGgoMSk7c2V0VGltZW91dChmdW5jdGlvbigpe2MudXBkYXRlV2lkdGguY2FsbChjKX0sMUUzL2UudXBkYXRlUmF0ZSl9LHVwZGF0ZVdpZHRoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmZyYW1lKys7dmFyIGI9YS50b3RhbEZyYW1lczthLmZyYW1lPD1iPyhiPWEuZWFzaW5nKDAsYS5mcmFtZSwxLGEucnctMSxiKSxhLndpZHRoKGIpLHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2EudXBkYXRlV2lkdGguY2FsbChhKX0pOnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnVwZGF0ZVdpZHRoLmNhbGwoYSl9LDFFMy9lLnVwZGF0ZVJhdGUpKTooYS53aWR0aChhLnJ3KSxhLmFuaW1hdGlvbkZpbmlzaGVkPSEwKX19KX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LkFtQ2hhcnRzO2UuQ2F0ZWdvcnlBeGlzPWUuQ2xhc3Moe2luaGVyaXRzOmUuQXhpc0Jhc2UsY29uc3RydWN0OmZ1bmN0aW9uKGEpe3RoaXMuY25hbWU9IkNhdGVnb3J5QXhpcyI7ZS5DYXRlZ29yeUF4aXMuYmFzZS5jb25zdHJ1Y3QuY2FsbCh0aGlzLGEpO3RoaXMubWluUGVyaW9kPSJERCI7dGhpcy5lcXVhbFNwYWNpbmc9dGhpcy5wYXJzZURhdGVzPSExO3RoaXMucG9zaXRpb249ImJvdHRvbSI7dGhpcy5zdGFydE9uQXhpcz0hMTt0aGlzLmdyaWRQb3NpdGlvbj0ibWlkZGxlIjt0aGlzLnNhZmVEaXN0YW5jZT0zMDt0aGlzLnN0aWNrQmFsbG9vblRvQ2F0ZWdvcnk9ITE7ZS5hcHBseVRoZW1lKHRoaXMsYSx0aGlzLmNuYW1lKX0sZHJhdzpmdW5jdGlvbigpe2UuQ2F0ZWdvcnlBeGlzLmJhc2UuZHJhdy5jYWxsKHRoaXMpO3RoaXMuZ2VuZXJhdGVERk9iamVjdCgpO3ZhciBhPXRoaXMuY2hhcnQuY2hhcnREYXRhO3RoaXMuZGF0YT1hO3RoaXMubGFiZWxSb3RhdGlvblI9CnRoaXMubGFiZWxSb3RhdGlvbjt0aGlzLnR5cGU9bnVsbDtpZihlLmlmQXJyYXkoYSkpe3ZhciBiLGM9dGhpcy5jaGFydDsic2Nyb2xsYmFyIiE9dGhpcy5pZD8oZS5zZXRDTihjLHRoaXMuc2V0LCJjYXRlZ29yeS1heGlzIiksZS5zZXRDTihjLHRoaXMubGFiZWxzU2V0LCJjYXRlZ29yeS1heGlzIiksZS5zZXRDTihjLHRoaXMuYXhpc0xpbmUuYXhpc1NldCwiY2F0ZWdvcnktYXhpcyIpKTp0aGlzLmJjbj10aGlzLmlkKyItIjt2YXIgZD10aGlzLnN0YXJ0LGc9dGhpcy5sYWJlbEZyZXF1ZW5jeSxoPTAsZj10aGlzLmVuZC1kKzEsbD10aGlzLmdyaWRDb3VudFIsaz10aGlzLnNob3dGaXJzdExhYmVsLG09dGhpcy5zaG93TGFzdExhYmVsLHAsbj0iIixuPWUuZXh0cmFjdFBlcmlvZCh0aGlzLm1pblBlcmlvZCksdT1lLmdldFBlcmlvZER1cmF0aW9uKG4ucGVyaW9kLG4uY291bnQpLHYseCxFLHQscixCPXRoaXMucm90YXRlLHE9dGhpcy5maXJzdERheU9mV2Vlayx3PXRoaXMuYm9sZFBlcmlvZEJlZ2lubmluZzsKYj1lLnJlc2V0RGF0ZVRvTWluKG5ldyBEYXRlKGFbYS5sZW5ndGgtMV0udGltZSsxLjA1KnUpLHRoaXMubWluUGVyaW9kLDEscSkuZ2V0VGltZSgpO3RoaXMuZmlyc3RUaW1lPWMuZmlyc3RUaW1lO3RoaXMuZW5kVGltZT5iJiYodGhpcy5lbmRUaW1lPWIpO3I9dGhpcy5taW5vckdyaWRFbmFibGVkO3g9dGhpcy5ncmlkQWxwaGE7dmFyIHk9MCxDPTA7aWYodGhpcy53aWR0aEZpZWxkKWZvcihiPXRoaXMuc3RhcnQ7Yjw9dGhpcy5lbmQ7YisrKWlmKHQ9dGhpcy5kYXRhW2JdKXt2YXIgRj1OdW1iZXIodGhpcy5kYXRhW2JdLmRhdGFDb250ZXh0W3RoaXMud2lkdGhGaWVsZF0pO2lzTmFOKEYpfHwoeSs9Rix0LndpZHRoVmFsdWU9Ril9aWYodGhpcy5wYXJzZURhdGVzJiYhdGhpcy5lcXVhbFNwYWNpbmcpdGhpcy5sYXN0VGltZT1hW2EubGVuZ3RoLTFdLnRpbWUsdGhpcy5tYXhUaW1lPWUucmVzZXREYXRlVG9NaW4obmV3IERhdGUodGhpcy5sYXN0VGltZSsxLjA1KnUpLHRoaXMubWluUGVyaW9kLAoxLHEpLmdldFRpbWUoKSx0aGlzLnRpbWVEaWZmZXJlbmNlPXRoaXMuZW5kVGltZS10aGlzLnN0YXJ0VGltZSx0aGlzLnBhcnNlRGF0ZXNEcmF3KCk7ZWxzZSBpZighdGhpcy5wYXJzZURhdGVzKXtpZih0aGlzLmNlbGxXaWR0aD10aGlzLmdldFN0ZXBXaWR0aChmKSxmPGwmJihsPWYpLGgrPXRoaXMuc3RhcnQsdGhpcy5zdGVwV2lkdGg9dGhpcy5nZXRTdGVwV2lkdGgoZiksMDxsKWZvcihxPU1hdGguZmxvb3IoZi9sKSx0PXRoaXMuY2hvb3NlTWlub3JGcmVxdWVuY3kocSksZj1oLGYvMj09TWF0aC5yb3VuZChmLzIpJiZmLS0sMD5mJiYoZj0wKSx3PTAsdGhpcy53aWR0aEZpZWxkJiYoZj10aGlzLnN0YXJ0LHE9MSksdGhpcy5lbmQtZisxPj10aGlzLmF1dG9Sb3RhdGVDb3VudCYmKHRoaXMubGFiZWxSb3RhdGlvblI9dGhpcy5hdXRvUm90YXRlQW5nbGUpLGI9ZjtiPD10aGlzLmVuZCsyO2IrKyl7bD0hMTswPD1iJiZiPHRoaXMuZGF0YS5sZW5ndGg/KHY9dGhpcy5kYXRhW2JdLG49di5jYXRlZ29yeSwKbD12LmZvcmNlU2hvdyk6bj0iIjtpZihyJiYhaXNOYU4odCkpaWYoYi90PT1NYXRoLnJvdW5kKGIvdCl8fGwpYi9xPT1NYXRoLnJvdW5kKGIvcSl8fGx8fCh0aGlzLmdyaWRBbHBoYT10aGlzLm1pbm9yR3JpZEFscGhhLG49dm9pZCAwKTtlbHNlIGNvbnRpbnVlO2Vsc2UgaWYoYi9xIT1NYXRoLnJvdW5kKGIvcSkmJiFsKWNvbnRpbnVlO2Y9dGhpcy5nZXRDb29yZGluYXRlKGItaCk7bD0wOyJzdGFydCI9PXRoaXMuZ3JpZFBvc2l0aW9uJiYoZi09dGhpcy5jZWxsV2lkdGgvMixsPXRoaXMuY2VsbFdpZHRoLzIpO3A9ITA7RT1sOyJzdGFydCI9PXRoaXMudGlja1Bvc2l0aW9uJiYoRT0wLHA9ITEsbD0wKTtpZihiPT1kJiYha3x8Yj09dGhpcy5lbmQmJiFtKW49dm9pZCAwO01hdGgucm91bmQody9nKSE9dy9nJiYobj12b2lkIDApO3crKzthPXRoaXMuY2VsbFdpZHRoO0ImJihhPU5hTix0aGlzLmlnbm9yZUF4aXNXaWR0aHx8IWMuYXV0b01hcmdpbnMpJiYoYT0icmlnaHQiPT10aGlzLnBvc2l0aW9uPwpjLm1hcmdpblJpZ2h0LXRoaXMudGl0bGVXaWR0aDpjLm1hcmdpbkxlZnQtdGhpcy50aXRsZVdpZHRoLGEtPXRoaXMudGlja0xlbmd0aCsxMCk7dGhpcy5sYWJlbEZ1bmN0aW9uJiZ2JiYobj10aGlzLmxhYmVsRnVuY3Rpb24obix2LHRoaXMpKTtuPWUuZml4QnJha2VzKG4pO3U9ITE7dGhpcy5ib2xkTGFiZWxzJiYodT0hMCk7Yj50aGlzLmVuZCYmInN0YXJ0Ij09dGhpcy50aWNrUG9zaXRpb24mJihuPSIgIik7dGhpcy5yb3RhdGUmJnRoaXMuaW5zaWRlJiYobC09Mik7aXNOYU4odi53aWR0aFZhbHVlKXx8KHYucGVyY2VudFdpZHRoVmFsdWU9di53aWR0aFZhbHVlL3kqMTAwLGE9dGhpcy5yb3RhdGU/dGhpcy5oZWlnaHQqdi53aWR0aFZhbHVlL3k6dGhpcy53aWR0aCp2LndpZHRoVmFsdWUveSxmPUMsQys9YSxFPWw9YS8yKTtwPW5ldyB0aGlzLmF4aXNJdGVtUmVuZGVyZXIodGhpcyxmLG4scCxhLGwsdm9pZCAwLHUsRSwhMSx2LmxhYmVsQ29sb3Isdi5jbGFzc05hbWUpO3Auc2VyaWFsRGF0YUl0ZW09CnY7dGhpcy5wdXNoQXhpc0l0ZW0ocCk7dGhpcy5ncmlkQWxwaGE9eH19ZWxzZSBpZih0aGlzLnBhcnNlRGF0ZXMmJnRoaXMuZXF1YWxTcGFjaW5nKXtoPXRoaXMuc3RhcnQ7dGhpcy5zdGFydFRpbWU9dGhpcy5kYXRhW3RoaXMuc3RhcnRdLnRpbWU7dGhpcy5lbmRUaW1lPXRoaXMuZGF0YVt0aGlzLmVuZF0udGltZTt0aGlzLnRpbWVEaWZmZXJlbmNlPXRoaXMuZW5kVGltZS10aGlzLnN0YXJ0VGltZTtiPXRoaXMuY2hvb3NlUGVyaW9kKDApO2c9Yi5wZXJpb2Q7dj1iLmNvdW50O2I9ZS5nZXRQZXJpb2REdXJhdGlvbihnLHYpO2I8dSYmKGc9bi5wZXJpb2Qsdj1uLmNvdW50LGI9dSk7eD1nOyJXVyI9PXgmJih4PSJERCIpO3RoaXMuY3VycmVudERhdGVGb3JtYXQ9dGhpcy5kYXRlRm9ybWF0c09iamVjdFt4XTt0aGlzLnN0ZXBXaWR0aD10aGlzLmdldFN0ZXBXaWR0aChmKTtsPU1hdGguY2VpbCh0aGlzLnRpbWVEaWZmZXJlbmNlL2IpKzE7bj1lLnJlc2V0RGF0ZVRvTWluKG5ldyBEYXRlKHRoaXMuc3RhcnRUaW1lLQpiKSxnLHYscSkuZ2V0VGltZSgpO3RoaXMuY2VsbFdpZHRoPXRoaXMuZ2V0U3RlcFdpZHRoKGYpO2Y9TWF0aC5yb3VuZChuL2IpO2Q9LTE7Zi8yPT1NYXRoLnJvdW5kKGYvMikmJihkPS0yLG4tPWIpO2Y9dGhpcy5zdGFydDtmLzI9PU1hdGgucm91bmQoZi8yKSYmZi0tOzA+ZiYmKGY9MCk7Qz10aGlzLmVuZCsyO0M+PXRoaXMuZGF0YS5sZW5ndGgmJihDPXRoaXMuZGF0YS5sZW5ndGgpO2E9ITE7YT0hazt0aGlzLnByZXZpb3VzUG9zPS0xRTM7MjA8dGhpcy5sYWJlbFJvdGF0aW9uUiYmKHRoaXMuc2FmZURpc3RhbmNlPTUpO0Y9ZjtpZih0aGlzLmRhdGFbZl0udGltZSE9ZS5yZXNldERhdGVUb01pbihuZXcgRGF0ZSh0aGlzLmRhdGFbZl0udGltZSksZyx2LHEpLmdldFRpbWUoKSl7dmFyIHU9MCxEPW47Zm9yKGI9ZjtiPEM7YisrKXQ9dGhpcy5kYXRhW2JdLnRpbWUsdGhpcy5jaGVja1BlcmlvZENoYW5nZShnLHYsdCxEKSYmKHUrKywyPD11JiYoRj1iLGI9QyksRD10KX1yJiYxPHYmJih0PQp0aGlzLmNob29zZU1pbm9yRnJlcXVlbmN5KHYpLGUuZ2V0UGVyaW9kRHVyYXRpb24oZyx0KSk7aWYoMDx0aGlzLmdyaWRDb3VudFIpZm9yKGI9ZjtiPEM7YisrKWlmKHQ9dGhpcy5kYXRhW2JdLnRpbWUsdGhpcy5jaGVja1BlcmlvZENoYW5nZShnLHYsdCxuKSYmYj49Ril7Zj10aGlzLmdldENvb3JkaW5hdGUoYi10aGlzLnN0YXJ0KTtyPSExO3RoaXMubmV4dFBlcmlvZFt4XSYmKHI9dGhpcy5jaGVja1BlcmlvZENoYW5nZSh0aGlzLm5leHRQZXJpb2RbeF0sMSx0LG4seCkpJiZlLnJlc2V0RGF0ZVRvTWluKG5ldyBEYXRlKHQpLHRoaXMubmV4dFBlcmlvZFt4XSwxLHEpLmdldFRpbWUoKSE9dCYmKHI9ITEpO3U9ITE7ciYmdGhpcy5tYXJrUGVyaW9kQ2hhbmdlPyhyPXRoaXMuZGF0ZUZvcm1hdHNPYmplY3RbdGhpcy5uZXh0UGVyaW9kW3hdXSx1PSEwKTpyPXRoaXMuZGF0ZUZvcm1hdHNPYmplY3RbeF07bj1lLmZvcm1hdERhdGUobmV3IERhdGUodCkscixjKTtpZihiPT1kJiYha3x8Yj09CmwmJiFtKW49IiAiO2E/YT0hMTood3x8KHU9ITEpLGYtdGhpcy5wcmV2aW91c1Bvcz50aGlzLnNhZmVEaXN0YW5jZSpNYXRoLmNvcyh0aGlzLmxhYmVsUm90YXRpb25SKk1hdGguUEkvMTgwKSYmKHRoaXMubGFiZWxGdW5jdGlvbiYmKG49dGhpcy5sYWJlbEZ1bmN0aW9uKG4sbmV3IERhdGUodCksdGhpcyxnLHYsRSkpLHRoaXMuYm9sZExhYmVscyYmKHU9ITApLHA9bmV3IHRoaXMuYXhpc0l0ZW1SZW5kZXJlcih0aGlzLGYsbix2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdSkscj1wLmdyYXBoaWNzKCksdGhpcy5wdXNoQXhpc0l0ZW0ocCkscj1yLmdldEJCb3goKS53aWR0aCxlLmlzTW9kZXJufHwoci09ZiksdGhpcy5wcmV2aW91c1Bvcz1mK3IpKTtFPW49dH19Zm9yKGI9az0wO2I8dGhpcy5kYXRhLmxlbmd0aDtiKyspaWYodD10aGlzLmRhdGFbYl0pdGhpcy5wYXJzZURhdGVzJiYhdGhpcy5lcXVhbFNwYWNpbmc/KG09dC50aW1lLGQ9dGhpcy5jZWxsV2lkdGgsIk1NIj09dGhpcy5taW5QZXJpb2QmJgooZD04NjRFNSplLmRheXNJbk1vbnRoKG5ldyBEYXRlKG0pKSp0aGlzLnN0ZXBXaWR0aCx0LmNlbGxXaWR0aD1kKSxtPU1hdGgucm91bmQoKG0tdGhpcy5zdGFydFRpbWUpKnRoaXMuc3RlcFdpZHRoK2QvMikpOm09dGhpcy5nZXRDb29yZGluYXRlKGItaCksdC54W3RoaXMuaWRdPW07aWYodGhpcy53aWR0aEZpZWxkKWZvcihiPXRoaXMuc3RhcnQ7Yjw9dGhpcy5lbmQ7YisrKXQ9dGhpcy5kYXRhW2JdLGQ9dC53aWR0aFZhbHVlLHQucGVyY2VudFdpZHRoVmFsdWU9ZC95KjEwMCx0aGlzLnJvdGF0ZT8obT10aGlzLmhlaWdodCpkL3kvMitrLGs9dGhpcy5oZWlnaHQqZC95K2spOihtPXRoaXMud2lkdGgqZC95LzIrayxrPXRoaXMud2lkdGgqZC95K2spLHQueFt0aGlzLmlkXT1tO3k9dGhpcy5ndWlkZXMubGVuZ3RoO2ZvcihiPTA7Yjx5O2IrKylpZihrPXRoaXMuZ3VpZGVzW2JdLHE9cT1xPXI9ZD1OYU4sbT1rLmFib3ZlLGsudG9DYXRlZ29yeSYmKHE9Yy5nZXRDYXRlZ29yeUluZGV4QnlWYWx1ZShrLnRvQ2F0ZWdvcnkpLAppc05hTihxKXx8KGQ9dGhpcy5nZXRDb29yZGluYXRlKHEtaCksay5leHBhbmQmJihkKz10aGlzLmNlbGxXaWR0aC8yKSxwPW5ldyB0aGlzLmF4aXNJdGVtUmVuZGVyZXIodGhpcyxkLCIiLCEwLE5hTixOYU4sayksdGhpcy5wdXNoQXhpc0l0ZW0ocCxtKSkpLGsuY2F0ZWdvcnkmJihxPWMuZ2V0Q2F0ZWdvcnlJbmRleEJ5VmFsdWUoay5jYXRlZ29yeSksaXNOYU4ocSl8fChyPXRoaXMuZ2V0Q29vcmRpbmF0ZShxLWgpLGsuZXhwYW5kJiYoci09dGhpcy5jZWxsV2lkdGgvMikscT0oZC1yKS8yLHA9bmV3IHRoaXMuYXhpc0l0ZW1SZW5kZXJlcih0aGlzLHIsay5sYWJlbCwhMCxOYU4scSxrKSx0aGlzLnB1c2hBeGlzSXRlbShwLG0pKSksdz1jLmRhdGFEYXRlRm9ybWF0LGsudG9EYXRlJiYoIXd8fGsudG9EYXRlIGluc3RhbmNlb2YgRGF0ZXx8KGsudG9EYXRlPWsudG9EYXRlLnRvU3RyaW5nKCkrIiB8Iiksay50b0RhdGU9ZS5nZXREYXRlKGsudG9EYXRlLHcpLHRoaXMuZXF1YWxTcGFjaW5nPwoocT1jLmdldENsb3Nlc3RJbmRleCh0aGlzLmRhdGEsInRpbWUiLGsudG9EYXRlLmdldFRpbWUoKSwhMSwwLHRoaXMuZGF0YS5sZW5ndGgtMSksaXNOYU4ocSl8fChkPXRoaXMuZ2V0Q29vcmRpbmF0ZShxLWgpKSk6ZD0oay50b0RhdGUuZ2V0VGltZSgpLXRoaXMuc3RhcnRUaW1lKSp0aGlzLnN0ZXBXaWR0aCxwPW5ldyB0aGlzLmF4aXNJdGVtUmVuZGVyZXIodGhpcyxkLCIiLCEwLE5hTixOYU4sayksdGhpcy5wdXNoQXhpc0l0ZW0ocCxtKSksay5kYXRlJiYoIXd8fGsuZGF0ZSBpbnN0YW5jZW9mIERhdGV8fChrLmRhdGU9ay5kYXRlLnRvU3RyaW5nKCkrIiB8Iiksay5kYXRlPWUuZ2V0RGF0ZShrLmRhdGUsdyksdGhpcy5lcXVhbFNwYWNpbmc/KHE9Yy5nZXRDbG9zZXN0SW5kZXgodGhpcy5kYXRhLCJ0aW1lIixrLmRhdGUuZ2V0VGltZSgpLCExLDAsdGhpcy5kYXRhLmxlbmd0aC0xKSxpc05hTihxKXx8KHI9dGhpcy5nZXRDb29yZGluYXRlKHEtaCkpKTpyPShrLmRhdGUuZ2V0VGltZSgpLQp0aGlzLnN0YXJ0VGltZSkqdGhpcy5zdGVwV2lkdGgscT0oZC1yKS8yLHA9ITAsay50b0RhdGUmJihwPSExKSxwPSJIIj09dGhpcy5vcmllbnRhdGlvbj9uZXcgdGhpcy5heGlzSXRlbVJlbmRlcmVyKHRoaXMscixrLmxhYmVsLHAsMipxLE5hTixrKTpuZXcgdGhpcy5heGlzSXRlbVJlbmRlcmVyKHRoaXMscixrLmxhYmVsLCExLE5hTixxLGspLHRoaXMucHVzaEF4aXNJdGVtKHAsbSkpLHAmJihxPXAubGFiZWwpJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKHEsayksMDxkfHwwPHIpe3E9ITE7aWYodGhpcy5yb3RhdGUpe2lmKGQ8dGhpcy5oZWlnaHR8fHI8dGhpcy5oZWlnaHQpcT0hMH1lbHNlIGlmKGQ8dGhpcy53aWR0aHx8cjx0aGlzLndpZHRoKXE9ITA7cSYmKGQ9bmV3IHRoaXMuZ3VpZGVGaWxsUmVuZGVyZXIodGhpcyxyLGQsaykscj1kLmdyYXBoaWNzKCksdGhpcy5wdXNoQXhpc0l0ZW0oZCxtKSxrLmdyYXBoaWNzPXIsci5pbmRleD1iLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMociwKaykpfWlmKGM9Yy5jaGFydEN1cnNvcilCP2MuZml4SGVpZ2h0KHRoaXMuY2VsbFdpZHRoKTooYy5maXhXaWR0aCh0aGlzLmNlbGxXaWR0aCksYy5mdWxsV2lkdGgmJnRoaXMuYmFsbG9vbiYmKHRoaXMuYmFsbG9vbi5taW5XaWR0aD10aGlzLmNlbGxXaWR0aCkpO3RoaXMucHJldmlvdXNIZWlnaHQ9QX10aGlzLmF4aXNDcmVhdGVkPSEwO3RoaXMuc2V0LnRyYW5zbGF0ZSh0aGlzLngsdGhpcy55KTt0aGlzLmxhYmVsc1NldC50cmFuc2xhdGUodGhpcy54LHRoaXMueSk7dGhpcy5sYWJlbHNTZXQuc2hvdygpO3RoaXMucG9zaXRpb25UaXRsZSgpOyhCPXRoaXMuYXhpc0xpbmUuc2V0KSYmQi50b0Zyb250KCk7dmFyIEE9dGhpcy5nZXRCQm94KCkuaGVpZ2h0OzI8QS10aGlzLnByZXZpb3VzSGVpZ2h0JiZ0aGlzLmF1dG9XcmFwJiYhdGhpcy5wYXJzZURhdGVzJiYodGhpcy5heGlzQ3JlYXRlZD10aGlzLmNoYXJ0Lm1hcmdpbnNVcGRhdGVkPSExKX0seFRvSW5kZXg6ZnVuY3Rpb24oYSl7dmFyIGI9CnRoaXMuZGF0YSxjPXRoaXMuY2hhcnQsZD1jLnJvdGF0ZSxnPXRoaXMuc3RlcFdpZHRoLGg7aWYodGhpcy5wYXJzZURhdGVzJiYhdGhpcy5lcXVhbFNwYWNpbmcpYT10aGlzLnN0YXJ0VGltZStNYXRoLnJvdW5kKGEvZyktdGhpcy5taW5EdXJhdGlvbigpLzIsaD1jLmdldENsb3Nlc3RJbmRleChiLCJ0aW1lIixhLCExLHRoaXMuc3RhcnQsdGhpcy5lbmQrMSk7ZWxzZSBpZih0aGlzLndpZHRoRmllbGQpZm9yKGM9SW5maW5pdHksZz10aGlzLnN0YXJ0O2c8PXRoaXMuZW5kO2crKyl7dmFyIGY9dGhpcy5kYXRhW2ddO2YmJihmPU1hdGguYWJzKGYueFt0aGlzLmlkXS1hKSxmPGMmJihjPWYsaD1nKSl9ZWxzZSB0aGlzLnN0YXJ0T25BeGlzfHwoYS09Zy8yKSxoPXRoaXMuc3RhcnQrTWF0aC5yb3VuZChhL2cpO2g9ZS5maXRUb0JvdW5kcyhoLDAsYi5sZW5ndGgtMSk7dmFyIGw7YltoXSYmKGw9YltoXS54W3RoaXMuaWRdKTtkP2w+dGhpcy5oZWlnaHQrMSYmaC0tOmw+dGhpcy53aWR0aCsxJiYKaC0tOzA+bCYmaCsrO3JldHVybiBoPWUuZml0VG9Cb3VuZHMoaCwwLGIubGVuZ3RoLTEpfSxkYXRlVG9Db29yZGluYXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhcnNlRGF0ZXMmJiF0aGlzLmVxdWFsU3BhY2luZz8oYS5nZXRUaW1lKCktdGhpcy5zdGFydFRpbWUpKnRoaXMuc3RlcFdpZHRoOnRoaXMucGFyc2VEYXRlcyYmdGhpcy5lcXVhbFNwYWNpbmc/KGE9dGhpcy5jaGFydC5nZXRDbG9zZXN0SW5kZXgodGhpcy5kYXRhLCJ0aW1lIixhLmdldFRpbWUoKSwhMSwwLHRoaXMuZGF0YS5sZW5ndGgtMSksdGhpcy5nZXRDb29yZGluYXRlKGEtdGhpcy5zdGFydCkpOk5hTn0sY2F0ZWdvcnlUb0Nvb3JkaW5hdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5jaGFydCl7aWYodGhpcy5wYXJzZURhdGVzKXJldHVybiB0aGlzLmRhdGVUb0Nvb3JkaW5hdGUobmV3IERhdGUoYSkpO2E9dGhpcy5jaGFydC5nZXRDYXRlZ29yeUluZGV4QnlWYWx1ZShhKTtpZighaXNOYU4oYSkpcmV0dXJuIHRoaXMuZ2V0Q29vcmRpbmF0ZShhLQp0aGlzLnN0YXJ0KX1lbHNlIHJldHVybiBOYU59LGNvb3JkaW5hdGVUb0RhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZXF1YWxTcGFjaW5nPyhhPXRoaXMueFRvSW5kZXgoYSksbmV3IERhdGUodGhpcy5kYXRhW2FdLnRpbWUpKTpuZXcgRGF0ZSh0aGlzLnN0YXJ0VGltZSthL3RoaXMuc3RlcFdpZHRoKX0sY29vcmRpbmF0ZVRvVmFsdWU6ZnVuY3Rpb24oYSl7YT10aGlzLnhUb0luZGV4KGEpO2lmKGE9dGhpcy5kYXRhW2FdKXJldHVybiB0aGlzLnBhcnNlRGF0ZXM/YS50aW1lOmEuY2F0ZWdvcnl9LGdldENvb3JkaW5hdGU6ZnVuY3Rpb24oYSl7YSo9dGhpcy5zdGVwV2lkdGg7dGhpcy5zdGFydE9uQXhpc3x8KGErPXRoaXMuc3RlcFdpZHRoLzIpO3JldHVybiBNYXRoLnJvdW5kKGEpfSxmb3JtYXRWYWx1ZTpmdW5jdGlvbihhLGIpe2J8fChiPXRoaXMuY3VycmVudERhdGVGb3JtYXQpO3RoaXMucGFyc2VEYXRlcyYmKGE9ZS5mb3JtYXREYXRlKG5ldyBEYXRlKGEpLGIsdGhpcy5jaGFydCkpOwpyZXR1cm4gYX0sc2hvd0JhbGxvb25BdDpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPXRoaXMucGFyc2VEYXRlcz90aGlzLmRhdGVUb0Nvb3JkaW5hdGUobmV3IERhdGUoYSkpOnRoaXMuY2F0ZWdvcnlUb0Nvb3JkaW5hdGUoYSkpO3JldHVybiB0aGlzLmFkanVzdEJhbGxvb25Db29yZGluYXRlKGIpfSxmb3JtYXRCYWxsb29uVGV4dDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9IiIsZz0iIixoPXRoaXMuY2hhcnQsZj10aGlzLmRhdGFbYl07aWYoZilpZih0aGlzLnBhcnNlRGF0ZXMpZD1lLmZvcm1hdERhdGUoZi5jYXRlZ29yeSxjLGgpLGI9ZS5jaGFuZ2VEYXRlKG5ldyBEYXRlKGYuY2F0ZWdvcnkpLHRoaXMubWluUGVyaW9kLDEpLGc9ZS5mb3JtYXREYXRlKGIsYyxoKSwtMSE9ZC5pbmRleE9mKCJmZmYiKSYmKGQ9ZS5mb3JtYXRNaWxsaXNlY29uZHMoZCxmLmNhdGVnb3J5KSxnPWUuZm9ybWF0TWlsbGlzZWNvbmRzKGcsYikpO2Vsc2V7dmFyIGw7dGhpcy5kYXRhW2IrMV0mJihsPXRoaXMuZGF0YVtiKwoxXSk7ZD1lLmZpeE5ld0xpbmVzKGYuY2F0ZWdvcnkpO2wmJihnPWUuZml4TmV3TGluZXMobC5jYXRlZ29yeSkpfWE9YS5yZXBsYWNlKC9cW1xbY2F0ZWdvcnlcXVxdL2csU3RyaW5nKGQpKTtyZXR1cm4gYT1hLnJlcGxhY2UoL1xbXFt0b0NhdGVnb3J5XF1cXS9nLFN0cmluZyhnKSl9LGFkanVzdEJhbGxvb25Db29yZGluYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy54VG9JbmRleChhKSxkPXRoaXMuY2hhcnQuY2hhcnRDdXJzb3I7aWYodGhpcy5zdGlja0JhbGxvb25Ub0NhdGVnb3J5KXt2YXIgZT10aGlzLmRhdGFbY107ZSYmKGE9ZS54W3RoaXMuaWRdKTt0aGlzLnN0aWNrQmFsbG9vblRvU3RhcnQmJihhLT10aGlzLmNlbGxXaWR0aC8yKTt2YXIgaD0wO2lmKGQpe3ZhciBmPWQubGltaXRUb0dyYXBoO2lmKGYpe3ZhciBsPWYudmFsdWVBeGlzLmlkO2YuaGlkZGVufHwoaD1lLmF4ZXNbbF0uZ3JhcGhzW2YuaWRdLnkpfXRoaXMucm90YXRlPygibGVmdCI9PXRoaXMucG9zaXRpb24/CihmJiYoaC09ZC53aWR0aCksMDxoJiYoaD0wKSk6MD5oJiYoaD0wKSxkLmZpeEhMaW5lKGEsaCkpOigidG9wIj09dGhpcy5wb3NpdGlvbj8oZiYmKGgtPWQuaGVpZ2h0KSwwPGgmJihoPTApKTowPmgmJihoPTApLGQuZnVsbFdpZHRoJiYoYSs9MSksZC5maXhWTGluZShhLGgpKX19ZCYmIWImJihkLnNldEluZGV4KGMpLHRoaXMucGFyc2VEYXRlcyYmZC5zZXRUaW1lc3RhbXAodGhpcy5jb29yZGluYXRlVG9EYXRlKGEpLmdldFRpbWUoKSkpO3JldHVybiBhfX0pfSkoKTsK"></script>

</head>
<body>
<div id="htmlwidget_container">
  <div id="htmlwidget-2bffc1fe05e09bbefb0b" style="width:100%;height:500px;" class="ramcharts_base html-widget"></div>
</div>
<script type="application/json" data-for="htmlwidget-2bffc1fe05e09bbefb0b">{"x":{"chartData":{"rotate":false,"depth3D":0,"angle":0,"categoryAxis":{"title":"","axisAlpha":0,"gridAlpha":0,"parseDates":false,"minPeriod":"","gridPosition":"start"},"categoryField":"行政區","chartCursor":{"animationDuration":0.3},"dataProvider":[{"行政區":"三民區","買賣實際件數分區統計":1448,"戶數":139637},{"行政區":"大社區","買賣實際件數分區統計":192,"戶數":13431},{"行政區":"大寮區","買賣實際件數分區統計":729,"戶數":43827},{"行政區":"大樹區","買賣實際件數分區統計":52,"戶數":14002},{"行政區":"小港區","買賣實際件數分區統計":475,"戶數":69609},{"行政區":"仁武區","買賣實際件數分區統計":711,"戶數":37968},{"行政區":"內門區","買賣實際件數分區統計":43,"戶數":5120},{"行政區":"六龜區","買賣實際件數分區統計":24,"戶數":5448},{"行政區":"左營區","買賣實際件數分區統計":1191,"戶數":81768},{"行政區":"永安區","買賣實際件數分區統計":26,"戶數":5778},{"行政區":"田寮區","買賣實際件數分區統計":27,"戶數":3106},{"行政區":"甲仙區","買賣實際件數分區統計":11,"戶數":2299},{"行政區":"杉林區","買賣實際件數分區統計":60,"戶數":4748},{"行政區":"那瑪夏區","買賣實際件數分區統計":4,"戶數":866},{"行政區":"岡山區","買賣實際件數分區統計":275,"戶數":35658},{"行政區":"林園區","買賣實際件數分區統計":256,"戶數":26997},{"行政區":"阿蓮區","買賣實際件數分區統計":88,"戶數":9498},{"行政區":"前金區","買賣實際件數分區統計":242,"戶數":13179},{"行政區":"前鎮區","買賣實際件數分區統計":803,"戶數":79596},{"行政區":"美濃區","買賣實際件數分區統計":121,"戶數":14962},{"行政區":"苓雅區","買賣實際件數分區統計":885,"戶數":73197},{"行政區":"茄萣區","買賣實際件數分區統計":63,"戶數":10723},{"行政區":"桃源區","買賣實際件數分區統計":5,"戶數":1361},{"行政區":"梓官區","買賣實際件數分區統計":99,"戶數":12994},{"行政區":"鳥松區","買賣實際件數分區統計":197,"戶數":19316},{"行政區":"湖內區","買賣實際件數分區統計":154,"戶數":11225},{"行政區":"新興區","買賣實際件數分區統計":197,"戶數":23180},{"行政區":"楠梓區","買賣實際件數分區統計":1124,"戶數":75848},{"行政區":"路竹區","買賣實際件數分區統計":132,"戶數":17423},{"行政區":"鼓山區","買賣實際件數分區統計":723,"戶數":60332},{"行政區":"旗山區","買賣實際件數分區統計":128,"戶數":13696},{"行政區":"旗津區","買賣實際件數分區統計":13,"戶數":10937},{"行政區":"鳳山區","買賣實際件數分區統計":510,"戶數":145997},{"行政區":"橋頭區","買賣實際件數分區統計":641,"戶數":15850},{"行政區":"燕巢區","買賣實際件數分區統計":169,"戶數":10800},{"行政區":"彌陀區","買賣實際件數分區統計":46,"戶數":6837},{"行政區":"鹽埕區","買賣實際件數分區統計":81,"戶數":10809}],"graphs":[{"animationPlayed":{"allLabels":[],"arrows":[],"axes":[],"balloon":[],"categoryAxis":{"title":"","axisAlpha":0,"gridAlpha":0,"parseDates":false,"minPeriod":"","gridPosition":"start"},"categoryField":"行政區","chartCursor":[],"chartScrollbar":[],"creditsPosition":[],"dataProvider":[{"行政區":"三民區","買賣實際件數分區統計":1448,"戶數":139637},{"行政區":"大社區","買賣實際件數分區統計":192,"戶數":13431},{"行政區":"大寮區","買賣實際件數分區統計":729,"戶數":43827},{"行政區":"大樹區","買賣實際件數分區統計":52,"戶數":14002},{"行政區":"小港區","買賣實際件數分區統計":475,"戶數":69609},{"行政區":"仁武區","買賣實際件數分區統計":711,"戶數":37968},{"行政區":"內門區","買賣實際件數分區統計":43,"戶數":5120},{"行政區":"六龜區","買賣實際件數分區統計":24,"戶數":5448},{"行政區":"左營區","買賣實際件數分區統計":1191,"戶數":81768},{"行政區":"永安區","買賣實際件數分區統計":26,"戶數":5778},{"行政區":"田寮區","買賣實際件數分區統計":27,"戶數":3106},{"行政區":"甲仙區","買賣實際件數分區統計":11,"戶數":2299},{"行政區":"杉林區","買賣實際件數分區統計":60,"戶數":4748},{"行政區":"那瑪夏區","買賣實際件數分區統計":4,"戶數":866},{"行政區":"岡山區","買賣實際件數分區統計":275,"戶數":35658},{"行政區":"林園區","買賣實際件數分區統計":256,"戶數":26997},{"行政區":"阿蓮區","買賣實際件數分區統計":88,"戶數":9498},{"行政區":"前金區","買賣實際件數分區統計":242,"戶數":13179},{"行政區":"前鎮區","買賣實際件數分區統計":803,"戶數":79596},{"行政區":"美濃區","買賣實際件數分區統計":121,"戶數":14962},{"行政區":"苓雅區","買賣實際件數分區統計":885,"戶數":73197},{"行政區":"茄萣區","買賣實際件數分區統計":63,"戶數":10723},{"行政區":"桃源區","買賣實際件數分區統計":5,"戶數":1361},{"行政區":"梓官區","買賣實際件數分區統計":99,"戶數":12994},{"行政區":"鳥松區","買賣實際件數分區統計":197,"戶數":19316},{"行政區":"湖內區","買賣實際件數分區統計":154,"戶數":11225},{"行政區":"新興區","買賣實際件數分區統計":197,"戶數":23180},{"行政區":"楠梓區","買賣實際件數分區統計":1124,"戶數":75848},{"行政區":"路竹區","買賣實際件數分區統計":132,"戶數":17423},{"行政區":"鼓山區","買賣實際件數分區統計":723,"戶數":60332},{"行政區":"旗山區","買賣實際件數分區統計":128,"戶數":13696},{"行政區":"旗津區","買賣實際件數分區統計":13,"戶數":10937},{"行政區":"鳳山區","買賣實際件數分區統計":510,"戶數":145997},{"行政區":"橋頭區","買賣實際件數分區統計":641,"戶數":15850},{"行政區":"燕巢區","買賣實際件數分區統計":169,"戶數":10800},{"行政區":"彌陀區","買賣實際件數分區統計":46,"戶數":6837},{"行政區":"鹽埕區","買賣實際件數分區統計":81,"戶數":10809}],"graphs":[],"graph":[],"guides":[],"legend":[],"segmentsField":[],"subChartProperties":[],"theme":[],"titles":[],"trendLines":[],"type":"serial","valueAxes":[{"position":"left","stackType":"none","strictMinMax":false,"title":""}],"valueAxis":[],"valueScrollbar":[],"value":[],"listeners":[],"otherProperties":{"rotate":false,"depth3D":0,"angle":0},"class":"AmChart"},"id":"AmGraph-1","fillColors":"#67b7dc","legendColor":"#67b7dc","fillAlphas":0.85,"lineAlpha":0.1,"labelText":"","balloonText":"買賣實際件數分區統計: [[value]]","title":"買賣實際件數分區統計","type":"column","valueField":"買賣實際件數分區統計"},{"animationPlayed":{"allLabels":[],"arrows":[],"axes":[],"balloon":[],"categoryAxis":{"title":"","axisAlpha":0,"gridAlpha":0,"parseDates":false,"minPeriod":"","gridPosition":"start"},"categoryField":"行政區","chartCursor":[],"chartScrollbar":[],"creditsPosition":[],"dataProvider":[{"行政區":"三民區","買賣實際件數分區統計":1448,"戶數":139637},{"行政區":"大社區","買賣實際件數分區統計":192,"戶數":13431},{"行政區":"大寮區","買賣實際件數分區統計":729,"戶數":43827},{"行政區":"大樹區","買賣實際件數分區統計":52,"戶數":14002},{"行政區":"小港區","買賣實際件數分區統計":475,"戶數":69609},{"行政區":"仁武區","買賣實際件數分區統計":711,"戶數":37968},{"行政區":"內門區","買賣實際件數分區統計":43,"戶數":5120},{"行政區":"六龜區","買賣實際件數分區統計":24,"戶數":5448},{"行政區":"左營區","買賣實際件數分區統計":1191,"戶數":81768},{"行政區":"永安區","買賣實際件數分區統計":26,"戶數":5778},{"行政區":"田寮區","買賣實際件數分區統計":27,"戶數":3106},{"行政區":"甲仙區","買賣實際件數分區統計":11,"戶數":2299},{"行政區":"杉林區","買賣實際件數分區統計":60,"戶數":4748},{"行政區":"那瑪夏區","買賣實際件數分區統計":4,"戶數":866},{"行政區":"岡山區","買賣實際件數分區統計":275,"戶數":35658},{"行政區":"林園區","買賣實際件數分區統計":256,"戶數":26997},{"行政區":"阿蓮區","買賣實際件數分區統計":88,"戶數":9498},{"行政區":"前金區","買賣實際件數分區統計":242,"戶數":13179},{"行政區":"前鎮區","買賣實際件數分區統計":803,"戶數":79596},{"行政區":"美濃區","買賣實際件數分區統計":121,"戶數":14962},{"行政區":"苓雅區","買賣實際件數分區統計":885,"戶數":73197},{"行政區":"茄萣區","買賣實際件數分區統計":63,"戶數":10723},{"行政區":"桃源區","買賣實際件數分區統計":5,"戶數":1361},{"行政區":"梓官區","買賣實際件數分區統計":99,"戶數":12994},{"行政區":"鳥松區","買賣實際件數分區統計":197,"戶數":19316},{"行政區":"湖內區","買賣實際件數分區統計":154,"戶數":11225},{"行政區":"新興區","買賣實際件數分區統計":197,"戶數":23180},{"行政區":"楠梓區","買賣實際件數分區統計":1124,"戶數":75848},{"行政區":"路竹區","買賣實際件數分區統計":132,"戶數":17423},{"行政區":"鼓山區","買賣實際件數分區統計":723,"戶數":60332},{"行政區":"旗山區","買賣實際件數分區統計":128,"戶數":13696},{"行政區":"旗津區","買賣實際件數分區統計":13,"戶數":10937},{"行政區":"鳳山區","買賣實際件數分區統計":510,"戶數":145997},{"行政區":"橋頭區","買賣實際件數分區統計":641,"戶數":15850},{"行政區":"燕巢區","買賣實際件數分區統計":169,"戶數":10800},{"行政區":"彌陀區","買賣實際件數分區統計":46,"戶數":6837},{"行政區":"鹽埕區","買賣實際件數分區統計":81,"戶數":10809}],"graphs":[],"graph":[],"guides":[],"legend":[],"segmentsField":[],"subChartProperties":[],"theme":[],"titles":[],"trendLines":[],"type":"serial","valueAxes":[{"position":"left","stackType":"none","strictMinMax":false,"title":""}],"valueAxis":[],"valueScrollbar":[],"value":[],"listeners":[],"otherProperties":{"rotate":false,"depth3D":0,"angle":0},"class":"AmChart"},"id":"AmGraph-2","fillColors":"#fdd400","legendColor":"#fdd400","fillAlphas":0.85,"lineAlpha":0.1,"labelText":"","balloonText":"戶數: [[value]]","title":"戶數","type":"column","valueField":"戶數"}],"type":"serial","valueAxes":[{"position":"left","stackType":"none","strictMinMax":false,"title":""}]},"background":"#ffffff","listeners":null,"axes_listeners":null,"axes_listenersIndices":null,"categoryAxis_listeners":null,"chartCursor_listeners":null,"dataSetSelector_listeners":null,"legend_listeners":null,"panels_listeners":null,"panels_listenersIndices":null,"periodSelector_listeners":null,"valueAxes_listeners":null,"valueAxes_listenersIndices":[],"stockLegend_listeners":null,"group":null,"is_ts_module":false},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-2bffc1fe05e09bbefb0b">{"viewer":{"width":"100%","height":350,"padding":15,"fill":false},"browser":{"width":"100%","height":500,"padding":40,"fill":false}}</script>
</body>
</html>
